{
  "schema_id": "dominium.testx.capability_matrix",
  "schema_version": "1.0.0",
  "capability_sets": [
    {
      "bundle_id": "CAPSET_WORLD_NONBIO",
      "fixture": "tests/fixtures/worlds/stage_0_nonbio/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_0_nonbio/test_load_and_validate.py",
        "tests/testx/stages/stage_0_nonbio/test_command_surface.py",
        "tests/testx/stages/stage_0_nonbio/test_pack_gating.py",
        "tests/testx/stages/stage_0_nonbio/test_epistemics.py",
        "tests/testx/stages/stage_0_nonbio/test_determinism_smoke.py",
        "tests/testx/stages/stage_0_nonbio/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio"
      ],
      "expected_enabled_command_families": [],
      "expected_disabled_command_families": [
        "life",
        "tooling",
        "institutions",
        "industry",
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_WORLD_LIFE_NONINTELLIGENT",
      "fixture": "tests/fixtures/worlds/stage_1_nonintelligent_life/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_1_nonintelligent_life/test_load_and_validate.py",
        "tests/testx/stages/stage_1_nonintelligent_life/test_command_surface.py",
        "tests/testx/stages/stage_1_nonintelligent_life/test_pack_gating.py",
        "tests/testx/stages/stage_1_nonintelligent_life/test_epistemics.py",
        "tests/testx/stages/stage_1_nonintelligent_life/test_determinism_smoke.py",
        "tests/testx/stages/stage_1_nonintelligent_life/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent"
      ],
      "expected_enabled_command_families": [
        "life"
      ],
      "expected_disabled_command_families": [
        "tooling",
        "institutions",
        "industry",
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_WORLD_LIFE_INTELLIGENT",
      "fixture": "tests/fixtures/worlds/stage_2_intelligent_pre_tool/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_load_and_validate.py",
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_command_surface.py",
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_pack_gating.py",
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_epistemics.py",
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_determinism_smoke.py",
        "tests/testx/stages/stage_2_intelligent_pre_tool/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent",
        "dominium.capability.world.life.intelligent"
      ],
      "expected_enabled_command_families": [
        "life",
        "tooling"
      ],
      "expected_disabled_command_families": [
        "institutions",
        "industry",
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_WORLD_PRETOOL",
      "fixture": "tests/fixtures/worlds/stage_3_pre_tool_world/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_3_pre_tool_world/test_load_and_validate.py",
        "tests/testx/stages/stage_3_pre_tool_world/test_command_surface.py",
        "tests/testx/stages/stage_3_pre_tool_world/test_pack_gating.py",
        "tests/testx/stages/stage_3_pre_tool_world/test_epistemics.py",
        "tests/testx/stages/stage_3_pre_tool_world/test_determinism_smoke.py",
        "tests/testx/stages/stage_3_pre_tool_world/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent",
        "dominium.capability.world.life.intelligent",
        "dominium.capability.world.pretool"
      ],
      "expected_enabled_command_families": [
        "life",
        "tooling"
      ],
      "expected_disabled_command_families": [
        "institutions",
        "industry",
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_SOCIETY_INSTITUTIONS",
      "fixture": "tests/fixtures/worlds/stage_4_pre_industry/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_4_pre_industry/test_load_and_validate.py",
        "tests/testx/stages/stage_4_pre_industry/test_command_surface.py",
        "tests/testx/stages/stage_4_pre_industry/test_pack_gating.py",
        "tests/testx/stages/stage_4_pre_industry/test_epistemics.py",
        "tests/testx/stages/stage_4_pre_industry/test_determinism_smoke.py",
        "tests/testx/stages/stage_4_pre_industry/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent",
        "dominium.capability.world.life.intelligent",
        "dominium.capability.world.pretool",
        "dominium.capability.society.institutions"
      ],
      "expected_enabled_command_families": [
        "life",
        "tooling",
        "institutions"
      ],
      "expected_disabled_command_families": [
        "industry",
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_INFRASTRUCTURE_INDUSTRY",
      "fixture": "tests/fixtures/worlds/stage_5_pre_present/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_5_pre_present/test_load_and_validate.py",
        "tests/testx/stages/stage_5_pre_present/test_command_surface.py",
        "tests/testx/stages/stage_5_pre_present/test_pack_gating.py",
        "tests/testx/stages/stage_5_pre_present/test_epistemics.py",
        "tests/testx/stages/stage_5_pre_present/test_determinism_smoke.py",
        "tests/testx/stages/stage_5_pre_present/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent",
        "dominium.capability.world.life.intelligent",
        "dominium.capability.world.pretool",
        "dominium.capability.society.institutions",
        "dominium.capability.infrastructure.industry"
      ],
      "expected_enabled_command_families": [
        "life",
        "tooling",
        "institutions",
        "industry"
      ],
      "expected_disabled_command_families": [
        "future"
      ],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    },
    {
      "bundle_id": "CAPSET_FUTURE_AFFORDANCES",
      "fixture": "tests/fixtures/worlds/stage_6_future/world_stage.json",
      "required_test_suites": [
        "test_load_and_validate",
        "test_command_surface",
        "test_pack_gating",
        "test_epistemics",
        "test_determinism_smoke",
        "test_replay_hash"
      ],
      "tests": [
        "tests/testx/stages/stage_6_future/test_load_and_validate.py",
        "tests/testx/stages/stage_6_future/test_command_surface.py",
        "tests/testx/stages/stage_6_future/test_pack_gating.py",
        "tests/testx/stages/stage_6_future/test_epistemics.py",
        "tests/testx/stages/stage_6_future/test_determinism_smoke.py",
        "tests/testx/stages/stage_6_future/test_replay_hash.py"
      ],
      "provided_capabilities": [
        "dominium.capability.world.nonbio",
        "dominium.capability.world.life.nonintelligent",
        "dominium.capability.world.life.intelligent",
        "dominium.capability.world.pretool",
        "dominium.capability.society.institutions",
        "dominium.capability.infrastructure.industry",
        "dominium.capability.future.affordances"
      ],
      "expected_enabled_command_families": [
        "life",
        "tooling",
        "institutions",
        "industry",
        "future"
      ],
      "expected_disabled_command_families": [],
      "expected_pack_acceptance": "requires_capabilities subset",
      "expected_pack_refusal": "missing capability -> REFUSE_CAPABILITY_MISSING",
      "determinism_expectation": "hash-stable command and replay contracts",
      "epistemic_expectation": "no omniscient disclosure; scopes respected"
    }
  ],
  "regression_tests": [
    "tests/testx/stage_regression/test_no_life_without_capability.py",
    "tests/testx/stage_regression/test_no_tools_without_capability.py",
    "tests/testx/stage_regression/test_no_industry_without_capability.py",
    "tests/testx/stage_regression/test_no_future_without_capability.py"
  ]
}
