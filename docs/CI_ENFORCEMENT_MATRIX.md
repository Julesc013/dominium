# CI Enforcement Matrix (ENF0)

This matrix defines mandatory, mechanical CI enforcement for architectural law.
All failures are merge-blocking.

## Enforcement Table

| ID | Description | Enforcement Mechanism | Stage | Failure Mode | Remediation | Rationale |
| --- | --- | --- | --- | --- | --- | --- |
| ARCH-TOP-001 | Top-level `source/`, `src/`, `common_source/` are FORBIDDEN. | Repo layout lint (tools/ci/arch_checks.py) | Configure | CI fail: ARCH-TOP-001 | Remove or relocate the directory into a canonical top-level domain. | Prevents ambiguous ownership and drift. |
| ARCH-OWN-002 | `engine/` and `game/` responsibilities MUST NOT be merged. | Repo layout + target graph check | Configure | CI fail: ARCH-OWN-002 | Split responsibilities and restore separation between engine and game targets. | Preserves core layering and portability. |
| ARCH-DEP-001 | `engine/` MUST NOT reference or link `game/`, `launcher/`, `setup/`, or `tools/`. | Target graph rule + static scan (tools/ci/arch_checks.py) | Configure | CI fail: ARCH-DEP-001 | Remove forbidden references and use engine public APIs only. | Keeps engine as the dependency root. |
| ARCH-DEP-002 | `game/` MAY depend only on `engine/`. | Target graph rule in CMake | Configure | CI fail: ARCH-DEP-002 | Remove illegal dependencies and rewire through engine public APIs. | Maintains clear ownership of rules. |
| ARCH-DEP-003 | `client/` MAY depend only on `engine/` and `game/`. | Target graph rule in CMake | Configure | CI fail: ARCH-DEP-003 | Remove illegal dependencies and use engine/game public APIs. | Prevents client coupling to tools or setup. |
| ARCH-DEP-004 | `server/` MAY depend only on `engine/` and `game/`. | Target graph rule in CMake | Configure | CI fail: ARCH-DEP-004 | Remove illegal dependencies and use engine/game public APIs. | Keeps server authoritative and focused. |
| ARCH-DEP-005 | `tools/` MAY depend only on `engine/` and `game/`. | Target graph rule in CMake | Configure | CI fail: ARCH-DEP-005 | Remove illegal dependencies and use engine/game public APIs. | Avoids tool-to-runtime coupling. |
| ARCH-DEP-006 | `launcher/` and `setup/` MAY depend only on `libs/` and `schema/`. | Target graph rule in CMake | Configure | CI fail: ARCH-DEP-006 | Remove engine/game dependencies and use schema contracts only. | Keeps operational tools separate from runtime. |
| ARCH-INC-001 | `game/` includes from `engine/modules/**` or platform headers are FORBIDDEN. | Compile-time include guard + static scan (tools/ci/arch_checks.py) | Build | CI fail: ARCH-INC-001 | Replace with `engine/include/**` public headers; remove platform headers from game. | Enforces API boundaries. |
| ARCH-INC-002 | `client/`, `server/`, `tools/` include from `engine/modules/**` are FORBIDDEN. | Compile-time include guard + static scan (tools/ci/arch_checks.py) | Build | CI fail: ARCH-INC-002 | Replace with `engine/include/**` public headers. | Protects internal engine modules. |
| ARCH-INC-003 | Public headers MUST live in `engine/include/**` only. | CMake configure-time public-include assertion (`domino_engine`) | Configure | CI fail: ARCH-INC-003 | Move or re-export headers via `engine/include/**`. | Prevents accidental API exposure. |
| ARCH-RENDER-001 | Renderer-specific code outside `engine/render/**` is FORBIDDEN. | Path-based static scan (tools/ci/arch_checks.py) | Configure | CI fail: ARCH-RENDER-001 | Move code into `engine/render/**` and expose public API. | Centralizes renderer ownership. |
| ARCH-REN-002 | `game/` MUST NOT branch on graphics APIs. | Static scan for backend tokens | Configure | CI fail: ARCH-REN-002 | Move backend choice to engine render layer. | Keeps game logic renderer-agnostic. |
| ARCH-REN-003 | `client/` MUST NOT own renderer backends. | Target graph + path scan | Configure | CI fail: ARCH-REN-003 | Relocate backend code to `engine/render/**`. | Prevents client-only renderer forks. |
| REND-DIR-001 | Backend directories outside `engine/render/backends/**` are FORBIDDEN. | Path-based scan (future hook) | Configure | CI fail: REND-DIR-001 | Move backend code under `engine/render/backends/**`. | Enforces renderer ownership boundaries. |
| REND-DIR-002 | Capability-named backend folders are FORBIDDEN (`implicit/`, `legacy/`, etc.). | Path-based scan (future hook) | Configure | CI fail: REND-DIR-002 | Use renderer identity folders only. | Prevents capability-based layout drift. |
| REND-DIR-003 | Version bucket folders are FORBIDDEN (`gl2_3/`, `metal3_4/`, etc.). | Path-based scan (future hook) | Configure | CI fail: REND-DIR-003 | Encode versions via RenderCaps, not folders. | Keeps folder identity stable. |
| REND-API-001 | `game/` references backend headers or API types are FORBIDDEN. | Static scan (future hook) | Configure | CI fail: REND-API-001 | Route through engine render API only. | Preserves engine/game boundary. |
| REND-LEG-001 | Fixed-function backends MUST NOT modify core contracts. | Forbidden-include scan (future hook) | Configure | CI fail: REND-LEG-001 | Keep legacy backends as sinks only. | Prevents legacy-driven abstraction creep. |
| REND-FEAT-001 | Feature modules missing requires/fallback/cost are FORBIDDEN. | Feature validator (future hook) | Configure | CI fail: REND-FEAT-001 | Add required declarations. | Enforces scalable content. |
| REND-DET-001 | Renderer writes to authoritative state or hashes are FORBIDDEN. | Determinism test (future hook) | Test | CI fail: REND-DET-001 | Remove render feedback into sim state. | Protects determinism. |
| ARCH-SETUP-001 | `launcher/` or `setup/` depending on engine internals is FORBIDDEN. | Target graph rule in CMake | Configure | CI fail: ARCH-SETUP-001 | Remove the dependency and use `libs/` or `schema/`. | Avoids coupling operational tools to runtime. |
| DET-FLOAT-003 | Floating point usage or math headers in authoritative zones are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: DET-FLOAT-003 | Replace with deterministic fixed-point or approved math. | Prevents nondeterministic math. |
| DET-TIME-001 | OS time APIs in authoritative zones are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: DET-TIME-001 | Use ACT time and deterministic scheduling only. | Eliminates wall-clock variance. |
| DET-RNG-002 | Non-deterministic RNG in authoritative zones is FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: DET-RNG-002 | Use engine deterministic RNG only. | Ensures replayable randomness. |
| DET-ORD-004 | Unordered container iteration without normalization is FORBIDDEN. | Lint + static scan (tools/ci/arch_checks.py) | Configure | CI fail: DET-ORD-004 | Normalize ordering or use ordered containers. | Removes hash-order variance. |
| DET-ORDER-TEST-001 | Event queue ordering is deterministic under permuted insertions. | CTest `engine_det_order` | Test | CI fail: DET-ORDER-TEST-001 | Fix event queue ordering or tie-break keys. | Prevents event scheduling drift. |
| DET-ORDER-TEST-002 | Ledger obligation ordering is deterministic under permuted insertions. | CTest `engine_det_order` | Test | CI fail: DET-ORDER-TEST-002 | Ensure obligation order key uses stable IDs. | Preserves ledger determinism. |
| DET-ORDER-TEST-003 | Interest set ordering is deterministic under permuted insertions. | CTest `engine_det_order` | Test | CI fail: DET-ORDER-TEST-003 | Normalize interest volumes by canonical keys. | Preserves interest-set determinism. |
| DET-THREAD-005 | Nondeterministic shared mutable state is FORBIDDEN. | Threading lint + race-focused tests | Test | CI fail: DET-THREAD-005 | Add deterministic scheduling or remove shared writes. | Prevents race-driven divergence. |
| DET-GATE-STEP-001 | Step vs batch equivalence MUST hold. | Determinism test suite | Test | CI fail: DET-GATE-STEP-001 | Fix update order or accumulation errors. | Ensures execution-mode equivalence. |
| DET-GATE-REPLAY-002 | Replay equivalence MUST hold. | Replay determinism suite | Test | CI fail: DET-GATE-REPLAY-002 | Remove nondeterministic inputs or ordering. | Protects replay and auditability. |
| DET-GATE-LOCKSTEP-003 | Lockstep vs server-auth equivalence MUST hold. | Network determinism suite | Test | CI fail: DET-GATE-LOCKSTEP-003 | Align authoritative rules and client prediction. | Maintains network determinism. |
| DET-GATE-HASH-004 | Hash partition invariance MUST hold. | Shard invariance suite | Test | CI fail: DET-GATE-HASH-004 | Normalize partition ordering and hash inputs. | Preserves sharding correctness. |
| DET-EXC-006 | Determinism exceptions are FORBIDDEN. | Policy scan for exception tags | Configure | CI fail: DET-EXC-006 | Remove the exception and fix root determinism issue. | Prevents erosion of determinism law. |
| DET-G1 | Step vs batch equivalence MUST hold. | Determinism suite (DET0 matrix) | Test | CI fail: DET-G1 | Fix update order or batch stepping logic. | Ensures step and batch equivalence. |
| DET-G2 | Replay equivalence MUST hold. | Replay determinism suite (DET0 matrix) | Test | CI fail: DET-G2 | Fix nondeterministic inputs or ordering. | Protects replay fidelity. |
| DET-G3 | Lockstep parity MUST hold. | Lockstep determinism suite (DET0 matrix) | Test | CI fail: DET-G3 | Align peer ordering and sync rules. | Preserves lockstep convergence. |
| DET-G4 | Server-auth parity MUST hold. | Server-auth determinism suite (DET0 matrix) | Test | CI fail: DET-G4 | Fix authoritative state divergence. | Preserves server authority. |
| DET-G5 | No float/OS time/nondeterministic RNG in authoritative dirs. | Static scan + compile checks | Configure | CI fail: DET-G5 | Remove forbidden constructs in authoritative paths. | Prevents nondeterministic inputs. |
| DET-G6 | Canonical ordering under permuted insertions MUST hold. | Ordering invariance suite | Test | CI fail: DET-G6 | Normalize container ordering. | Prevents order-dependent divergence. |
| PERF-GLOBAL-002 | Global iteration in runtime update paths is FORBIDDEN. | Lint (tools/ci/arch_checks.py) + fixture test | Test | CI fail: PERF-GLOBAL-002 | Convert to event-driven, interest-set bounded processing. | Avoids O(N) frame scaling. |
| PERF-EVT-001 | Macro scheduler processes only due entries (latent universe stays bounded). | CTest `engine_due_sched` | Test | CI fail: PERF-EVT-001 | Register macro objects with due scheduler; avoid global sweeps. | Keeps idle universe near-zero cost. |
| PERF-EVT-002 | Deterministic ordering for due-event processing is enforced. | CTest `engine_due_sched` | Test | CI fail: PERF-EVT-002 | Provide stable keys and deterministic queues. | Prevents order-dependent divergence. |
| PERF-IOBAN-001 | Render/UI thread IO is FORBIDDEN. | Runtime guard + CTest `engine_perf_no_modal` | Test | CI fail: PERF-IOBAN-001 | Move IO to derived jobs; keep UI/render thread no-block. | Prevents blocking IO hitches. |
| PERF-MODAL-001 | Blocking IO on render/UI threads is FORBIDDEN. | Runtime trace + watchdog | Test | CI fail: PERF-MODAL-001 | Move IO to background jobs and stream results. | Prevents hitches and stalls. |
| PERF-SHADER-002 | Shader compilation on demand is FORBIDDEN. | Runtime trace + build audit | Test | CI fail: PERF-SHADER-002 | Precompile shaders or compile during preload. | Avoids runtime shader stalls. |
| PERF-ASSET-003 | Synchronous asset decode on render/UI threads is FORBIDDEN. | Runtime trace | Test | CI fail: PERF-ASSET-003 | Decode asynchronously and cache results. | Keeps UI smooth under load. |
| PERF-STALL-001 | Stall watchdog thresholds are FORBIDDEN to exceed. | Runtime watchdog + CTest `engine_perf_no_modal` | Test | CI fail: PERF-STALL-001 | Reduce stalls or move work off render/UI threads. | Enforces frame budget ceilings. |
| PERF-STALL-004 | Stall watchdog thresholds MUST NOT be exceeded. | Perf regression test | Test | CI fail: PERF-STALL-004 | Reduce stalls or move work off render/UI threads. | Enforces predictable frame budgets. |
| PERF-PROFILE-001 | PERF3 fixtures MUST emit telemetry and required metrics. | CTest `engine_perf_budget_fixture` + tools/ci/perf_budget_check.py | Test | CI fail: PERF-PROFILE-001 | Ensure profiling is enabled and metrics are recorded per lane. | Keeps telemetry consistent and parseable. |
| PERF-FID-005 | Forbidden fidelity degradation is FORBIDDEN. | Scenario tests + invariants | Test | CI fail: PERF-FID-005 | Use only approved degradation mechanisms. | Protects authoritative state integrity. |
| PERF-STREAM-001 | Streaming budgets MUST NOT be exceeded. | Runtime budget check | Test | CI fail: PERF-STREAM-001 | Reduce per-frame IO/decode/job costs. | Keeps streaming bounded. |
| PERF-BUDGET-001 | Tier performance budgets MUST NOT be exceeded. | PERF3 fixture regression | Test | CI fail: PERF-BUDGET-001 | Optimize hot paths or reduce workload. | Enforces tier targets. |
| PERF-BUDGET-002 | Tier performance budgets MUST NOT be exceeded. | tools/ci/perf_budget_check.py against PERF3 reports | Test | CI fail: PERF-BUDGET-002 | Optimize workloads or update PERF_BUDGETS.md thresholds with approval. | Prevents performance regression drift. |
| SCALE-SHARD-001 | Single-writer shard authority is REQUIRED. | Policy/spec lint (SCALE0) | Configure | CI fail: SCALE-SHARD-001 | Define shard authority domains with exactly one writer. | Prevents authority drift and nondeterminism. |
| SCALE-MSG-002 | Cross-shard interaction MUST use scheduled messages only. | Policy/spec lint (SCALE0) | Configure | CI fail: SCALE-MSG-002 | Use deterministic cross-shard messages with arrival_tick/order_key. | Eliminates hidden cross-shard access. |
| SCALE-CLOCK-003 | Per-shard clocks or drift are FORBIDDEN. | Policy/spec lint (SCALE0) | Configure | CI fail: SCALE-CLOCK-003 | Ensure all shards share ACT; pace via batching only. | Preserves determinism across shards. |
| SCALE-INT-001 | Macro/meso update paths MUST accept an InterestSet parameter. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: SCALE-INT-001 | Add dom_interest_set parameters and use them for iteration. | Enforces interest-driven processing. |
| SCALE-INT-002 | Camera/view-driven activation in authoritative code is FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: SCALE-INT-002 | Use explicit interest sources; do not activate simulation from camera/view state. | Prevents UI-driven simulation activation. |
| SCALE-FID-001 | Direct spawn/despawn/destroy patterns outside fidelity interfaces are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: SCALE-FID-001 | Route lifecycle changes through dom_fidelity request/apply interfaces. | Prevents ad-hoc entity lifecycle changes. |
| SCALE-FID-002 | Ad-hoc approximation/LOD shortcuts in authoritative code are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: SCALE-FID-002 | Use fidelity projection refine/collapse paths with provenance preservation. | Prevents non-provenanced simplification. |
| SCALE-INT-TEST-001 | Interest sets are deterministic, bounded, and hysteretic. | CTest `dominium_interest` | Test | CI fail: SCALE-INT-TEST-001 | Fix interest-set aggregation, ordering, or hysteresis policy. | Verifies interest set determinism and bounded processing. |
| SCALE-FID-TEST-001 | Fidelity transitions preserve provenance and continuity. | CTest `dominium_fidelity` | Test | CI fail: SCALE-FID-TEST-001 | Fix refine/collapse transitions and provenance preservation. | Verifies fidelity continuity and refusal rules. |
| DATA-SCHEMA-001 | Schema files missing required version metadata are FORBIDDEN. | `data_validate` CLI + `engine_data_validate` CTest | Configure | CI fail: DATA-SCHEMA-001 | Add schema_id, schema_version, and stability fields. | Prevents unversioned data formats. |
| DATA-SCHEMA-002 | Invalid schema version progression is FORBIDDEN. | `data_validate` CLI + `engine_data_validate` CTest | Configure | CI fail: DATA-SCHEMA-002 | Fix version bump rules or add migration/refusal. | Enforces semantic version law. |
| DATA-VALID-001 | Structural schema validation failure is FORBIDDEN. | `data_validate` CLI + `engine_data_validate` CTest | Configure | CI fail: DATA-VALID-001 | Fix structural errors (types/ranges/required fields). | Ensures load safety. |
| DATA-VALID-002 | Determinism/performance schema rule violation is FORBIDDEN. | `data_validate` CLI + `engine_data_validate` CTest | Configure | CI fail: DATA-VALID-002 | Remove nondeterministic or unbounded constructs. | Protects determinism and performance. |
| DATA-MIGRATE-001 | Missing migration for MAJOR schema bump is FORBIDDEN. | `data_validate` CLI + `engine_data_validate` CTest | Configure | CI fail: DATA-MIGRATE-001 | Add explicit version-to-version migration or refuse. | Prevents silent breaking changes. |
| GOV-VAL-001 | Unified governance validator MUST pass (schema metadata + determinism safety). | `tools/validation/validate_all` | Configure | CI fail: GOV-VAL-001 | Add Status/Version metadata; remove float schema fields. | Prevents unversioned or nondeterministic schema drift. |
| GOV-VAL-REND-002 | Rendering canon violations are FORBIDDEN (backend dirs + API refs in game). | `tools/validation/validate_all` | Configure | CI fail: GOV-VAL-REND-002 | Move backends under `engine/render/backends/**`; remove backend API usage in game. | Enforces REND0 rendering canon. |
| GOV-VAL-EPIS-003 | Epistemic UI boundary violations are FORBIDDEN. | `tools/validation/validate_all` | Configure | CI fail: GOV-VAL-EPIS-003 | Use EIL/capability snapshots; remove authoritative includes/calls in UI/tools. | Prevents UI bypass of knowledge gates. |
| GOV-VAL-PROV-004 | Provenance / non-fabrication violations are FORBIDDEN. | `tools/validation/validate_all` | Configure | CI fail: GOV-VAL-PROV-004 | Remove fabrication markers; require provenance-backed construction. | Enforces FP1 non-fabrication law. |
| GOV-VAL-PERF-005 | Performance schema violations are FORBIDDEN (unbounded lists, missing fallbacks). | `tools/validation/validate_all` | Configure | CI fail: GOV-VAL-PERF-005 | Add bounded sizes and render feature requires/fallback/cost. | Prevents unbounded or non-scalable content. |
| PH6-AUDIT-001 | Phase 6 audit gates MUST pass (docs, CI IDs, test assets). | `tools/ci/phase6_audit_checks.py` (CTest `phase6_audit`) | Test | CI fail: PH6-AUDIT-001 | Restore required Phase 6 docs/tests and CI matrix IDs. | Ensures Phase 6 coverage stays complete. |
| PERF-NOMODAL-001 | Modal loading is FORBIDDEN. | Runtime trace + watchdog | Test | CI fail: PERF-NOMODAL-001 | Move work to async pipelines. | Eliminates blocking loads. |
| UI-BYPASS-001 | UI code reading authoritative world state is FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: UI-BYPASS-001 | Route UI through authorized projection layers. | Preserves epistemic separation. |
| EPIS-BYPASS-001 | UI includes authoritative headers are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) + CTest `dominium_epistemic_ui_bypass` | Test | CI fail: EPIS-BYPASS-001 | Include EIL/capability snapshot headers only. | Blocks direct sim access from UI zones. |
| EPIS-API-002 | UI calls forbidden sim/world APIs are FORBIDDEN. | Static scan (tools/ci/arch_checks.py) | Configure | CI fail: EPIS-API-002 | Route UI access through EIL only. | Prevents authoritative queries from UI. |
| EPIS-CAP-003 | UI displays info without capability justification is FORBIDDEN. | CTest `dominium_epistemic` | Test | CI fail: EPIS-CAP-003 | Use capability snapshots and epistemic queries for UI output. | Ensures UI reflects epistemic state only. |
| BUILD-GLOBAL-001 | `include_directories()` or `link_directories()` usage is FORBIDDEN. | Configure-time check (`scripts/verify_cmake_no_global_includes.py`) + arch_checks (link_directories) | Configure | CI fail: BUILD-GLOBAL-001 | Use target-scoped include/link directories only. | Prevents global include leakage. |
| LIFE-SPEC-001 | LIFE continuity spec is required. | Documentation gate (manual audit) | Docs | Audit fail: LIFE-SPEC-001 | Add/update `schema/life/SPEC_LIFE_CONTINUITY.md`. | Establishes person/body/controller canon. |
| LIFE-SPEC-002 | LIFE death and estate spec is required. | Documentation gate (manual audit) | Docs | Audit fail: LIFE-SPEC-002 | Add/update `schema/life/SPEC_DEATH_AND_ESTATE.md`. | Ensures deterministic death and estate creation. |
| LIFE-SPEC-003 | LIFE control authority spec is required. | Documentation gate (manual audit) | Docs | Audit fail: LIFE-SPEC-003 | Add/update `schema/life/SPEC_CONTROL_AUTHORITY.md`. | Defines control delegation and authority resolution. |
| LIFE-SPEC-004 | LIFE continuation policies spec is required. | Documentation gate (manual audit) | Docs | Audit fail: LIFE-SPEC-004 | Add/update `schema/life/SPEC_CONTINUATION_POLICIES.md`. | Defines S1â€“S4 continuation and ability packages. |
| LIFE-SPEC-005 | LIFE birth/lineage overview spec is required. | Documentation gate (manual audit) | Docs | Audit fail: LIFE-SPEC-005 | Add/update `schema/life/SPEC_BIRTH_LINEAGE_OVERVIEW.md`. | Reserves lineage schema and constraints for LIFE3. |
| LIFE-CONT-DET-001 | Continuation candidate selection MUST be deterministic. | CTest `dominium_life_continuation` | Test | CI fail: LIFE-CONT-DET-001 | Use stable ordering and tie-breaks (`person_id`, reason priority). | Prevents divergence across peers. |
| LIFE-CONT-AUTH-001 | Continuation MUST enforce control authority rules. | CTest `dominium_life_continuation` | Test | CI fail: LIFE-CONT-AUTH-001 | Require authority records before transferring control. | Prevents unauthorized control transfer. |
| LIFE-CONT-NOFAB-001 | Continuation MUST NOT fabricate persons or bodies. | CTest `dominium_life_continuation` | Test | CI fail: LIFE-CONT-NOFAB-001 | Use pending actions and explicit construction pipelines only. | Enforces provenance and no-fabrication law. |
| LIFE-DEATH-DET-001 | Death pipeline produces deterministic estate records. | CTest `dominium_life_death` | Test | CI fail: LIFE-DEATH-DET-001 | Sort account IDs and use stable IDs for death events and estates. | Prevents nondeterministic estate ordering. |
| LIFE-LEDGER-001 | Death MUST NOT change ledger balances. | CTest `dominium_life_death` | Test | CI fail: LIFE-LEDGER-001 | Keep balances intact; only change ownership relations. | Preserves ledger conservation. |
| LIFE-INH-SCHED-001 | Inheritance scheduling MUST fire at exact ACT ticks. | CTest `dominium_life_death` | Test | CI fail: LIFE-INH-SCHED-001 | Use ACT-based claim periods and due-event scheduling only. | Ensures batch vs step equivalence. |
| LIFE-ESTATE-AUTH-001 | Estate resolution requires explicit executor authority. | CTest `dominium_life_death` | Test | CI fail: LIFE-ESTATE-AUTH-001 | Refuse resolution without authority; do not transfer assets. | Prevents unauthorized estate execution. |
| LIFE-EPIS-001 | Death knowledge is not omniscient. | CTest `dominium_life_death` | Test | CI fail: LIFE-EPIS-001 | Emit death notices via explicit epistemic hooks only. | Enforces epistemic boundary. |
| LIFE-REPLAY-001 | Death/estate replay equivalence MUST hold. | CTest `dominium_life_death` | Test | CI fail: LIFE-REPLAY-001 | Ensure deterministic IDs and ordering for death and estate records. | Keeps replay stable. |
| LIFE-BIRTH-DET-001 | Birth scheduling MUST be deterministic. | CTest `dominium_life_birth` | Test | CI fail: LIFE-BIRTH-DET-001 | Use ACT-based gestation ticks and deterministic scheduling. | Prevents divergence in birth timing. |
| LIFE-BIRTH-RES-001 | Births MUST enforce resource constraints. | CTest `dominium_life_birth` | Test | CI fail: LIFE-BIRTH-RES-001 | Require food/shelter constraints before scheduling gestation. | Prevents fabricated population growth. |
| LIFE-LINEAGE-DET-001 | Lineage records MUST be deterministic. | CTest `dominium_life_birth` | Test | CI fail: LIFE-LINEAGE-DET-001 | Sort parent IDs and preserve certainty flags deterministically. | Keeps lineage stable across peers. |
| LIFE-COHORT-001 | Cohort/micro birth integration MUST preserve counts. | CTest `dominium_life_birth` | Test | CI fail: LIFE-COHORT-001 | Update cohorts only in macro mode; preserve counts across refinement. | Prevents population drift. |
| LIFE-BIRTH-EPIS-001 | Birth knowledge is not omniscient. | CTest `dominium_life_birth` | Test | CI fail: LIFE-BIRTH-EPIS-001 | Emit birth notices via explicit epistemic hooks only. | Enforces epistemic boundary. |
| LIFE-BIRTH-BATCH-001 | Gestation completion MUST be batch vs step equivalent. | CTest `dominium_life_birth` | Test | CI fail: LIFE-BIRTH-BATCH-001 | Use due-event scheduler with deterministic ordering. | Preserves determinism under batching. |
| CIV0a-EVENT-001 | Cohort consumption MUST be scheduled via next_due_tick. | CTest `dominium_civ0a_survival` | Test | CI fail: CIV0a-EVENT-001 | Use due-event scheduling; no per-tick scans. | Enforces event-driven survival loop. |
| CIV0a-NOGLOB-001 | Global cohort iteration in survival is FORBIDDEN. | CTest `dominium_civ0a_survival` | Test | CI fail: CIV0a-NOGLOB-001 | Process only due cohorts via scheduler. | Prevents O(N) survival ticks. |
| CIV0-NOGLOB-001 | Global iteration for population cohorts/households is FORBIDDEN. | CTest `dominium_civ0_population` | Test | CI fail: CIV0-NOGLOB-001 | Process only due cohorts/flows via scheduler. | Prevents population scaling with world size. |
| CIV0-NEXTDUE-001 | Population cohorts MUST provide next_due_tick for macro stepping. | CTest `dominium_civ0_population` | Test | CI fail: CIV0-NEXTDUE-001 | Register cohorts with due scheduler and set next_due_tick. | Enforces event-driven population updates. |
| CIV0-DET-001 | Population updates MUST be batch vs step equivalent. | CTest `dominium_civ0_population` | Test | CI fail: CIV0-DET-001 | Use deterministic ordering and ACT-based scheduling only. | Preserves determinism across stepping modes. |
| CIV1-PROD-DET-001 | Production outputs and timing MUST be deterministic. | CTest `dominium_civ1_city_infra` | Test | CI fail: CIV1-PROD-DET-001 | Ensure recipe ordering and stable machine scheduling. | Prevents production divergence. |
| CIV1-BATCH-001 | Production chains MUST be batch vs step equivalent. | CTest `dominium_civ1_city_infra` | Test | CI fail: CIV1-BATCH-001 | Use ACT-based scheduling and deterministic ordering. | Preserves step/batch equivalence. |
| CIV1-LOG-DET-001 | Logistics flow arrivals MUST be deterministic. | CTest `dominium_civ1_city_infra` | Test | CI fail: CIV1-LOG-DET-001 | Use scheduled arrivals and stable flow IDs. | Prevents logistics desync. |
| CIV1-NOGLOB-001 | Global iteration over machines/cities is FORBIDDEN. | CTest `dominium_civ1_city_infra` | Test | CI fail: CIV1-NOGLOB-001 | Process only due machines via scheduler. | Keeps infra scalable. |
| CIV1-FID-001 | Macro <-> micro totals MUST be preserved on collapse/refine. | CTest `dominium_civ1_city_infra` | Test | CI fail: CIV1-FID-001 | Preserve inventory totals and provenance summaries. | Prevents fidelity drift. |
| CIV2-JURIS-DET-001 | Jurisdiction creation MUST be deterministic. | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-JURIS-DET-001 | Use stable jurisdiction IDs and ordered registries. | Prevents governance divergence. |
| CIV2-NEXTDUE-001 | Governance MUST be event-driven (next_due_tick). | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-NEXTDUE-001 | Schedule policies and legitimacy updates via due scheduler. | Avoids global polity scans. |
| CIV2-LEGIT-DET-001 | Legitimacy updates MUST be deterministic and batch-safe. | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-LEGIT-DET-001 | Use scheduled legitimacy events only. | Preserves legitimacy determinism. |
| CIV2-POLICY-T4-001 | Policy schedules MUST be deterministic under T4 recurrence. | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-POLICY-T4-001 | Use ACT/T4 scheduling and stable ordering. | Prevents policy drift. |
| CIV2-STAND-RES-001 | Standards resolution order MUST be enforced. | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-STAND-RES-001 | Apply explicit -> org -> jurisdiction -> personal -> fallback order. | Ensures consistent standards. |
| CIV2-EPIS-001 | Policy knowledge MUST be epistemically gated. | CTest `dominium_civ2_governance` | Test | CI fail: CIV2-EPIS-001 | Use epistemic sets for policy visibility. | Prevents omniscient governance UI. |
| CIV3-RES-DET-001 | Research completion MUST be deterministic. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-RES-DET-001 | Use stable process IDs and deterministic completion order. | Prevents research divergence. |
| CIV3-BATCH-001 | Research scheduling MUST be batch vs step equivalent. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-BATCH-001 | Use ACT-based due scheduling only. | Preserves determinism under batching. |
| CIV3-DIFF-DET-001 | Knowledge diffusion delays MUST be deterministic. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-DIFF-DET-001 | Schedule diffusion by ACT and stable ordering keys. | Prevents diffusion desync. |
| CIV3-SECRECY-001 | Secrecy policies MUST gate diffusion deterministically. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-SECRECY-001 | Enforce explicit secrecy policies; block disallowed diffusion. | Prevents knowledge leaks. |
| CIV3-TECH-001 | Tech activation requires knowledge prerequisites and explicit acknowledgement. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-TECH-001 | Check prerequisites before activation and require explicit request. | Prevents implicit tech unlocks. |
| CIV3-NOGLOB-001 | Global iteration in knowledge/research/diffusion is FORBIDDEN. | CTest `dominium_civ3_knowledge` | Test | CI fail: CIV3-NOGLOB-001 | Process only due research/diffusion events via scheduler. | Keeps knowledge systems scalable. |
| CIV4-FLOW-DET-001 | Long-range shipment arrivals MUST be deterministic. | CTest `dominium_civ4_scale` | Test | CI fail: CIV4-FLOW-DET-001 | Use deterministic travel time and stable flow ordering. | Prevents logistics desync. |
| CIV4-BATCH-001 | Long-range travel MUST be batch vs step equivalent. | CTest `dominium_civ4_scale` | Test | CI fail: CIV4-BATCH-001 | Use ACT-based scheduling only; no per-tick drift. | Preserves determinism under batching. |
| CIV4-INT-001 | Interest-bound refinement across scales MUST be enforced. | CTest `dominium_civ4_scale` | Test | CI fail: CIV4-INT-001 | Require explicit interest bindings; avoid global activation. | Prevents accidental global simulation. |
| CIV4-WARP-001 | Scale-aware time warp MUST be deterministic. | CTest `dominium_civ4_scale` | Test | CI fail: CIV4-WARP-001 | Clamp warp by domain rules and interest caps. | Prevents warp desync. |
| CIV4-HANDOFF-001 | Cross-domain handoff ordering MUST be deterministic. | CTest `dominium_civ4_scale` | Test | CI fail: CIV4-HANDOFF-001 | Use stable keys and deterministic ordering at arrivals. | Prevents shard handoff divergence. |
| CIV5-WAR0-SPEC-001 | Conflict canon spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-001 | Add/update `schema/war/SPEC_CONFLICT_CANON.md`. | Defines deterministic conflict canon. |
| CIV5-WAR0-SPEC-002 | Security forces spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-002 | Add/update `schema/war/SPEC_SECURITY_FORCES.md`. | Defines force schema and constraints. |
| CIV5-WAR0-SPEC-003 | Engagements spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-003 | Add/update `schema/war/SPEC_ENGAGEMENTS.md`. | Defines deterministic engagement events. |
| CIV5-WAR0-SPEC-004 | Occupation and resistance spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-004 | Add/update `schema/war/SPEC_OCCUPATION_AND_RESISTANCE.md`. | Defines occupation/resistance model. |
| CIV5-WAR0-SPEC-005 | Interplanetary war spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-005 | Add/update `schema/war/SPEC_INTERPLANETARY_WAR.md`. | Defines multi-scale war model. |
| CIV5-WAR0-SPEC-006 | War schema index is required. | Documentation gate (manual audit) | Docs | Audit fail: CIV5-WAR0-SPEC-006 | Add/update `schema/war/README.md`. | Ensures war schema index and versioning. |
| CIV5-WAR1-MOB-DET-001 | Mobilization determinism MUST hold. | CTest `dominium_civ5_war1_security_force` | Test | CI fail: CIV5-WAR1-MOB-DET-001 | Fix force ID ordering, scheduling, or registry inserts. | Ensures deterministic mobilization. |
| CIV5-WAR1-NOFAB-002 | Mobilization MUST refuse missing population/equipment. | CTest `dominium_civ5_war1_security_force` | Test | CI fail: CIV5-WAR1-NOFAB-002 | Enforce population/equipment checks before creation. | Enforces non-fabrication law. |
| CIV5-WAR1-BATCH-003 | Readiness scheduling MUST be batch vs step equivalent. | CTest `dominium_civ5_war1_security_force` | Test | CI fail: CIV5-WAR1-BATCH-003 | Fix due-event ordering or event processing. | Preserves deterministic stepping. |
| CIV5-WAR1-DEMOB-004 | Demobilization MUST conserve population/equipment. | CTest `dominium_civ5_war1_security_force` | Test | CI fail: CIV5-WAR1-DEMOB-004 | Return cohorts and equipment to registries. | Prevents resource loss. |
| CIV5-WAR1-EPIS-005 | Security force visibility MUST be epistemically gated. | CTest `dominium_civ5_war1_security_force` | Test | CI fail: CIV5-WAR1-EPIS-005 | Use estimates when capability is absent. | Enforces epistemic boundary. |
| CIV5-WAR2-DET-001 | Engagement resolution MUST be deterministic. | CTest `dominium_civ5_war2_engagement` | Test | CI fail: CIV5-WAR2-DET-001 | Fix resolution ordering or outcome math. | Ensures deterministic engagement resolution. |
| CIV5-WAR2-BATCH-002 | Engagement scheduling MUST be batch vs step equivalent. | CTest `dominium_civ5_war2_engagement` | Test | CI fail: CIV5-WAR2-BATCH-002 | Fix due-event scheduling or resolution gating. | Preserves event-driven equivalence. |
| CIV5-WAR2-CAS-003 | Casualty conservation MUST hold. | CTest `dominium_civ5_war2_engagement` | Test | CI fail: CIV5-WAR2-CAS-003 | Ensure cohort counts drop correctly and never go negative. | Enforces casualty conservation. |
| CIV5-WAR2-LOG-004 | Logistics depletion MUST degrade outcomes deterministically. | CTest `dominium_civ5_war2_engagement` | Test | CI fail: CIV5-WAR2-LOG-004 | Apply supply penalties deterministically when undersupplied. | Enforces logistics impact. |
| CIV5-WAR2-EPIS-005 | Engagement outcomes MUST be epistemically gated. | CTest `dominium_civ5_war2_engagement` | Test | CI fail: CIV5-WAR2-EPIS-005 | Use outcome estimates when capability is absent. | Enforces epistemic boundary. |
| CIV5-WAR3-OCC-001 | Occupation maintenance MUST fail deterministically without supply. | CTest `dominium_civ5_war3_occupation` | Test | CI fail: CIV5-WAR3-OCC-001 | Enforce supply checks before occupation maintenance. | Ensures deterministic occupation failure. |
| CIV5-WAR3-RES-002 | Resistance activation MUST be deterministic on legitimacy deficit. | CTest `dominium_civ5_war3_occupation` | Test | CI fail: CIV5-WAR3-RES-002 | Apply legitimacy thresholds deterministically. | Ensures resistance triggers are stable. |
| CIV5-WAR3-DISR-003 | Disruption effects MUST be deterministic. | CTest `dominium_civ5_war3_occupation` | Test | CI fail: CIV5-WAR3-DISR-003 | Remove RNG and apply fixed capacity reductions. | Ensures deterministic logistics disruption. |
| CIV5-WAR3-BATCH-004 | Occupation timelines MUST be batch vs step equivalent. | CTest `dominium_civ5_war3_occupation` | Test | CI fail: CIV5-WAR3-BATCH-004 | Fix due-event rescheduling and ordering. | Preserves event-driven equivalence. |
| CIV5-WAR3-NOGLOB-005 | Occupation/resistance MUST avoid global iteration. | CTest `dominium_civ5_war3_occupation` | Test | CI fail: CIV5-WAR3-NOGLOB-005 | Process only due territories via scheduler. | Prevents O(N) territory scans. |
| CIV5-WAR4-BLOCK-001 | Blockade effects MUST be deterministic. | CTest `dominium_civ5_war4_scale` | Test | CI fail: CIV5-WAR4-BLOCK-001 | Apply deny/throttle/inspect deterministically. | Ensures deterministic blockade effects. |
| CIV5-WAR4-INT-002 | Interdiction scheduling MUST be deterministic. | CTest `dominium_civ5_war4_scale` | Test | CI fail: CIV5-WAR4-INT-002 | Use ACT-based scheduling and stable IDs. | Ensures interdiction determinism. |
| CIV5-WAR4-SIEGE-003 | Siege deprivation MUST be batch vs step equivalent. | CTest `dominium_civ5_war4_scale` | Test | CI fail: CIV5-WAR4-SIEGE-003 | Use deterministic deprivation updates only. | Preserves siege determinism. |
| CIV5-WAR4-NOGLOB-004 | War4 scale updates MUST avoid global iteration. | CTest `dominium_civ5_war4_scale` | Test | CI fail: CIV5-WAR4-NOGLOB-004 | Process only due routes and domains. | Prevents O(N) route scans. |
| CIV5-WAR4-SHARD-005 | Shard message ordering MUST be deterministic. | CTest `dominium_civ5_war4_scale` | Test | CI fail: CIV5-WAR4-SHARD-005 | Enforce stable arrival/order keys. | Preserves cross-shard ordering. |
| CONTENT0-SPEC-001 | Universe model spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-001 | Add/update `schema/world/SPEC_UNIVERSE_MODEL.md`. | Defines universe data model. |
| CONTENT0-SPEC-002 | Galaxy model spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-002 | Add/update `schema/world/SPEC_GALAXY_MODEL.md`. | Defines galaxy data model. |
| CONTENT0-SPEC-003 | Star system model spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-003 | Add/update `schema/world/SPEC_SYSTEM_MODEL.md`. | Defines star system data model. |
| CONTENT0-SPEC-004 | Celestial body spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-004 | Add/update `schema/world/SPEC_CELESTIAL_BODY.md`. | Defines body data model. |
| CONTENT0-SPEC-005 | Orbital rails spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-005 | Add/update `schema/world/SPEC_ORBITAL_RAILS.md`. | Defines deterministic orbital rails. |
| CONTENT0-SPEC-006 | Surface and regions spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-006 | Add/update `schema/world/SPEC_SURFACE_AND_REGIONS.md`. | Defines surface, region, and volume data. |
| CONTENT0-SPEC-007 | World data import spec is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-007 | Add/update `schema/world/SPEC_WORLD_DATA_IMPORT.md`. | Defines deterministic import rules. |
| CONTENT0-SPEC-008 | World schema index is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT0-SPEC-008 | Add/update `schema/world/README.md`. | Ensures world schema index and versioning. |
| CONTENT1-DATA-001 | Sol system data files are required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT1-DATA-001 | Add `data/world/sol/sol.system.json` and related files. | Establishes canonical Sol content baseline. |
| CONTENT1-DATA-002 | Sol orbital rails data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT1-DATA-002 | Add `data/world/sol/sol.orbits.json`. | Defines deterministic orbital rails for Sol. |
| CONTENT1-DATA-003 | Sol bodies, moons, and belts data are required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT1-DATA-003 | Add `data/world/sol/sol.bodies/`, `sol.moons/`, `sol.belts/`. | Provides canonical celestial body records. |
| CONTENT1-DATA-004 | Sol surfaces and regions data are required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT1-DATA-004 | Add `data/world/sol/sol.surfaces.json`. | Defines surfaces and regions for gameplay. |
| CONTENT1-TEST-001 | Sol data validation must pass. | CTest `dominium_content1_sol_data` | Test | CI fail: CONTENT1-TEST-001 | Fix data structure or references in `data/world/sol`. | Enforces schema-aligned Sol content. |
| CONTENT2-DATA-001 | Earth body data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT2-DATA-001 | Add `data/world/sol/earth/earth.body.json`. | Defines Earth body baseline. |
| CONTENT2-DATA-002 | Earth surface and volume data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT2-DATA-002 | Add `data/world/sol/earth/earth.surfaces/`. | Defines layered Earth surfaces and volumes. |
| CONTENT2-DATA-003 | Earth region hierarchy data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT2-DATA-003 | Add `data/world/sol/earth/earth.regions/`. | Defines bounded region hierarchy. |
| CONTENT2-DATA-004 | Earth climate and biome tags are required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT2-DATA-004 | Add `data/world/sol/earth/earth.climate/`. | Defines climate zones and biome tags. |
| CONTENT2-DATA-005 | Earth import hooks documentation is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT2-DATA-005 | Add `data/world/sol/earth/earth.imports/README.md`. | Documents import overlay rules. |
| CONTENT2-TEST-001 | Earth data validation must pass. | CTest `dominium_content2_earth_data` | Test | CI fail: CONTENT2-TEST-001 | Fix Earth data structure or references. | Enforces schema-aligned Earth content. |
| CONTENT3-DATA-001 | Milky Way galaxy data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT3-DATA-001 | Add `data/world/milky_way/milky_way.galaxy.json`. | Defines Milky Way galaxy metadata. |
| CONTENT3-DATA-002 | Milky Way arms and regions data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT3-DATA-002 | Add `data/world/milky_way/milky_way.arms.json` and `milky_way.regions.json`. | Defines arms and galactic regions. |
| CONTENT3-DATA-003 | Milky Way anchors data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT3-DATA-003 | Add `data/world/milky_way/milky_way.anchors.json`. | Defines canonical anchor systems. |
| CONTENT3-DATA-004 | Milky Way procedural rules data is required. | Documentation gate (manual audit) | Docs | Audit fail: CONTENT3-DATA-004 | Add `data/world/milky_way/milky_way.procedural_rules.json`. | Defines deterministic fill rules. |
| CONTENT3-TEST-001 | Milky Way data validation must pass. | CTest `dominium_content3_milky_way_data` | Test | CI fail: CONTENT3-TEST-001 | Fix Milky Way data structure or references. | Enforces schema-aligned Milky Way content. |
| AGENT1-GOAL-DET-001 | Agent goal selection MUST be deterministic. | CTest `dominium_agent1_goal_planning` | Test | CI fail: AGENT1-GOAL-DET-001 | Fix goal priority ordering or tie-breaks. | Ensures deterministic goal evaluation. |
| AGENT1-PLAN-BOUND-002 | Agent planning MUST respect bounded step limits. | CTest `dominium_agent1_goal_planning` | Test | CI fail: AGENT1-PLAN-BOUND-002 | Enforce max step/depth caps in planning. | Prevents unbounded planning. |
| AGENT1-EPIS-003 | Agent belief updates MUST be epistemically gated. | CTest `dominium_agent1_goal_planning` | Test | CI fail: AGENT1-EPIS-003 | Apply epistemic refusals and belief updates deterministically. | Preserves epistemic limits. |
| AGENT1-BATCH-004 | Agent scheduling MUST be batch vs step equivalent. | CTest `dominium_agent1_goal_planning` | Test | CI fail: AGENT1-BATCH-004 | Fix due scheduler integration and rescheduling. | Preserves event-driven determinism. |
| AGENT1-ABSENCE-005 | Agent absence MUST not affect simulation. | CTest `dominium_agent1_goal_planning` | Test | CI fail: AGENT1-ABSENCE-005 | Remove agent-required paths or side effects. | Keeps baseline gameplay agent-free. |
| AGENT2-DOCTRINE-DET-001 | Doctrine filtering MUST be deterministic. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-DOCTRINE-DET-001 | Fix doctrine goal filtering or ordering. | Ensures deterministic doctrine application. |
| AGENT2-PRIORITY-002 | Doctrine priority modifiers MUST be deterministic. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-PRIORITY-002 | Apply fixed-point modifiers deterministically. | Preserves priority stability. |
| AGENT2-CONFLICT-003 | Conflicting doctrine resolution MUST be deterministic. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-CONFLICT-003 | Enforce explicit->role->org->jurisdiction->personal ordering. | Prevents doctrine drift. |
| AGENT2-COHORT-004 | Cohort-level autonomy collapse MUST be deterministic. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-COHORT-004 | Aggregate plans deterministically per cohort. | Preserves scalability. |
| AGENT2-BATCH-005 | Doctrine scheduling MUST be batch vs step equivalent. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-BATCH-005 | Fix doctrine scheduler due-event ordering. | Preserves event-driven determinism. |
| AGENT2-NODOC-006 | Doctrine absence MUST refuse autonomous actions. | CTest `dominium_agent2_doctrine` | Test | CI fail: AGENT2-NODOC-006 | Require doctrine binding before autonomous decisions. | Prevents unmanaged autonomy. |
| AGENT3-AGG-DET-001 | Aggregate vs individual goal evaluation MUST be deterministic. | CTest `dominium_agent3_aggregation` | Test | CI fail: AGENT3-AGG-DET-001 | Align aggregate contexts and goal evaluation ordering. | Preserves aggregate equivalence. |
| AGENT3-REFINE-DET-002 | Refinement selection MUST be deterministic. | CTest `dominium_agent3_aggregation` | Test | CI fail: AGENT3-REFINE-DET-002 | Use stable ordering for candidate selection. | Prevents refinement drift. |
| AGENT3-COLLAPSE-DET-003 | Collapse summaries MUST be deterministic. | CTest `dominium_agent3_aggregation` | Test | CI fail: AGENT3-COLLAPSE-DET-003 | Aggregate beliefs/goals deterministically. | Preserves causality. |
| AGENT3-NOAGENT-004 | Aggregation MUST not require individual agents. | CTest `dominium_agent3_aggregation` | Test | CI fail: AGENT3-NOAGENT-004 | Ensure zero-agent paths are safe and deterministic. | Keeps agents optional. |
| AGENT3-BATCH-005 | Refinement/collapse MUST be batch vs step equivalent. | CTest `dominium_agent3_aggregation` | Test | CI fail: AGENT3-BATCH-005 | Fix event ordering for transitions. | Preserves event-driven equivalence. |
| MOD0-ORDER-001 | Mod graph ordering MUST be deterministic. | CTest `dominium_mod0_compat` | Test | CI fail: MOD0-ORDER-001 | Fix graph sort/tie-breaks. | Prevents mod order drift. |
| MOD0-CONFLICT-002 | Mod conflicts MUST be refused. | CTest `dominium_mod0_compat` | Test | CI fail: MOD0-CONFLICT-002 | Enforce conflict checks in resolver. | Prevents incompatible stacks. |
| MOD0-MISSING-003 | Missing dependencies MUST be refused. | CTest `dominium_mod0_compat` | Test | CI fail: MOD0-MISSING-003 | Require dependency presence and ranges. | Prevents undefined mod stacks. |
| MOD0-SAFE-004 | Safe mode decisions MUST be deterministic. | CTest `dominium_mod0_compat` | Test | CI fail: MOD0-SAFE-004 | Fix safe mode filtering order. | Ensures reproducible safe mode. |
| MOD0-HASH-005 | Mod graph identity hash MUST be stable. | CTest `dominium_mod0_compat` | Test | CI fail: MOD0-HASH-005 | Normalize hashing inputs and ordering. | Binds replays/saves to mod identity. |
| FINAL-COMPAT-001 | Schema major bump requires migration or refusal policy. | `tools/validation/validate_all` | Configure | CI fail: FINAL-COMPAT-001 | Update compatibility promises and migration notes. | Prevents silent schema breaks. |
| FINAL-API-001 | Engine public API changes require ABI notes. | `tools/validation/validate_all` | Configure | CI fail: FINAL-API-001 | Update long-term support policy with ABI notes. | Preserves ABI stability. |
| FINAL-EPOCH-001 | Sim-affecting change requires epoch bump policy. | `tools/validation/validate_all` | Configure | CI fail: FINAL-EPOCH-001 | Update feature epoch policy for sim changes. | Prevents hidden semantic drift. |
| FINAL-RENDER-001 | Backend removal requires lifecycle doc update. | `tools/validation/validate_all` | Configure | CI fail: FINAL-RENDER-001 | Update render backend lifecycle policy. | Enforces renderer lifecycle discipline. |
| FINAL-DOC-001 | FINAL0 policy docs and schema references must exist. | `tools/validation/validate_all` | Configure | CI fail: FINAL-DOC-001 | Restore policy docs and schema governance references. | Keeps maintenance governance explicit. |
| TOOL0-REPLAY-DET-001 | Replay inspection MUST not alter hash or ordering. | CTest `dominium_tool0_inspection` | Test | CI fail: TOOL0-REPLAY-DET-001 | Ensure replay inspection is read-only and deterministic. | Preserves replay auditability. |
| TOOL0-PROV-TRACE-002 | Provenance trace MUST be deterministic. | CTest `dominium_tool0_inspection` | Test | CI fail: TOOL0-PROV-TRACE-002 | Fix provenance parent selection/order. | Preserves audit trace integrity. |
| TOOL0-LEDGER-003 | Ledger inspection MUST report conservation. | CTest `dominium_tool0_inspection` | Test | CI fail: TOOL0-LEDGER-003 | Ensure ledger inspection sums balance deterministically. | Verifies conservation without mutation. |
| TOOL0-NOMUT-004 | Tool mutation requests MUST be refused. | CTest `dominium_tool0_inspection` | Test | CI fail: TOOL0-NOMUT-004 | Block any tool-side mutation paths. | Prevents privileged backdoors. |
| TOOL0-VAL-001 | Tooling inventory MUST be present. | `tools/validation/validate_all` | Configure | CI fail: TOOL0-VAL-001 | Restore required TOOL0 files and docs. | Keeps tooling substrate complete. |
| MP0-PARITY-001 | Offline loopback must match authoritative outcomes. | CTest `dominium_mp0_parity` | Test | CI fail: MP0-PARITY-001 | Use loopback server-auth path; avoid singleplayer-only logic. | Ensures offline parity with MP. |
| MP0-LOCKSTEP-001 | Local lockstep peers must converge identically. | CTest `dominium_mp0_parity` | Test | CI fail: MP0-LOCKSTEP-001 | Ensure deterministic command ordering and simulation. | Prevents lockstep divergence. |
| MP0-SERVERAUTH-001 | Server-auth clients must accept authoritative state without divergence. | CTest `dominium_mp0_parity` | Test | CI fail: MP0-SERVERAUTH-001 | Keep clients non-authoritative and reconcile to server. | Preserves server authority. |
| LIFE-REM-DET-001 | Remains creation MUST be deterministic. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-DET-001 | Ensure stable IDs/ordering for remains records. | Prevents post-death drift. |
| LIFE-REM-DECAY-001 | Remains decay MUST be batch vs step equivalent. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-DECAY-001 | Use due-event scheduler with deterministic ordering. | Preserves decay determinism. |
| LIFE-REM-RIGHTS-001 | Salvage rights resolution order MUST be deterministic. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-RIGHTS-001 | Apply contract > executor > jurisdiction > finder ordering only. | Enforces rights order. |
| LIFE-REM-LEDGER-001 | Salvage MUST conserve ledger balances. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-LEDGER-001 | Use ledger transactions; no implicit transfer or balance changes. | Preserves ledger conservation. |
| LIFE-REM-EPIS-001 | Salvage MUST be epistemically gated. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-EPIS-001 | Require explicit epistemic knowledge before salvage actions. | Prevents omniscient salvage. |
| LIFE-REM-COUNT-001 | Remains collapse/refine MUST preserve counts and provenance. | CTest `dominium_life_remains` | Test | CI fail: LIFE-REM-COUNT-001 | Preserve counts and provenance hashes across collapse/refine. | Prevents provenance loss. |

## Phase-1 Audit Notes (PH1-AUDIT)

- `tools/ci/arch_checks.py` is not invoked by `.github/workflows/ci.yml`. IDs that rely solely on this script are not CI-enforced without an explicit `check_arch` step.
- ID alias conflict: `DET-GATE-*` (docs/DETERMINISM_ENFORCEMENT.md) and `DET-G*` (docs/DETERMINISM_GATES.md) describe the same gates. Align to one canonical ID set.
- `docs/ARCH_BUILD_ENFORCEMENT.md` references `DET-FLOAT-001`, but the implemented check ID is `DET-FLOAT-003`.
- `BUILD-GLOBAL-001` is enforced for `include_directories()` at configure time; `link_directories()` is only covered by `tools/ci/arch_checks.py`.
- `PERF-STALL-004` and `PERF-BUDGET-001` duplicate `PERF-STALL-001` and `PERF-BUDGET-002` without implementation.

## Phase-6 Coverage (PH6-AUDIT)

`PH6-AUDIT-001` verifies Phase 6 documentation, test assets, and CI IDs for LIFE/CIV/MP0/GOV.
