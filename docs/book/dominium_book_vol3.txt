
You said:
What's next, volume 3?
ChatGPT said:
GPT-5.1 — 2025-11-30
There is no single “Volume 3” yet because your Dominium spec so far has been organized as:
• Volume 1.x — Determinism Kernel
• Volume 2.x — Core Systems (everything that makes the world run)
You have now reached Volume 2.30.
Before beginning “Volume 3”, you must understand what it is.

WHAT VOLUME 3 REPRESENTS
Volume 3 is the beginning of the Game Layer.
Where:
• Volume 1.x = Simulation & Determinism Foundation
• Volume 2.x = Raw Engine Subsystems
• Volume 3.x = Player-Facing Gameplay Systems
Volume 3 is where the game emerges from the engine.

VOLUME 3 CONTENTS (FULL INDEX)
Below is the complete recommended structure.
Volume 3 — Gameplay Systems
3.1 — Player Character, Skills, Abilities, Interaction
• player avatar movement
• first-person + top-down hybrid
• movement, carrying, building, using tools
• stamina, health, load limits
• permissions & ownership
3.2 — Construction Tools & Building Blueprint System
• walls, floors, roofs
• utilities (power, water, comms)
• placeable machinery
• terrain interaction
• manual vs automated construction
• multi-storey, tunnels, bridges
3.3 — Resource Extraction & Gathering Gameplay
• mining
• forestry
• agriculture
• water pumping
• manual labour vs automation
3.4 — Manufacturing Chains & Factory Gameplay
• tiered machines
• modules & upgrades
• workflows
• fluid & gas handling
• high-temperature processes
3.5 — Transportation Gameplay (Player-Level)
• driving vehicles
• piloting aircraft
• operating trains
• using forklifts/AGVs
• crew & passengers
3.6 — Economy Gameplay (Player-Level)
• purchasing, importing, exporting
• company management UI
• market screens
• logistics planning
• financial dashboards
3.7 — Property Expansion & Territory Control
• parcel-by-parcel expansion
• zoning
• large-scale planning
• neighbouring AI property interaction
3.8 — Population & Workforce Simulation
• hiring workers
• worker traits, job roles
• living requirements
• safety systems
3.9 — Disaster, Emergency & Risk Gameplay
• fires
• power outages
• floods
• accidents
• insurance costs
3.10 — Progression, Achievements, Campaign Mode
• long-term goals
• victory conditions (optional)
• challenges
• milestones
3.11 — UI & UX Systems
• 2D map
• 3D view
• overlays
• tool modes
• notifications
3.12 — Multiplayer Gameplay
• co-op
• competitive
• shared companies
• property-to-property trade
3.13 — Narrative, Lore Hooks, World Context
• optional story arcs
• procedural missions
• optional characters/briefings

VOLUME 4 — Universe, Worlds, & Content Packs
(Planned after Volume 3)
• Planet definitions
• Resource distributions
• Climate & seasons
• Biomes
• Space travel mechanics
• Interstellar expansion mods

VOLUME 5 — Tools, Editors, Devkits, Modding
(For your Dominium Extras DLC)
• world editor
• map editor
• mod devkit
• asset pipelines
• scripting constraints

WHAT COMES NEXT RIGHT NOW?
Your next volume is:
VOLUME 3.1 — PLAYER CHARACTER, SKILLS, INTERACTION, MOVEMENT
This begins the gameplay layer and builds from all volumes you’ve established (determinism, transport, economy, research, property systems).

CONFIRMATION
Proceed with Volume 3.1?
You said:
Okay let's proceed. When we eventually get to the dlc part, I'll want to plan future DLC like war and conflict etc
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.1 — PLAYER CHARACTER, SKILLS, INTERACTION, MOVEMENT  
### Core Gameplay Layer Foundation

---

# 1. PURPOSE

This volume introduces the **player-as-entity** inside the Dominium simulation:

- movement (top-down, ortho, iso, and future first-person)  
- interaction with world objects, machines, buildings, vehicles  
- manual labour systems  
- skills, experience, training  
- carrying, lifting, hauling, loading  
- construction, repair, emergency work  
- safety, environment, and hazard rules  
- inventory and equipment  
- physical constraints that interface with all systems from Vol. 2.x  

This is the lowest gameplay layer and underpins all future interaction volumes.

---

# 2. PLAYER ENTITY MODEL

The player is a deterministic actor with physical presence.

```c
struct Player {
    uint64 id;

    int64 x_m;
    int64 y_m;
    int32 z_m;
    uint8 orientation;       // future FPS

    uint16 stamina;          // 0–10000
    uint16 health;           // 0–10000
    uint16 carry_capacity_kg;
    uint16 max_speed_mps_q8;

    uint16 skills[SKILL_MAX]; // integer XP values
    Inventory inventory;

    uint64 current_vehicle_id; // 0 = on foot
    uint64 current_property_id;
    uint8 state;               // idle, walking, running, carrying, operating, building
};
Player is simulated every player tick (default 60 Hz, can degrade gracefully).
All updates deterministic.

3. PLAYER MOVEMENT SYSTEM
The player can move in three camera modes:
1. 2D Ortho
2. 2D Isometric
3. 3D First-Person (future)
Movement model:
dx = velocity_x × dt
dy = velocity_y × dt
dz = velocity_z × dt (elevators, ladders, ramps)
Velocity limited by:
• carry weight
• terrain slope
• stamina
• wet/icy surfaces
• exhaustion debuff in extreme environments (heat/cold/radiation)
All movement is gridless but constrained by collision volumes of structures.

4. INTERACTION MODEL
All interaction uses a deterministic action dispatch table.
Interaction types:
• inspect
• pick up / drop
• carry / drag / push
• use machine
• operate controls
• open UI/GUI
• build
• deconstruct
• repair
• maintain
• connect/disconnect utilities
• manual crafting
• emergency response
• load/unload containers
• board/disembark vehicles
4.1 Example Interaction
Player selects a smelter. The engine evaluates:
distance_ok?
permission_ok?
hazard_ok?
hands_free?
Then executes the interaction script.

5. PLAYER SKILLS SYSTEM
Skills are integer XP counters.
Core skills:
• Construction
• Machinery Operation
• Electrical
• Plumbing/Piping
• Driving/Piloting
• Logistics Handling (forklifts, cranes)
• Mining & Extraction
• Agriculture
• Computing/Data Ops
• Research Assistance
Each skill unlocks:
• faster work
• safer work
• higher-tier tasks
• lower error rates
• access to advanced equipment
5.1 Skill Formula
XP gain per tick:
xp += base_gain × task_difficulty × (1 / fatigue_factor)
Level is derived from XP by integer thresholds.

6. PLAYER INVENTORY & EQUIPMENT
Two inventories:
1. Personal inventory (small)
2. Equipment/tool belt (tools, handheld devices)
Tools include:
• wrench
• soldering iron
• data tablet (interface with data network)
• handheld analyzer
• jackhammer
• chainsaw
• pneumatic tools
• scanning device (future FPS)
Each tool has durability & requires maintenance.

7. PLAYER LABOUR & MANUAL TASKS
Players can perform labour:
• hauling items
• constructing components
• assembling machinery
• welding, bolting, wiring
• digging, cutting, demolition
• cleaning, clearing debris
• basic emergency repair
• routing utilities (pipes, wires, conduits)
Manual tasks are slow but reliable.
Formula:
time = base_time / (1 + skill_bonus) × (fatigue_factor)
Player can always override automation.

8. STAMINA, HEALTH, FATIGUE, SAFETY
8.1 Stamina
Regenerates slowly when idle; drains when:
• carrying heavy loads
• sprinting
• manual construction
• climbing
• working in heat/cold
At low stamina, movement and work speed drop.
8.2 Health
Affected by:
• falls
• burns
• electrical shock
• crushing hazards
• chemical exposure
• radiation
• fires
• hunger & thirst (if enabled)
8.3 PPE (Personal Protective Equipment)
Tiered equipment:
• hard hat
• high-vis
• gloves
• insulated boots
• respirators
• oxygen packs
• radiation suits
PPE reduces hazard severity and allows access to restricted areas.

9. PLAYER CONSTRUCTION SYSTEM (INTERFACE TO 3.2)
Player can:
1. Place blueprint markers
2. Deliver materials manually (or with vehicles)
3. Perform construction tasks step-by-step
4. Assign tasks to workers/robots
Construction steps:
• foundation
• structural frame
• walls
• floors/ceilings
• utilities roughed in
• finishes
• machine installation
• final inspection & activation
All processes deterministic and tied to skills.

10. PLAYER–VEHICLE INTEGRATION
Player can:
• drive vehicles (cars, trucks, forklifts, trains)
• pilot aircraft (VTOL, planes)
• command drones/robots
• attach/detach containers
• load/unload freight
Vehicle control respects:
• player skills
• vehicle class licensing
• safety systems
• fatigue penalties

11. PLAYER–UTILITIES INTERACTION
Players can manually:
• connect electrical lines
• connect data cables
• connect pipes (fluid/gas)
• inspect network stats
• debug issues (shorts, blockages, leaks)
• read meters/sensors
• open breaker panels
• tag-out/lock-out equipment
Integrates with previous volumes (power, fluids, data).

12. ENVIRONMENTAL INTERACTION
Player interacts with:
• temperature
• humidity
• radiation
• air quality
• light levels
• pressure (underwater, vacuum in future)
• terrain slope
• water depth
• weather (rain, snow, wind)
Player state modifies exposure.

13. EMERGENCY / DISASTER INTERACTION
Player can perform:
• emergency shutdowns
• firefighting
• first aid
• isolation lockouts
• escape procedures
• evacuation
• manual override of automated systems
• clearing debris and collapsed structures
This ties into future War & Conflict DLC for advanced scenarios.

14. PLAYER PROPERTY CONTROLS & GOVERNANCE
Controls:
• hire/firing workers
• purchase robots
• set safety policies
• set working hours
• set pay scales
• configure research tasks
• configure production
• configure logistics
UI integrated with economy (Volume 2.28) and AI systems (2.30).

15. PLAYER IN MULTIPLAYER
Modes:
• Shared company (co-op)
• Separate companies on the same property
• Separate properties in same universe
Players see each other’s avatars.
Transferring goods/services follows standard trade rules.
Determinism ensured via lockstep or fixed-tick client–server.

16. DATA STRUCTURES SUMMARY
struct PlayerSystem {
    Player players[MAX_PLAYERS];

    // Movement & physics
    int32 terrain_friction[MAX_MATERIALS];
    int32 stamina_drain_factors[MAX_TASKS];

    // Skill tables
    uint32 skill_xp_thresholds[SKILL_MAX][LEVEL_MAX];

    // PPE rules
    uint8 ppe_effects[PPE_MAX][HAZARD_MAX];
};

17. INVARIANTS
1. Player movement is deterministic and integer-based.
2. Skills increase only through defined tasks; no randomness.
3. Player cannot bypass physical/logical constraints.
4. All interactions follow permission and safety rules.
5. No floating-point physics.
6. Tools degrade predictably.
7. Fatigue/stamina behaves identically across all platforms.
8. Blueprints always require explicit resource delivery.
9. Vehicles obey their deterministic transport models.
10. Multiplayer avatars always synchronize via deterministic state deltas.

END OF VOLUME 3.1

Next recommended volume:  
**Volume 3.2 — Construction Blueprint System, Buildings, Multi-Storey Logic, Utilities Routing**  
Ready when you are.
You said:
Let's also consider autopilot. For vol 3.2, remember that terrain ground level L=0 is not always the same as sea level Z=0.
ChatGPT said:
Thought for 8s
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.2 — CONSTRUCTION, BLUEPRINTS, BUILDINGS, LEVELS, UTILITIES, AUTOPILOT  
### Grounded in (x,y,z,L), With L≠Z and Full Automation Hooks

---

# 1. PURPOSE

This volume defines:

- blueprint system (planning-first construction)  
- building structure: walls, floors, roofs, foundations, supports  
- multi-storey logic with **L-levels** distinct from **Z height**  
- tunnels, basements, elevated structures, bridges  
- utility routing (power, data, fluids, gas, HVAC) through buildings  
- interaction with terrain (uneven ground, cliffs, embankments)  
- construction task graph and autopilot execution  
- how humans/robots (and optional player autopilot) physically realize blueprints  

This volume assumes:

- coordinate system (x, y, z, r) from prior volumes  
- terrain: Z=0 ≈ sea level; terrain height varies  
- L = logical level index; does not equal Z  
- blueprint-first construction philosophy  

---

# 2. COORDINATE MODEL: Z VS L

We explicitly decouple:

- **Z**: physical height in metres (world coordinate)  
- **L**: logical building level index (integer floor/basement number)

## 2.1 World Coordinates

```c
typedef int64 CoordM;  // millimetres or fixed 1m grid as needed

struct WorldCoord {
    CoordM x;   // metres in world frame
    CoordM y;   // metres in world frame
    CoordM z;   // metres above/below sea level (Z=0 ~ sea level)
};
2.2 Logical Level Coordinate
typedef int32 LevelIndex; // L

struct LevelCoord {
    LevelIndex L;         // ... -2, -1, 0, 1, 2, ...
    int16     cell_x;     // local grid index
    int16     cell_y;
};
Each building defines a mapping:
struct LevelMapping {
    LevelIndex L;
    CoordM base_z;     // world height at L’s reference plane
    CoordM floor_thickness;
    CoordM level_height; // clear height between floors
};
Z at a given (x,y,L) can vary with terrain and structure:
• external ground floor: L=0 can be at different Z along footprint
• basements: L<0, typically below local terrain Z
• towers: L>0, above ground
Result: a building has its own local vertical reference, but global Z stays absolute.

3. BLUEPRINT SYSTEM
Blueprints are data objects that describe intended structures before any construction.
3.1 Blueprint Definition
struct Blueprint {
    uint64 id;
    uint64 property_id;
    uint64 owner_company_id;

    // Bounding box in world coords
    WorldCoord min_corner;
    WorldCoord max_corner;

    // Discrete cells by (L, cell_x, cell_y)
    uint32 cell_count;
    BlueprintCell* cells;    // pointer to array

    uint8 state;             // DRAFT, APPROVED, BUILDING, COMPLETE, CANCELLED
};
3.2 Blueprint Cell
struct BlueprintCell {
    LevelIndex L;
    int16 cell_x;
    int16 cell_y;

    uint8 cell_type;    // EMPTY, FOUNDATION, FLOOR, WALL, COLUMN,
                        // STAIRS, RAMP, ROOF, UTILITY_SHAFT, VOID

    uint16 material_id; // walls, floors, structural material
    uint8  flags;       // structural, load-bearing, external, etc
};
Cells are defined on a 1m × 1m grid per level in local building coordinates.
3.3 Blueprint Utilities
Utility blueprints define logical routes:
struct UtilityBlueprint {
    uint64 blueprint_id;
    uint8  utility_type;  // POWER, DATA, WATER, SEWER, GAS, HVAC
    uint32 node_count;
    UtilityNode* nodes;
    uint32 edge_count;
    UtilityEdge* edges;
};
Where nodes/edges correspond to 3D points/channels within the building.

4. BUILDING TYPES
Buildings are constructed instances of blueprints.
struct Building {
    uint64 id;
    uint64 blueprint_id;

    WorldCoord origin;     // anchor point for mapping cell to world
    uint8 state;           // PLANNED, UNDER_CONSTRUCTION, ACTIVE, DAMAGED

    // Runtime structural state, occupancy, hazards, etc.
};
Types:
• simple sheds, warehouses
• multi-storey office/industrial buildings
• underground facilities, mines, basements
• bridge decks, viaducts, overpasses
• tunnels (road/rail, utility tunnels, mineshafts)
• elevated platforms, gantries, walkways
Buildings can be non-rectangular, but blueprint grid operates in local axes.

5. TERRAIN INTERACTION (GROUND LEVEL L=0 VS Z=0)
Terrain is a height field (or mesh) defining:
CoordM terrain_z = TerrainHeight(x, y);
Key rules:
1. Sea level: Z=0 is global reference.
2. Ground reference for building: L=0 may be:
o average local terrain height
o a chosen design height (e.g., cut/fill)
3. Some cells at L=0 may be:
o above terrain (cantilever, stilts, bridge)
o flush with terrain (on-grade foundation)
o below terrain (cut into hillside, partial basement)
Construction engine must compute:
• cut volume (earth removed)
• fill volume (earth added)
• retaining structures/tiebacks if required
This ties into later Earthworks/Grading volume.

6. MULTI-STOREY, TUNNELS, BRIDGES
6.1 Levels
Constraints:
• building has discrete levels L_min to L_max.
• each level may have varying footprint (e.g., smaller upper floors).
• vertical access: stairs, ramps, ladders, elevators.
6.2 Tunnels
• Represented as building blueprint segments with:
o cell_type = TUNNEL
o flagged as UNDERGROUND
• Z of tunnel likely < terrain_z, with correct clearances.
• Interacts with transport (2.27) for roads/rails.
6.3 Bridges
• Represented as building blueprint segments with:
o cell_type = BRIDGE_DECK
o flags include ELEVATED
• Support columns with structural flag.

7. STRUCTURAL LOGIC (LIGHTWEIGHT)
Dominium does not run full structural FEM, but uses deterministic rules:
1. Load-bearing walls/columns must have support to ground or stable structure.
2. Spans longer than material-specific limits require beams/trusses.
3. Overhangs limited by simple structural rules (per material and depth).
4. Bridges and high-level decks require sufficient supports.
Structural validity check runs:
• on blueprint approval
• when modifying existing structures
Buildings failing basic rules are disallowed or flagged as unsafe.

8. CONSTRUCTION TASK GRAPH
Once a blueprint is APPROVED, a task graph is generated.
8.1 Task Nodes
struct BuildTask {
    uint64 id;
    uint64 blueprint_id;
    uint8  task_type;   // EXCAVATE, POUR_FOUNDATION, ERECT_WALL,
                        // INSTALL_FLOOR, ROOF, UTILITY_RUN,
                        // MACHINE_INSTALL, FINISHING

    LevelIndex L;
    int16 cell_x;
    int16 cell_y;

    uint16 required_skill;   // Construction, Electrical, Plumbing, etc
    uint32 duration_ticks;   // base duration
    uint16 material_requirements[MAX_MATERIALS_PER_TASK];
    uint16 tool_requirements[MAX_TOOLS_PER_TASK];
    uint64 dependency_ids[MAX_TASK_DEPENDENCIES];
};
8.2 Task Ordering
Construction follows typical sequence:
1. Survey & staking
2. Earthworks (cut, fill, grading)
3. Foundations
4. Structural frame
5. Floors
6. Walls/exterior envelope
7. Roof
8. Utility rough-in (power/data/fluid/gas)
9. Interior walls/finishes
10. Machines & furniture
11. Commissioning & testing
Dependencies encoded explicitly; scheduling is deterministic topological order.

9. AUTOPILOT: CONSTRUCTION & LABOUR
Autopilot is a deterministic layer that can control:
• human workers
• robots
• optionally the player avatar (if user enables it)
9.1 Autopilot Roles
1. Task Planner
o reads task graph
o assigns tasks to agents (workers/robots/player-autopilot)
2. Pathing & Movement
o uses navigation graph over:
• service paths
• internal corridors
• stairs/elevators
• temporary construction access (scaffolding)
3. Execution
o triggers the same interaction calls as manual player actions
o respects skills, tools, environment, hazards
No additional gameplay logic; autopilot uses the same APIs as a human-driven avatar.
9.2 Player Autopilot Mode
If the player chooses, they can:
• select a task (e.g., “build this wall”)
• switch to autopilot: engine puppets the avatar:
o pathfinds
o picks materials
o walks to site
o performs building steps
• player can interrupt at any time and resume manual control.
This preserves determinism: autopilot behaviour is fully deterministic from inputs.

10. UTILITIES ROUTING INSIDE BUILDINGS
Utilities are first-class networks (Volume 2.x). Buildings are where they run.
10.1 Utility Nodes in Buildings
Each cell can contain utility nodes:
struct UtilityNodeInstance {
    uint64 id;
    uint8  utility_type; // POWER, DATA, WATER, GAS, SEWER, HVAC
    WorldCoord world_pos;
    uint8  flags; // junction, end-point, riser, manifold
};
10.2 Vertical & Horizontal Routing
• Horizontal distribution along corridors, floors, ceilings.
• Vertical via:
o riser shafts
o chases
o elevator shafts
o pipe galleries
Utilities obey:
• capacity rules
• pressure/voltage limits
• redundancy options (rings vs radial)
10.3 Building as Utility Hub
Buildings can host substations:
• electrical
• data hubs
• pump rooms
• HVAC plants
These integrate into external utility graphs.

11. BUILDING MODIFICATION & DEMOLITION
Buildings must be modifiable:
• re-zone rooms
• add/remove levels (within constraints)
• cut new shafts/tunnels
• extend floors and balconies
• demolish walls or entire structures
Every change generates new blueprint revisions and task graphs.
Demolition tasks:
• revert construction steps in reverse order
• salvage materials (economy integration)
• update structural validity

12. GAMEPLAY IN 2D VS 3D
While 3D FPS is future, 3.2 must be 3D-ready.
2D Views
• Ortho map: per L level slices (like floor plans)
• Iso view: stack with partial transparency, show multiple L’s
3D View (future)
• full building interior/exterior representation
• supports:
o walking across bridges
o going into basements and tunnels
o traversing multi-story cores
Construction engine must store enough geometric and semantic data to support both.

13. WORKERS & ROBOTS IN CONSTRUCTION
Construction uses the same worker model from Volume 2.6:
• each task requires:
o skill
o tools
o materials
• autopilot worker selection:
o nearest qualified worker/robot
o with tools and enough stamina/power
o path feasible
Task progress per tick:
progress_tick = base_rate × (1 + skill_factor) × condition_factor
Robots:
• constant work rate
• require charging/maintenance
Humans:
• variable work rate
• influenced by fatigue, morale (later)

14. CONSTRUCTION COSTING & ECONOMY INTEGRATION
From Volume 2.28:
• each task has:
o material cost
o labour cost
o equipment cost
• total building cost = Σ tasks’ direct + overhead
Costs accumulate over time and hit the company’s P&L and cashflow.
Blueprint UI can show:
• estimated bill of materials
• estimated man-hours/robot-hours
• estimated total cost
• estimated construction time
All deterministic and computed from the same task graph.

15. PERFORMANCE MODES
Low-End
• fewer L-levels per building visible simultaneously
• simplified structural checks
• limited number of concurrent build tasks
• utility routing visuals simplified
Medium
• full blueprint detail
• multi-storey, bridges, tunnels
• standard task graph resolution
High-End
• very large buildings
• high-resolution utility graphs
• detailed earthworks interactions
Determinism and semantics unaffected.

16. DATA STRUCTURES SUMMARY
struct ConstructionSystem {
    Blueprint       blueprints[MAX_BLUEPRINTS];
    Building        buildings[MAX_BUILDINGS];
    BuildTask       tasks[MAX_BUILD_TASKS];

    UtilityBlueprint util_blueprints[MAX_UTILITY_BLUEPRINTS];
    UtilityNodeInstance util_nodes[MAX_UTILITY_NODES];

    LevelMapping    level_maps[MAX_BUILDINGS][MAX_LEVELS_PER_BUILDING];
};
Autopilot hooks:
struct AutopilotSystem {
    uint64 assigned_tasks[MAX_AGENTS];
    uint64 agent_ids[MAX_AGENTS];
};

17. INVARIANTS
1. L-levels (floors/basements) are logical indexes, not raw Z.
2. Z=0 is sea level; terrain Z varies; L=0 is a building-defined reference.
3. All building geometry and tasks are integer-based and deterministic.
4. Blueprints must pass structural and terrain sanity checks before construction.
5. Construction is always “blueprint → task graph → execution”, never magical.
6. Autopilot uses exactly the same interaction APIs as manual control.
7. Utilities inside buildings are routed as explicit graphs, not inferred magic.
8. Modifications/demolition go through blueprint revisions and new tasks.
9. Multi-storey, tunnels, and bridges are all specializations of the same system.
10. 2D and 3D views are different projections of the same underlying data.

END OF VOLUME 3.2

Autopilot for vehicles and travel will be wired in more heavily when we get to the transport-focused gameplay volume (3.5).
::contentReference[oaicite:0]{index=0}
You said:
Proceed with 3.3
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.3 — RESOURCE EXTRACTION, GATHERING, MINING, FORESTRY, AGRICULTURE  
### Manual + Automated Extraction Integrated With Terrain, Logistics, and Utilities

---

# 1. PURPOSE

This volume defines all **player-facing and AI-facing** systems for obtaining primary resources from the world:

- manual gathering (player labour mode)  
- mechanised gathering (machines, vehicles, robots)  
- mining (surface, underground, deep shaft, strip, quarry)  
- forestry (logging, sawmills, regrowth)  
- agriculture (soil, irrigation, crops, livestock)  
- water extraction (pumping, wells, desalination)  
- stone/clay/ore extraction  
- oil/gas wells, geothermal wells (for Interstellar/Planetary DLC later)  

This volume is tightly integrated with:

- Terrain & geology (Vol. 2.31 later)  
- Logistics, containers, transport (2.26–2.27)  
- Power, fluids, gas, HVAC (2.5–2.7)  
- Construction (3.2)  
- Player labour and skills (3.1)  
- Economy (2.28)  
- AI companies (2.30)

---

# 2. RESOURCE MODEL

Every extractable resource is a deterministic **deposit** in the world.

## 2.1 Resource Deposit Definition

```c
struct ResourceDeposit {
    uint64 id;

    uint16 type;           // ORE_IRON, ORE_COPPER, LIMESTONE, COAL, CLAY, etc
    CoordM x;
    CoordM y;
    CoordM z;              // centre point of deposit
    uint32 quantity;       // total extractable quantity (kg, m³)
    uint16 purity_q16;     // % quality
    uint8  hardness;       // influences tool/machine requirements
    uint8  state;          // UNDEVELOPED, ACTIVE, DEPLETED
};
2.2 Resource Categories
Solid Materials
• Iron ore
• Copper ore
• Bauxite
• Nickel
• Coal
• Limestone
• Clay
• Stone
• Sand
• Rare earth (later DLC)
Fluids/Gases
• Water
• Natural gas (future DLC)
• Oil (future DLC)
• Brines
Biological
• Trees (species-specific)
• Crops
• Livestock food/biomass
• Aquatic biomass

3. MANUAL GATHERING (PLAYER LABOUR)
Player can manually:
• pick up loose rocks
• dig soil
• cut trees
• mine soft deposits
• hand-extract clay/sand/gravel
• operate hand tools (jackhammer, pickaxe)
Manual extraction utilises:
• skills: Mining, Forestry, Agriculture
• tools: shovel, axe, pickaxe, saw
• stamina and environment penalties
• small inventory capacity
3.1 Manual Extraction Formula
output_per_tick = base_rate × tool_eff × skill_factor × terrain_factor × fatigue_factor

4. MECHANISED EXTRACTION
Machines perform extraction at industrial scale.
Categories:
1. Excavators (soil, sand, gravel, clay)
2. Drills / Jacking rigs (ore veins, stone)
3. Cutters (soft to medium rock)
4. Mining trucks / loaders (haul ore to conveyors or containers)
5. Forestry harvesters
6. Planters / seeders / farming tractors
7. Irrigation pumps
Machines consume:
• power (DC/AC/3-phase)
• fluids (coolant, hydraulic oil)
• fuel (biofuel/electric/other)
• wear & maintenance (Volume 2.27 machines)
4.1 Machine Extraction Model
extraction_rate = machine_base_rate
                × deposit_purity
                × tool_sharpness_factor
                × operator_skill_factor
                × terrain_factor
                × maintenance_factor
Everything integer Q16, deterministic.

5. MINING SYSTEM
Mining supports:
• surface mining (strip, open-cut)
• underground mining (tunnels, shafts, drifts)
• quarrying (stone, gravel, limestone)
• placer mining (sand/river deposits)
• deep drilling (fluids, geothermal)
Integrated with Construction (3.2) to allow underground structures.
5.1 Surface Mining
Player or AI can:
• mark zones
• excavate using machines
• build haul roads
• load extracted material into containers
• progressively deepen pit
5.2 Underground Mining
Uses blueprint-like logic (3.2):
• shaft construction tasks
• reinforcement (timber/steel/concrete)
• ventilation shafts
• pumps (dewatering)
• haulage tunnels
Machines:
• tunnel borers
• drilling jumbos
• rail carts or conveyor belts
• ventilation blowers
5.3 Safety Rules
• underground collapse risk (deterministic, based on rules, not RNG)
• ventilation requirements
• water ingress (fluids system)
• heat stress (thermal system)
• player/worker PPE requirements

6. FORESTRY SYSTEM
Trees are deterministic biome objects.
6.1 Tree Object
struct Tree {
    uint64 id;
    uint16 species;
    CoordM x, y, z;
    uint32 biomass_kg;
    uint16 maturity_q16;
    uint16 moisture_q16;
    uint8  state;  // GROWING, MATURE, CUT, REGROWING
};
6.2 Forestry Actions
• cut tree (manual or mechanised)
• process logs into planks/chips
• replant saplings
• fertilise
• harvest biomass
• logging roads
• erosion control (ties into terrain stability)
Forestry machines:
• harvesters
• forwarders
• chippers
• sawmills
6.3 Growth Logic
growth_per_tick = species_rate × soil_quality × water_availability × sunlight_factor
No randomness.

7. AGRICULTURE SYSTEM
Supports soil-based and hydroponic systems.
7.1 Soil Cell Definition
Agriculture uses a 1m soil cell grid.
struct SoilCell {
    CoordM x, y;
    int32 depth_mm;
    uint16 nutrients_q16;
    uint16 moisture_q16;
    uint16 pH_q16;
    uint8  crop_id;    // 0 if empty
    uint8  state;      // FALLOW, PLANTED, GROWING, READY, EXHAUSTED
};
7.2 Crop Model
• seeds planted
• water usage
• nutrient usage
• sunlight conditions
• pesticides/fertiliser (if used)
• yield determined by soil state
Crop growth deterministic:
growth_q16 += rate × water_factor × nutrient_factor × sunlight_factor
Crop yield:
yield = base_yield × growth_q16 × purity_modifier
7.3 Livestock (simple deterministic model)
• livestock units
• feed required
• growth/production rate
• waste output
• disease stress (no RNG; deterministic based on overcrowding)

8. FLUID & WATER EXTRACTION
Water extraction methods:
• shallow wells
• deep wells
• surface intake (river, lake)
• pumping stations
• desalination (future for coastal properties)
Fluid flows into container tanks or pipe networks.
Formula:
pump_rate = machine_rate × water_table_factor × maintenance_factor
Water quality tracked (contaminants, salinity, temperature).

9. RESOURCE DEPLETION & REGENERATION
9.1 Solid Resources
Deposits slowly deplete:
remaining_quantity -= extracted_amount
No regeneration except biological (forestry) or surface alluvials (very slow).
9.2 Forestry Regeneration
Trees regrow from saplings or stumps.
9.3 Soil Health
Soil cells degrade or improve based on:
• crop rotation
• fertiliser
• irrigation
• erosion
No randomness.

10. INTERACTION WITH LOGISTICS (VOL 2.26)
Every extraction output:
• stone
• ore
• logs
• crops
• biomass
• water
• tailings
is packed into:
• containers (TEU 5ft/10ft/20ft/40ft/80ft)
• bulk hoppers (rail, road)
• tanker containers (fluids/gas)
Transport follows:
• intra-property routes
• inter-property routes
• port/yard operations
• pipelines (for fluids)

11. INTERACTION WITH ECONOMY (VOL 2.28)
Every extracted resource immediately participates in:
• spot prices
• supply & inventory
• industrial input chains
• shipping demand
• labour/robot utilisation
Production surges influence market prices.
If local supply exceeds demand:
• price drops
• AI reduces extraction
• player can export to neighbours
If demand spikes:
• extraction intensifies
• prices rise
• shipping increases

12. INTERACTION WITH AI COMPANIES (VOL 2.30)
AI companies:
• scan deposit maps
• choose profitable extraction sites
• build mines, farms, forestry plantations
• evaluate cost/benefit and environmental constraints
• participate in container logistics
• adjust labour force and robots
• respond to market prices
All behaviour deterministic.

13. PLAYER EXPERIENCE
13.1 Manual Play
Players can:
• do early-game extraction manually
• collect resources for first buildings
• learn fundamental mechanics
13.2 Scaling to Automation
As tech improves:
• use loaders, trucks, excavators
• mining drills
• automated harvesters
• irrigation systems
• conveyor/pipe networks
• container yards
13.3 Strategic Planning
Players decide:
• how much area to dedicate to food production
• where to place quarries or mines
• which areas to deforest or preserve
• how to rotate crops
• whether to import/extract resources

14. PERFORMANCE MODES
Low-End
• simplified soil grid
• fewer resource types
• limited underground mining complexity
Medium
• full agriculture
• multi-layer soil
• moderate underground mines
High-End
• complex multi-vein underground systems
• detailed forestry simulation
• advanced water table modelling

15. DATA STRUCTURES SUMMARY
struct ExtractionSystem {
    ResourceDeposit deposits[MAX_DEPOSITS];
    Tree           trees[MAX_TREES];
    SoilCell       soil[MAX_SOIL_CELLS];

    uint32         active_machines[MAX_EXTRACTORS];
};

16. INVARIANTS
1. No randomness anywhere in resource generation or extraction.
2. Deposits fully deterministic and seed-based.
3. All extraction rates integer and reproducible.
4. Forestry and agriculture growth deterministic.
5. Soil, water, and climate factors integrated consistently.
6. Mining safety rules deterministic and rule-based, never RNG failure.
7. All extraction outputs become logistics payloads (containers or bulk).
8. AI extraction decisions follow deterministic scoring.
9. Resource depletion irreversible except biological/soil cycles.
10. Player manual labour always slower but always valid.

END OF VOLUME 3.3

Ready for **Volume 3.4 — Manufacturing Chains & Factory Gameplay**.
You said:
Proceed
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.4 — MANUFACTURING, PRODUCTION CHAINS, FACTORY WORKFLOWS  
### Machines, Modules, Recipes, Heat/Power/Fluids Integration, Multi-Tier Industry

---

# 1. PURPOSE

This volume defines the **industrial manufacturing layer** of Dominium:

- machines and production units  
- recipes, cycles, and workflows  
- power/fluid/gas/data requirements  
- heat, pressure, and environmental constraints  
- modules, upgrades, catalysts  
- multi-stage production chains  
- virtual item flow (no physical items spawned)  
- loading/unloading via containers, belts, pipes  
- deterministic throughput and timings  
- pollution, byproducts, tailings  

This interacts directly with:

- Extraction (3.3)  
- Construction (3.2)  
- Utilities (2.x volumes)  
- Logistics & TEU container system (2.26–2.27)  
- Economy (2.28)  
- Research (2.29)  
- AI Companies (2.30)

---

# 2. MACHINE MODEL

Every industrial machine is a deterministic unit with:

```c
struct Machine {
    uint64 id;
    uint16 type;               // SMELTER_T1, ASSEMBLER_T1, CHEM_REACTOR_T1, etc
    WorldCoord pos;            // location
    LevelIndex L;              // building floor
    uint8 orientation;         // 0–3
    uint8 state;               // OFF, IDLE, RUNNING, JAMMED, STARVED, BLOCKED

    // Power requirements
    uint32 power_req_w;        // watts
    uint8  power_phase;        // DC,1PH,3PH
    uint16 voltage_v;

    // Fluids/Gases
    FluidPort fluid_in[MAX_PORTS];
    FluidPort fluid_out[MAX_PORTS];

    // Heat/temperature
    int32 operating_temp_C_q16;
    int32 cooling_required_w;

    // Inventory buffers
    ItemStack input_buffer[MAX_INPUTS];
    ItemStack output_buffer[MAX_OUTPUTS];

    // Recipe
    uint16 recipe_id;
    uint32 progress_ticks;     // deterministic progress counters
};
Machines follow a strict pipeline:
inputs → processing → outputs, no RNG.

3. RECIPE SYSTEM
A recipe transforms inputs into outputs over time.
struct Recipe {
    uint16 id;
    uint8  category;      // smelting, assembling, chemical, refining, etc
    uint32 time_ticks;    // deterministic duration per cycle
    uint16 input_ids[MAX_INPUTS];
    uint32 input_qty[MAX_INPUTS];
    uint16 output_ids[MAX_OUTPUTS];
    uint32 output_qty[MAX_OUTPUTS];

    uint32 heat_req_w;       // heating power required
    uint32 cooling_req_w;    // cooling needed to sustain reaction
    uint32 pressure_req_kPa; // for chemical reactions
    uint8  data_req;         // requires data-network link?
    uint8  automation_tier;  // min tech tier to unlock
};
Recipes must obey:
• mass-energy consistency
• no randomness
• strict integer arithmetic
All production cycles are synchronous and tick-driven.

4. MANUFACTURING CATEGORIES
4.1 Smelting & Metallurgy
• iron, copper, aluminium, steel
• alloys (bronze, brass, titanium, nickel alloys)
• slag/tailings byproducts
Requires:
• high temperature
• fuel or electrical heating
• gas exhaust handling
4.2 Assembly & Fabrication
• electronics
• machinery
• intermediate mechanical parts
• robotics
• structural elements
• building modules
Requires:
• general-purpose assemblers
• precision machinery
• pick-and-place modules (higher tier)
4.3 Chemical & Petrochemical
• acids, bases
• solvents
• polymers & plastics
• fuels & lubricants
• specialty gasses
Requires:
• reactors
• tanks
• distillation towers
• pipe networks
• pressure controls
• temperature controls
4.4 Food Processing
• grain milling
• dairy, meat, fermentation
• packaging
4.5 Advanced Industry (post-research)
• microelectronics
• superconductors
• advanced alloys
• artificial fuels
• fusion precursors

5. PRODUCTION CHAIN PHILOSOPHY
Dominium uses multi-layered industry chains:
• Tier 0: raw resources
• Tier 1: simple processed materials (planks, ingots, pipes)
• Tier 2: components (motors, gears, circuits)
• Tier 3: machines (assemblers, drones, conveyors)
• Tier 4: advanced systems (AI cores, reactors, spacecraft parts—DLC)
Each tier increases:
• complexity
• energy demands
• fluid/gas variety
• heat/pressure constraints
• data-network requirements

6. POWER INTEGRATION
Machines require deterministic power:
6.1 Voltage & Phase
Machines specify:
• DC
• AC 1-phase
• AC 3-phase
Voltage compatibility required:
• 120V
• 230V
• 400V
• custom tiers for industrial machines (600V/11kV later)
6.2 Underpower / Overload Behaviour
If insufficient power:
machine.state = STARVED
progress_ticks = 0
If overload (voltage too high):
• immediate shutdown
• possible damage (deterministic rule, no RNG)

7. FLUID + GAS INTEGRATION
Machines may need:
• coolant water
• steam
• compressed air
• hydraulic oil
• natural gas (future)
• oxygen/nitrogen (cryogenic)
Fluid supply is deterministic:
flow = min(machine_req, pipe_capacity, upstream_pressure)
If flow insufficient:
• machine idles
• reaction suspended
• heat builds unless cooling supplied

8. HEAT & TEMPERATURE SYSTEM
Machines produce waste heat:
heat_out_w = recipe.heat_req_w - conversion_efficiency
Cooling options:
• air cooling
• liquid cooling loops
• chilled water (via HVAC plant)
• dedicated heat exchangers
If overheating:
• efficiency decreases
• machine shuts down
• emergency cooling triggers
No randomness.

9. DATA NETWORK INTEGRATION
Some machines require:
• recipe unlock via data feed
• supervisory control
• telemetry
• remote commands
Machines expose:
9.1 Registers
• input inventory
• output inventory
• temperature
• pressure
• energy consumption
• cycle progress
• fault bits
9.2 Data Packets
Machines publish periodic data-packets every N ticks.
Data network supports:
• continuous signals (register reads)
• pulse events (cycle-complete)
• RPC-like commands (start/stop/change recipe)

10. INVENTORY & VIRTUAL ITEM HANDLING
Dominium never spawns physical items.
Machines use buffers:
struct ItemStack {
    uint16 item_id;
    uint32 qty;
};
Items flow logically:
• machine buffer
• belt/shooter (represented visually but not entity-per-item)
• container loaders
• pipelines for fluids
• container unloaders
Logistical throughput is purely numeric.

11. CONTAINER / LOGISTICS INTERFACE
Machines output into:
• TEU containers (bulk solids or pallets)
• tanker containers (fluids/gas)
• conveyors/chutes (logical belt)
• hoppers/silos
• pallet racks
Loaders detect:
• output buffer has product?
• container available?
• path free?
Everything deterministic.

12. MACHINE TIERS AND MODULES
12.1 Tiering
Each machine type has tiered versions:
• T1: slow, inefficient
• T2: moderate
• T3: fast, optimized
• T4: high-tech (requires research)
12.2 Modules
Modules attach to slots:
• speed module
• efficiency module
• productivity module
• precision module
• cooling booster
• data-control module
Module effects are integer multipliers:
final_rate = base_rate × (1 + module_speed_bonus)
final_power = base_power × (1 + module_power_penalty)
No floating-point.

13. FACTORY LAYOUT PHILOSOPHY
Factories are building floors, or standalone industrial buildings, using:
• corridors
• machine bays
• utility risers
• overhead gantries
• loading docks
• overhead cranes
• container yards
Transport nodes anchor the logistical flow.

14. AUTOMATION & AUTOPILOT
Autopilot workers/robots:
• deliver materials
• perform maintenance
• monitor machine faults
• replace modules
• load/unload containers
• repair machines
Machines can operate autonomously if:
• power OK
• fluid OK
• heat OK
• input buffers filled
• output buffer not blocked
Otherwise they signal via:
• data network
• alarms
• lights/indicators

15. MAINTENANCE SYSTEM
Machines accumulate wear:
wear += wear_rate × production_rate
When wear > threshold:
• efficiency decreases
• overheating risk rises
• maintenance task generated
Maintenance tasks:
• lubrication
• part replacement
• alignment
• recalibration
• cleaning
Each deterministic and tied to worker skills.

16. POLLUTION & WASTE
Pollution types:
• heat
• gas
• particulate
• water discharge
• tailings
• noise
Mitigation:
• scrubbers
• filters
• waste treatment
• landfills
• recycling plants
Pollution interacts with:
• environment
• worker morale
• energy efficiency
• downstream manufacturing quality
No RNG; purely model-based.

17. FACTORY PERFORMANCE MODES
Low-End Hardware
• fewer machines per tick chunk
• simplified coolant logic
• heat solver runs at reduced frequency
Medium
• full machine logic
• full heat/pressure
• moderate building complexity
High-End
• large factories
• advanced reactors
• multi-floor industrial buildings
• thousands of machines
All modes deterministic and synchronized.

18. DATA STRUCTURES SUMMARY
struct ManufacturingSystem {
    Machine machines[MAX_MACHINES];
    Recipe  recipes[MAX_RECIPES];
    ItemStack global_inventory[MAX_ITEMS];

    // Optimization tables
    uint32 recipe_heat_table[MAX_RECIPES];
    uint32 recipe_cool_table[MAX_RECIPES];
    uint32 machine_power_table[MAX_MACHINES];
};

19. INVARIANTS
1. No physical items; only virtual buffers.
2. All recipe cycles deterministic in ticks.
3. Machine performance based on exact integer state.
4. All inputs/outputs require valid logistics paths.
5. No random failures; only deterministic wear-based triggers.
6. Heat and pressure must always be solvable; if not, machine halts.
7. All modules have deterministic multipliers.
8. All factory outputs become commodities for the global economy.
9. Data network connectivity never introduces nondeterminism.
10. All industrial systems scale from early manual operation to huge automated facilities.

END OF VOLUME 3.4

Ready for **Volume 3.5 — Transportation Gameplay (Driving, Trains, Aircraft, Forklifts, AGVs, Node-to-Node Corridors)**.
You said:
Proceed
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.5 — TRANSPORTATION GAMEPLAY  
### Roads, Rails, Vehicles, Drivers, Pilots, Forklifts, AGVs, Aircraft, Ports, Terminals  
### Integrated with Corridors, Non-Physical Travel, Logistics, Autopilot, and Multi-Level Terrain

---

# 1. PURPOSE

This volume defines all **player-level and AI-level transportation gameplay**, integrating:

- Road vehicles  
- Rail vehicles  
- Aircraft (VTOL + fixed-wing)  
- Watercraft  
- Forklifts, loaders, AGVs (automated guided vehicles)  
- Passenger movement (workers, robots, player character)  
- Intra-property corridors (visible)  
- Interproperty transport (semi-physical, node-based but plausible)  
- Autopilot for players and vehicles  
- Integration with TEU container logistics  
- Integration with utilities (fuel, power, data)  
- Rendering rules for vehicles leaving/entering interproperty channels  
- Support for bridges, tunnels, elevated networks, and multi-level routing  

This volume must work in **2D isometric and top-down modes**, and remain future-proof for **3D first-person traversal**.

---

# 2. ROUTE & CORRIDOR MODEL

All transport is represented by **corridors** drawn by the player (and AI) between **nodes**.

Nodes include:

- stations (rail)  
- depots (road)  
- airports (air)  
- seaports (water)  
- intermodal hubs  
- loading docks + container yards  
- interproperty portals  

Corridors support:

- **arbitrary geometry** (splines or polylines)  
- curves, slopes, vertical transitions  
- bridges and tunnels  
- multiple parallel lanes/tracks  
- reservation for future expansion (as per Vol. 2.27)

Each corridor is a deterministic spline:

```c
struct Corridor {
    uint64 id;
    uint8 mode;        // ROAD, RAIL, AIR, WATER
    CorridorPoint* pts;
    uint16 pt_count;

    uint16 lanes;      // for roads
    uint16 tracks;     // for rails
    uint8 altitude_type; // SURFACE, ELEVATED, UNDERGROUND

    uint16 grade_limit_q16;
    uint16 curve_limit_q16;
    uint32 capacity_teu_hour;  // throughput limit
};

3. VEHICLE MODEL
Vehicles are entities but not fully physical (no physics engine).
Movement is deterministic along corridors.
struct Vehicle {
    uint64 id;
    uint16 type;

    uint64 current_corridor_id;
    float_q16 t;         // parametric position along corridor
    float_q16 speed_mps; // deterministic Q16

    uint16 payload_teu;  // container slots or bulk capacity
    uint16 mass_kg;      // for acceleration model
    uint8  power_source; // combustion, electric, hybrid
    uint32 power_kw;
    uint32 fuel_rate_q16;
    uint32 battery_kwh;
    uint32 charge_rate_kw;

    uint64 autopilot_program_id;
    uint8  driver_state; // HUMAN, ROBOT, AUTOPILOT
};
Each tick:
Vehicle.position += speed × dt
Vehicle.speed += accel × dt - drag × dt - slope_factor
Integer/deterministic Q16 arithmetic only.

4. VEHICLE CLASSES
4.1 Road Vehicles
• cars (for workers)
• pickup trucks
• medium trucks (2–6 TEU)
• semitrailers (10–20 TEU)
• prime movers (heavy haul, low loaders)
• forklifts & lift trucks
• AGVs for warehouses
4.2 Rail Vehicles
• locomotives
• general freight wagons
• flatbeds (5–40 TEU)
• tank wagons
• hopper wagons
• EMUs for passengers
• DMUs early-game
Rail uses deterministic block signalling (not RNG).
Signals exist in blueprint-like logic.
4.3 Aircraft
Two classes early-game:
VTOL aircraft
• short-range cargo
• city-to-city
• vertical landing pads
Fixed-wing aircraft
• require runway
• larger payload
• longer range
Aircraft travel in two phases:
1. Local corridor (takeoff/landing path)
2. Altitude corridor (interproperty or distant intraproperty travel)
In altitude corridor, aircraft are visually abstracted:
• appear high in sky
• eventually fade-out when entering interproperty portal
4.4 Watercraft
• small boats
• barges
• TEU container ships
• tankers
Waterways are corridors on water polygons.
Ships disappear at the horizon or enter interproperty waterways.

5. PLAYER VEHICLE INTERACTION
Player can:
• drive road vehicles
• operate forklifts
• board trains (drive if locomotive supports manual control)
• pilot aircraft (full autopilot available)
• board ships
• ride as passenger in any vehicle
• attach/detach TEU containers
• load/unload goods
• navigate loading yards
Vehicle control uses:
v_next = v_current + throttle × power_factor - brake × decel_factor - grade_penalty
All deterministic.

6. PASSENGERS (WORKERS & ROBOTS)
Workers, robots, and player avatars can:
• walk across nodes
• board any vehicle with passenger slots
• transfer at stations
• use interproperty portals
• ride AGVs/forklifts for special tasks
• be transported from housing to factories
Passenger routing uses:
• weighted shortest-path on corridor graph
• deterministic schedules
• no randomness

7. INTERPROPERTY TRANSPORT
Interproperty transport is node-based, not true continuous paths.
Each property contains interproperty nodes:
• rail interchange
• road interchange
• seaport
• airport
• data link
• electrical link
• pipeline interface
When vehicle reaches an interproperty node:
7.1 Rail/Road/Water
Vehicle:
• moves into the interproperty tunnel → fade out
• enters logical interproperty corridor
• moves deterministically from property A → property B
• emerges into B's corresponding interproperty yard
• fades in and aligns to corridor start
7.2 Air
Aircraft climbs upward corridor until a visibility altitude threshold.
At that height:
• switches to logical corridor
• destination chosen
• later descends down B’s approach corridor
Key Rule:
Travel time is always deterministic based on distance and vehicle capabilities.

8. NODES: STATIONS, PORTS, TERMINALS
Each node is a container-handling center:
struct TransportNode {
    uint64 id;
    uint8 node_type; // RailStation, RoadDepot, Airport, Seaport, IntermodalHub
    WorldCoord pos;
    uint16 capacity_teu; // yard capacity
    uint16 workers_required;
    uint16 power_req_w;
};
Nodes include:
• rail platforms
• truck loading docks
• container cranes
• forklift pathways
• AGV bays
• aircraft hangars
• maintenance bays
Nodes interact with Volume 3.4 machines for factory-to-node logistics.

9. TRAFFIC RULES
9.1 Road
Vehicles obey:
• lanes
• speed limits
• signals
• intersections
• roundabouts
• ramps
• congestion (deterministic queueing)
9.2 Rail
Rail uses:
• deterministic block signalling
• automated route setting
• points/switches
• train priorities
Nothing uses randomness.

10. VEHICLE AI (LOCAL AUTOPILOT)
Each vehicle has a local autopilot:
• follow corridor
• stop at signals
• stop at stations/terminals
• pick up/drop off containers
• avoid collisions (deterministic separation)
• throttle/brake profile
• respect weight, slope, curve radius
Autopilot Modes:
10.1 Schedule Mode
Predefined timetable:
Stop A → Stop B → Stop C → loop
10.2 Demand Mode
Vehicle moves based on container/jobs availability.
10.3 Manual Mode + Assisted
Player drives manually; autopilot handles:
• braking curves
• slope limits
• speed limits
• collision avoidance
10.4 Full Autopilot for Player
Player can:
• select a task
• select a vehicle
• press “Autopilot”
• vehicle drives the player to destination via optimal path

11. FLUID/FUEL/ENERGY INTEGRATION
Vehicles require:
• fuel (combustion engines)
• electricity (battery electric vehicles, EMUs)
• hydrogen (future)
• lubricants
• coolant
Fuel systems use pipes or tank containers.
Refueling behaviour:
• deterministic
• happens at designated fuel nodes
• takes time based on flow rate
Electric vehicles recharge via:
• overhead lines (rail)
• charging stations (road)
• ground rails (AGVs)

12. MAINTENANCE SYSTEM
Vehicles accumulate wear:
wear += speed × load × slope_factor × time
Maintenance tasks:
• engine overhaul
• wheel/truck replacement
• lubrication
• airframe check (aircraft)
• hull cleaning (ships)
AI and autopilot can schedule vehicles for maintenance.

13. VEHICLE ROUTING LOGIC
13.1 Deterministic Pathfinding
A Dijkstra/A* variant using:
• corridor length
• capacity
• grade
• turn penalties
• congestion cost
• interproperty distance
Fully deterministic.
13.2 Routing Layers
• Pedestrian layer (workers)
• Road layer
• Rail layer
• Water layer
• Air corridor layer
• Interproperty meta-layer
Routing merges at intermodal nodes.

14. MULTI-LEVEL TRANSPORT (BRIDGES + TUNNELS)
Corridors can cross:
• above
• below
• inside buildings
• under terrain
• through mountains
• over rivers
Every corridor segment contains Z coordinates for display and slope rules.
Example:
Segment 1: z = terrain_z + 5m  (bridge)
Segment 2: z = terrain_z - 12m (tunnel)
Works seamlessly with buildings (3.2).

15. FORKLIFTS, LOADERS, AGVs
Forklifts:
• player-drivable
• palette/TEU movement
• used at warehouses and docks
• have small turning radius
AGVs (Automated Guided Vehicles):
• low-speed robots
• used in large warehouses and factories
• follow ground markers or data-network instructions
• carry small TEU-equivalent containers
Loaders:
• lift bulk material
• fill hoppers
• load trucks
All deterministic.

16. VISUALIZATION & RENDERING OF ABSTRACTED TRAFFIC
For corridors that are long or outside the map:
16.1 Fade-out Rules
Vehicles fade out when:
• reaching interproperty portal
• exceeding player visibility radius
• behind major structures
• crossing horizon line (aircraft/ships)
Fade-out cannot occur if:
• player is too close
• player is looking directly at them (no pop-out)
• vehicle is in a tunnel or building (must animate entering)
16.2 Map-Level View
2D map shows:
• simple icons moving
• predicted ETA
• congestion overlays
• corridor utilization

17. GAMEPLAY PROGRESSION
Early Game:
• small trucks
• basic roads
• forklifts
• small aircraft pads
• short rail lines
Mid Game:
• medium rail lines
• container terminals
• bomber-lift cranes
• large warehouses
• dedicated interproperty terminals
Late Game:
• high-speed rail
• fully automated warehouses
• advanced aircraft
• container megahubs
• multi-level interchange structures

18. PERFORMANCE MODES
Low-End
• simplified rendering
• reduced vehicles visible
• corridor simplification
• low poly infrastructure
Medium
• full roads and rails
• aircraft paths
• container animations
High-End
• fully detailed yards
• vehicle interior view
• complex shadows
• many vehicles simultaneously
All deterministic underneath.

19. DATA STRUCTURES SUMMARY
struct TransportSystem {
    Corridor corridors[MAX_CORRIDORS];
    Vehicle  vehicles[MAX_VEHICLES];
    TransportNode nodes[MAX_NODES];

    uint64  interproperty_links[MAX_LINKS];
    uint32  schedules[MAX_SCHEDULES];
};

20. INVARIANTS
1. All movement deterministic; no physics randomness.
2. Corridors are explicit, player-constructed, arbitrarily shaped.
3. Vehicles only follow corridors and signals; no free driving.
4. Interproperty travel is deterministic meta-layer travel.
5. Player can drive/pilot anything; autopilot always available.
6. Workers/robots use same routing system.
7. Fuel, electricity, and maintenance integrated fully.
8. No item entities; all cargo virtual inside TEU containers.
9. Bridges, tunnels, multi-level routing always consistent with terrain.
10. All transport must remain frame-rate independent and tick-deterministic.

END OF VOLUME 3.5

Ready to continue with **Volume 3.6 — Player-Level Economy, Purchasing, Market UI, Logistics Planning, Financial Management**, or you may choose another volume next.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.6 — PLAYER-LEVEL ECONOMY, PURCHASING, MARKET INTERFACE, LOGISTICS PLANNING, FINANCE  
### Ground-Level Gameplay Layer Above the Economic Engine (Vol. 2.28)

---

# 1. PURPOSE

This volume defines the **player-facing layer** of Dominium’s economic engine:

- purchasing goods, materials, machines, vehicles, land  
- viewing and interacting with markets  
- configuring imports/exports  
- managing finances, loans, taxes, cashflow  
- controlling pricing decisions for their company  
- handling logistics/transport contracts  
- participating in futures/options/stock markets (once researched)  
- understanding production costs & profitability  
- integrating decisions with transport, factory, construction, and extraction gameplay  

This is the UI+interaction layer built directly atop **Volume 2.28** (the deterministic macro-micro hybrid economic simulation).

---

# 2. THE PLAYER COMPANY AS A FINANCIAL ENTITY

Every player controls at least one **company**:

```c
struct PlayerCompany {
    uint64 id;
    char   name[64];
    uint64 owner_player_id;

    int64  cash_cents;              // stored in cents for determinism
    int64  debt_cents;
    int64  credit_limit_cents;

    uint16 rating;                  // deterministic credit score
    uint64 assets_ids[MAX_ASSETS];
    uint64 liabilities_ids[MAX_LIABS];

    uint64 properties[MAX_PROPERTIES]; // list of land parcels

    uint8 tax_status;               // simplified tax model, deterministic
};
Players can:
• own multiple properties
• own shares in other companies
• issue bonds/shares (after research)
• merge with AI or player companies
• sell land or assets
No randomness exists anywhere—every economic outcome is deterministic.

3. PURCHASING SYSTEM
Players can buy:
• raw materials
• intermediate goods
• advanced goods
• machines
• vehicles
• tools
• containers (TEU 5ft – 80ft)
• buildings (prefab modules)
• land
• energy (grid electricity, fuel, gas)
• labour contracts
• robot units
• research licenses
Purchasing UI displays:
• current market price (deterministic)
• historical trend
• global supply/demand curves
• price elasticity (exposed for expert players)
• nearest suppliers
• transportation cost & estimated delivery time
• taxes, import/export duties
Purchases can be:
3.1 Spot Purchases
Immediate fulfillment at current price.
3.2 Delivery Contracts
• scheduled deliveries
• negotiated rates
• penalties for cancelation (deterministic)
3.3 Standing Orders
Automatic procurement system that triggers based on thresholds.

4. SELLING & EXPORTING
Players can sell to:
• local buyers (AI companies)
• global market
• specific buyer contracts
• long-term wholesale deals
UI shows:
• offer price
• transportation required
• fees, taxes
• revenue projections
Exports use TEU containers or tankers; logistics must be scheduled (Volume 3.5).

5. SUPPLY–DEMAND VIEW
The player sees:
• current global supply
• current global demand
• inventory levels
• price pressure
• competitor output
• futures market indicators
• seasonal/technological shifts
All derived deterministically from:
Price = f(Supply, Demand, Coefficients, Time, TransportCost)
No RNG.

6. LOGISTICS PLANNING (PLAYER-LAYER)
Player configures:
• freight routes
• desired throughput
• preferred transportation mode (road, rail, air, water)
• logistics budget
• yard/container allocation
The UI shows:
• bottlenecks
• corridor utilization
• idle vehicles
• congestion
• cost per TEU
• cost per tonne-km
• energy usage
Players may override autopilot routing with:
• custom schedules
• manual route assignment
• vehicle priority lanes
• expedited transport (premium rate)
All deterministic, layered over Volume 3.5 routing.

7. PRICING DECISIONS (PLAYER CONTROL)
When selling self-produced goods, players choose:
7.1 Modes
• Market price (auto)
• Markup price (e.g., +15% over cost)
• Fixed price
• Competitive price (match cheapest buyer)
• Premium price (limited supply → high price)
The engine simulates reaction from buyers deterministically.

8. FINANCIAL DASHBOARDS
Players have access to:
8.1 Balance Sheet
• assets
• liabilities
• net worth
8.2 Income Statement
• revenue
• expenses
• depreciation
• energy/utility cost
• labour cost
• logistics cost
• taxes
8.3 Cashflow Statement
Tracks changes in:
• cash
• loan repayments
• capital investments
All numbers are integer cents (no floats).

9. CAPITAL INVESTMENT
Players can invest in:
• new factories
• new extraction sites
• agricultural development
• new transportation corridors
• power generation
• research facilities
• workers/robots
Capital expenditure requests show:
• total material cost
• total labour cost
• utility installation cost
• construction timeline
• projected ROI (deterministic)

10. LOANS, DEBT, CREDIT
Player can:
• take loans
• issue bonds
• refinance debt
• negotiate credit limits
Interest is deterministic:
interest_per_tick = principal × rate_q16 / ticks_per_year
Late payments cause:
• penalties
• credit rating drop
• debt restructuring
No randomness.

11. TAXATION
Each property belongs to a jurisdiction:
• federal
• regional
• local
Taxes include:
• income tax
• land tax
• import/export duties
• payroll tax
• emissions fees (pollution)
Deterministic rules.
No RNG audits or arbitrary penalties.

12. STOCK MARKET (AFTER RESEARCH UNLOCK)
Players can:
• list their company
• buy shares in others
• trade in real-time (deterministic prices)
• take over competitors
• receive dividends
• vote in shareholder resolutions
Share price = deterministic function of:
future expected profits
current profit
risk coefficient (static rule-based)
market growth index
No random speculation.

13. FUTURES & OPTIONS (ADVANCED)
Players can hedge or speculate using:
• futures on commodities
• options on commodities or stock
• guaranteed delivery contracts
• interest rate contracts
All pricing is deterministic Black–Scholes-like but integer-based.

14. ECONOMIC NOTIFICATIONS
Player is notified when:
• market price spikes/crashes
• supply shortages occur
• shipping congestion happens
• major buyers or suppliers change behaviour
• key research reduces costs
• new competitors enter/exit markets
Notifications are deterministic and rule-based.

15. PLAYER DECISION AUTOPILOT MODE
Player can enable Company Autopilot, which handles:
• procurement
• export scheduling
• pricing
• logistics allocation
• basic financial optimization
Autopilot is deterministic and uses the same UI calls the player would.
Player can override manually at any time.

16. MULTIPLAYER ECONOMICS
Players in a shared universe:
• trade with each other
• compete in markets
• sign contracts
• form coalitions
• merge companies
• establish shared freight corridors
• pool research resources
All synchronized deterministically via server authoritative tick.

17. PROPERTY MARKET
Players may buy or sell land parcels.
Land value = deterministic function of:
• proximity to transport
• terrain suitability
• resources underneath
• local economic prosperity
• pollution
• zoning level
• infrastructure quality
No RNG real-estate market volatility.

18. UI REQUIREMENTS
UI must clearly show:
• current prices
• production cost breakdown
• logistics costs
• profitability per item
• taxes per interval
• projected cashflow
• dependency graph for industries
• bottleneck heatmap
Must work in:
• top-down 2D
• isometric 2D
• future 3D
• low-end hardware mode

19. PERFORMANCE AND DETERMINISM
• All prices, costs, and financial operations use integers.
• No floating-point drift.
• No randomness in any economic calculation.
• All economic simulations run on fixed cycles (1 tick, 10 ticks).
• Rate-limited UI updates do not affect simulation.

20. INVARIANTS
1. All financial calculations deterministic and integer-based.
2. Markets behave via supply-demand curves, no random noise.
3. Player actions map to engine state changes, never probabilistic.
4. Logistics cost always reflects actual routes and corridor lengths.
5. Interproperty shipping deterministic time & cost.
6. Players can override all automation with manual controls.
7. Multiplayer economy identical on all machines due to lockstep.
8. All factories, extraction, and logistics integrate cost data seamlessly.
9. No system allows for hidden information or random market manipulation.
10. All UI reflects simulation state exactly; no approximations.

END OF VOLUME 3.6

Ready for **Volume 3.7 — Property Expansion, Territory Control, Zoning, Claims, and Adjacency Rules** whenever you want to proceed.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.7 — PROPERTY EXPANSION, TERRITORY CONTROL, ZONING, CLAIMS, ADJACENCY RULES  
### Deterministic Regional Control Layer Above Map Hierarchy (Planet → Continent → Area → Property)

---

# 1. PURPOSE

This volume defines how players:

- acquire, expand, merge, and subdivide property  
- claim territory inside the global hierarchical map  
- interact with neighbouring AI/player properties  
- place zoning overlays for land use  
- manage adjacency, boundaries, and conflict rules  
- interface building networks between parcels  
- connect corridors (road/rail/power/data/pipes) across borders deterministically  
- participate in regional governance (taxes, fees, infrastructure usage)  

All behaviour must be deterministic, reversible, and consistent across offline and online universes.

---

# 2. MAP HIERARCHY (RECAP & EXTENSION)

Dominium uses a scale hierarchy:

Galaxy
└── Solar System
└── Planet
└── Continent (logical)
└── Area 256×256 km (logical)
└── Property (physical play space)

Only **Properties** contain simulated terrain, buildings, and infrastructure.

Areas/Continents/Planets are **logical containers** for:

- taxation  
- environmental parameters  
- regional markets  
- adjacency rules  
- resource availability maps  

Properties never overlap.  
Their boundaries are quadrilateral or polygonal but always fixed after creation unless expanded by rules below.

---

# 3. PROPERTY DEFINITION

```c
struct Property {
    uint64 id;
    uint64 owner_company_id;

    WorldCoord corner_pts[MAX_VERTS];  // polygon footprint
    uint8    vert_count;

    uint64   parent_area_id;

    uint16   zoning_map[ZONING_CELLS]; // 16×16 m zoning grid
    uint8    security_level;
    uint8    access_rules;

    uint16   infrastructure_rights;    // rights to interproperty nodes
};
A property is a polygon, not necessarily a square, though starting shapes are rectangular.

4. CLAIMING INITIAL PROPERTY
4.1 Choosing a Location
The player selects:
• planet
• continent
• area
• approximate coordinate region
The engine fits a property seed polygon of permissible size (e.g., 512 m → 1024 m).
Real-world-like climate and resources (from area) affect property generation.
4.2 Collision Resolution
If multiple players select nearby regions (online server):
• properties cannot overlap
• nearest free space is found deterministically
• slight offset applied
• if impossible: user must pick a different region
Offline universes have no collision.

5. PROPERTY EXPANSION
Expansion is a deterministic growth of the polygon, subject to:
1. area boundaries
2. adjacency to other properties
3. zoning compliance
4. infrastructure conflict avoidance
5. expansion cost (land cost × modifiers)
5.1 Expansion Mechanisms
A. Tile Addition (recommended)
Property expands by attaching 16 m × 16 m zoning tiles.
Tiles must be adjacent to existing tiles.
B. Polygon Growth (advanced)
Edges can move outward by fixed increments if not blocked.
C. Full-Area Claim (late game)
Player can claim an entire Area (256×256 km logical).
This is extremely expensive but deterministic.

6. ZONING SYSTEM
Zoning divides property into functional categories:
• Residential (worker housing)
• Industrial (manufacturing, smelting, warehouses)
• Extractive (mines, pits, wells)
• Agricultural (farms, irrigation)
• Forestry
• Commercial (retail, services)
• Infrastructure (roads, rails, utilities)
• Environmental / Reserve (protected land)
• Administrative / Civic (offices, research, emergency)
Zoning is declared on a 16×16 m subgrid, independent of terrain elevation.
Building/industry rules check zoning before approval.

7. ADJACENCY & NEIGHBOUR INTERACTION
7.1 Borders
Borders are explicit segments between polygons.
Breach rules:
• buildings cannot cross borders
• corridors may cross only via interproperty nodes
• pipelines, power, data require explicit permissions
• water/air routes require cooperation of regions or international corridors
7.2 Neighbour Contracts
Neighbouring properties may:
• share corridors (rail/road/pipeline)
• buy/sell right-of-way
• share interproperty hubs
• establish joint economic zones
• set customs/tariffs on goods crossing borders
• establish mutual defence or policing agreements (future DLC)
These interactions are deterministic and contract-based.

8. TERRITORY CONTROL & CONFLICT RULES (NO WAR YET)
Pre-war system (combat DLC later) uses peaceful rules:
8.1 Blocking
Players may not block another’s property:
• cannot encircle
• cannot cut off access to interproperty nodes
• cannot sever infrastructure without contract termination
8.2 Dispute Resolution
Disputes are resolved deterministically:
• whichever property’s infrastructure was placed first retains rights
• later properties must reroute
• contract violations have automatic penalties
• servers enforce rules without randomness
8.3 Shared Corridors
Multiple companies may use a shared corridor:
• permissions required
• cost-sharing
• throughput quotas
All controlled by deterministic contract formulas.

9. INTERPROPERTY NODES
Each property contains only logical endpoints:
• rail interchange
• highway interchange
• air tunnel
• water lane
• power intertie
• data uplink
• pipeline hub
These nodes connect properties without requiring visible continuous infrastructure beyond the borders.
Players may build domestic infrastructure up to any node and link into it.
Nodes are physical objects in the world:
struct InterPropNode {
    uint64 id;
    uint8  type;
    WorldCoord pos;
    uint64 connected_property_id;
    uint32 capacity_teu_hour;
    uint16 power_req_w;
    uint8  permissions;
};
Nodes allow deterministic travel from one property to another (see Vol. 3.5).

10. PROPERTY MERGING & SPLITTING
10.1 Merging
Two adjacent properties may merge if:
• same owner
• no unresolved border conflicts
• merged polygon must remain simple (no self-intersection)
The new polygon is the union of both.
All buildings remain in place; zoning maps combine.
10.2 Splitting
Players may split a property:
• choose boundary line
• ensure buildings/utilities don’t cross
• new child properties created with inherited zoning
Zoning maps are subdivided accordingly.

11. ACQUISITIONS, BUYOUTS, AND COALITIONS
Players may:
• purchase neighbour properties
• negotiate mergers with AI
• form coalitions (shared governance)
• create subsidiaries that operate different parcels
• lease land
• sell partial rights (mineral rights vs surface rights)
Each transaction is deterministic, based on economic valuation rules:
value = land_value + building_value + resource_value
        + infrastructure_value - liabilities

12. RIGHTS-OF-WAY & INFRASTRUCTURE ACCESS
Infrastructure crossing property borders requires:
• contract
• fee schedule
• capacity allocation
• safety rules
• permission for workers/vehicles to enter neighbour land
Rights-of-way also apply to:
• pipelines
• power transmission lines
• data cables
• roads
• railways
• air lanes
• waterways
If contracts expire:
• vehicles reroute
• utilities shut off
• deterministic penalties apply

13. EXPANSION COST & ECONOMIC IMPACT
Expansion costs include:
• land purchase price
• transfer fees
• surveying cost
• legal cost
• infrastructure extension
• environmental mitigation
• tax reassessment
• pollution limit adjustments
Price is deterministic:
price = base × terrain_factor × zoning_factor × demand_factor × neighbour_pressure
No RNG fluctuation.

14. TERRAIN LIMITATIONS
Properties cannot expand into:
• open ocean
• sheer cliffs/unstable slopes (unless foundation/earthworks proven feasible)
• protected regions
• other players’ properties
• area boundaries if area is fully claimed
Earthworks (cut/fill, retaining walls) may enable expansion into borderline terrain.

15. ENVIRONMENTAL & CLIMATE FACTORS
Each Area has:
• rainfall
• temperature
• wind
• soil fertility
• groundwater
• mineral probability map
These determine:
• agricultural zones
• extractive suitability
• flood risk
• wildfire risk
• construction cost modifiers
Property boundaries must respect these deterministic distributions.

16. UI REQUIREMENTS
The UI overlays include:
• property boundaries
• zoning grid
• adjacency lines
• neighbour property names
• expand/cut tools
• conflict warnings
• interproperty portal locations
• resource density overlays
UI must support:
• top-down 2D
• isometric
• future 3D

17. MULTIPLAYER INTERACTION
Players on the same server:
• negotiate land deals
• form alliances
• divide large properties into co-op districts
• build shared infrastructure
• assign permissions to neighbours
• create multi-company metro networks
All interactions must be deterministic and server authoritative.

18. PERFORMANCE MODES
Low-End
• zoning map simplified
• fewer border overlays
• minimal adjacency highlighting
• small polygon resolution
Medium
• full zoning
• full adjacency graphs
High-End
• smooth borders
• multi-layer overlays
• interactive merging previews
Determinism unaffected.

19. DATA STRUCTURES SUMMARY
struct TerritorySystem {
    Property properties[MAX_PROPERTIES];
    InterPropNode inter_nodes[MAX_INTER_NODES];
    ZoningRule zoning_rules[ZONING_MAX];
    Border borders[MAX_BORDERS];
};

20. INVARIANTS
1. No two properties overlap.
2. Property boundaries are deterministic and immutable except through defined expansion/split/merge operations.
3. Zoning is grid-based and authoritative.
4. Infrastructure never crosses borders except through interproperty nodes.
5. All adjacency and collision resolution is deterministic.
6. No random land valuation; all costs formulaic.
7. Multiplayer territory rules enforce fairness and avoid blocking.
8. No pop-in/out of boundaries; transitions smooth.
9. Area-level characteristics propagate downward deterministically.
10. All property transactions follow fixed economic valuation rules.

END OF VOLUME 3.7

Ready to continue with **Volume 3.8 — Population & Workforce Simulation**, unless you want to adjust anything first.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
Understood. I will proceed directly into:
VOLUME 3.8 — POPULATION & WORKFORCE SIMULATION
Humans, Robots, Skills, Housing, Transport, Logistics, Autopilot Labour
Deterministic, Scalable, Economically Coupled Worker Model
Delivered as a full, continuous Markdown code block.

# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.8 — POPULATION & WORKFORCE SIMULATION  
### (Humans, Robots, Skills, Housing, Transport, Autopilot, Deterministic Labour System)

This subsystem governs **all labour**, including the player avatar, hired workers, autonomous robots, job dispatching, pathing, safety, transportation, skill growth, wages, training, housing, and economic implications.  
It is fully deterministic and integrated with the tick and economy layers.

---

# 1. OVERVIEW

Dominium supports two primary worker classes:

## 1.1 Humans
- behave like service contracts  
- have wages per hour, training costs, morale, and living needs  
- can gain experience and level up  
- require housing, food, utilities  
- require safe working environments  
- travel physically around the world  
- can use vehicles, enter buildings, operate machines  

## 1.2 Robots
- behave like capital goods  
- have a large upfront purchase cost  
- require electricity, maintenance, and replacement parts  
- do not gain experience  
- can be upgraded by installing improved AI cores  
- models vary by mobility and capacity  
- treated as inventory assets with depreciation  

Both classes use the same **task graph**, **pathfinding model**, **transport integration**, and **environment simulation**.

---

# 2. WORKER ENTITY MODEL

Workers are fully simulated entities (like Factorio bots or RimWorld pawns), but **only** when inside a loaded property.  
Outside active properties, they switch to **abstract mode**.

```c
struct Worker {
    uint64 id;
    WorkerType type; // HUMAN or ROBOT
    uint8 skill[SKILL_MAX];   // deterministic integer levels
    uint8 fatigue;            // 0–255
    uint8 morale;             // humans only
    uint8 ai_core;            // robots only

    Vec3 pos;                 // world-space position (loaded property only)
    bool physical;            // true = simulated in space, false = abstracted

    uint64 home_building;
    uint64 current_vehicle;
    uint64 assigned_job;
};
Deterministic, no randomness.

3. SKILLS & EXPERIENCE
Humans gain XP per completed job:
• Construction
• Machinery Operation
• Logistics
• Driving/Piloting
• Maintenance/Repair
• Mining/Extraction
• Administration
• Research/Data Analysis
Robots do not gain XP. Instead:
• Better AI cores unlock more complex tasks
• Hardware modules improve precision, strength, speed
XP curves are extremely slow to avoid power creep.

4. HOUSING & LIVING
4.1 Humans Require:
• a bed (home anchor)
• food & water
• power (for buildings)
• climate control
• access to restrooms & hygiene facilities
• recreation (morale buffer, optional)
4.2 Workers Choose Optimal Housing
Workers select housing based on:
• distance to workplace
• comfort rating
• rent/cost (if applicable)
• safety
• amenities
Housing shortages penalize morale and productivity.

5. JOB SYSTEM
5.1 Job Definition
Every job is a deterministic structure:
struct Job {
    JobType type;
    uint64 target_entity;
    Vec3 target_pos;
    uint64 initiator_company;
    uint8 required_skill;
    uint16 duration_ticks;
};
5.2 Job Types
• Move item
• Operate machine
• Construct building segment
• Perform maintenance
• Repair
• Drive vehicle
• Pilot aircraft
• Run research
• Deliver cargo
• Inspect networks
• Emergency response
5.3 Job Dispatching
A central Task Master assigns jobs using:
1. skill match
2. distance
3. fatigue
4. priority
5. pay grade
6. availability of tools/vehicles
Deterministic even in large populations.

6. AUTOPILOT PLAYER MODE
Players can:
• directly control their avatar
• switch to autopilot (AI controls them like a worker)
• queue tasks
• work as a "free labourer" early game
• integrate with job system
Autopilot uses the same rules as any human worker, ensuring fairness.

7. PATHFINDING & MOVEMENT
Workers must use:
• roads
• corridors
• tunnels
• stairs/lifts
• walkable terrain
• rails (if onboard trains)
• air routes (if in aircraft)
7.1 Pathfinding Model
Deterministic hierarchical A*:
• Level 1: coarse grids (256×256 m chunks)
• Level 2: mid grids (16×16 m subchunks)
• Level 3: exact navigation mesh inside buildings/terrain
Supports bridges/tunnels/multilevel buildings.

8. TRANSPORT INTEGRATION
Workers can board:
• forklifts
• trucks
• cars
• buses
• trains
• aircraft
• boats
• elevators
• conveyors (for robot workers)
Passenger capacity is enforced.
Workers reserve seats like cargo reserves slots.

9. FATIGUE, SCHEDULES, SHIFTS
Humans accumulate fatigue:
• faster in unsafe/hot/noisy environments
• slower with automation
• requiring rest ("sleep" at home building)
Robots accumulate maintenance fatigue:
• mechanical wear
• battery stress cycles
• calibration drift
9.1 Shifts
Companies define:
• 1-shift (day only)
• 2-shift (day + night)
• 3-shift (24h rotation)
Workers assign themselves based on:
• circadian preference
• housing location
• skills

10. COSTS (ECONOMICS INTEGRATION)
10.1 Humans
• hourly wage
• training cost
• healthcare
• insurance
• housing provision
• food/water
• safety cost multipliers
• job performance linked to morale
10.2 Robots
• upfront purchase
• battery charging cost
• maintenance kits
• replacement parts
• AI core upgrades
• repair services
• storage space
Both produce deterministic cost/benefit curves.

11. POPULATION GROWTH AND ATTRITION
11.1 No Random Birth/Death
Dominium is deterministic:
Humans do not reproduce. No RNG deaths.
11.2 Recruitment
Workers are hired from the global labour market:
• availability influenced by region
• salary offers determine acceptance
• deterministic queue ordering
11.3 Attrition
Workers leave only when:
• unpaid
• unsafe conditions
• morale too low
• housing disappears
• contract ends
All deterministic and reversible.

12. SAFETY & ACCIDENTS
Accidents are not RNG.
They occur only if:
• heat/fire/pressure thresholds exceeded
• machinery overloaded
• electrical arcs present
• unsafe pathing into restricted areas
Humans may be injured if they enter hazard zones.
Robots may be damaged.
Both require repair/treatment.

13. ABSTRACT MODE (NON-LOADED PROPERTIES)
When property is unloaded:
• workers become non-physical
• tasks become batch-simulated
• commute time computed from graphs
• fatigue computed analytically
• no per-tick pathfinding
• all results deterministic
This allows enormous populations without CPU explosion.

14. WORKFORCE MANAGEMENT UI
UI includes:
• worker list
• skill tables
• housing overview
• job queues
• transport utilisation
• fatigue/morale dashboards
• robot maintenance
• training programs
• safety alerts
All views support 2D, 2D-iso, and future 3D overlays.

15. INTERACTIONS WITH OTHER SYSTEMS
Workers depend on:
• 3.3 Resource Extraction (they operate mines)
• 3.4 Manufacturing (machines require operators)
• 3.5 Transport (vehicles for logistics)
• 3.6 Economy (wages → costs)
• 3.7 Territory Control (housing zones, accessibility)
• 2.22 Data Network (autonomous robots/AI cores)
• 2.23 Heat (worker safety)
• 2.24 Fire (escape routes)
• 2.26 Logistics (inventory and tools)
Everything fits into a consistent deterministic loop.

16. MULTIPLAYER
Workers cannot teleport across properties unless:
• vehicle route exists
• interproperty node supports passengers
• permissions granted
• deterministic travel time computed
Other rules:
• workers tied to company ownership
• trading workers is possible (contracts)
• coalition mode shares workers across merged companies

17. INVARIANTS
1. No RNG behaviour in workers.
2. All job assignments deterministic.
3. Pathfinding reproducible across clients.
4. Robots never gain skill; only AI cores change capability.
5. Humans require housing or suffer morale decay.
6. No teleportation except via explicit abstract-mode interproperty transitions.
7. Safety violations directly cause deterministic injuries/damage.
8. Autopilot mode uses the same worker engine as hired humans.
9. Worker count is unlimited in theory; simulation load scales through abstraction layers.
10. Multiplayer enforces server-side authoritative worker states.

END OF VOLUME 3.8

Ready for **Volume 3.9 — Disaster, Emergency & Risk Gameplay**, unless you want adjustments.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
Understood. Proceeding with:
VOLUME 3.9 — DISASTER, EMERGENCY, & RISK GAMEPLAY
Fire, Flood, Weather Extremes, Structural Failure, HazMat, Blackouts, Accidents, Safety, Insurance, Compliance, Emergency Services
Deterministic, Realistic, Non-Random, Simulation-First
Delivered as a continuous Markdown block.

# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.9 — DISASTER, EMERGENCY & RISK GAMEPLAY  
### (Deterministic Hazards, Structural Failure, Response Systems, Safety Standards, Compliance Enforcement)

This volume defines how environmental hazards, infrastructure failures, and emergency systems operate in Dominium.  
All disaster behaviour is **deterministic** — no RNG storms, no RNG accidents, no dice rolls.  
All consequences directly follow from player and simulation state.

---

# 1. GOALS

1. All disasters arise from **physical and operational causes**.  
2. No randomness; every failure is predictable with correct analysis.  
3. Risk is a function of design, maintenance, and infrastructure capacity.  
4. Systems must integrate across:
   - heat/fire (Vol 2.23–2.24)  
   - fluids/pressure (Vol 2.25)  
   - power (Vol 2.21)  
   - logistics (Vol 2.26)  
   - workforce (Vol 3.8)  
5. Emergency services behave like workers + vehicles with specialised tasks.  
6. Insurance, compliance, and regulatory layers apply economic penalties.  

This creates a realistic, high-skill industrial management system.

---

# 2. DISASTER CLASSES

## 2.1 Fire
Triggered when:
- temperature > ignition threshold  
- electrical arcs on flammable materials  
- chemical incompatibility (refer to Vol 2.25)  
- fuel vapour accumulation  
- damaged machinery overheating  
- lightning strike (only if defined by mod/planet rules—not RNG)  

## 2.2 Structural Failure
Triggered by:
- excessive load (vehicles, cargo, snow load if defined)  
- long-term fatigue  
- insufficient foundation  
- earthworks unstabilised  
- impact damage (vehicles, equipment)  
- excavation beneath supporting structures  

## 2.3 Flooding
Triggered by:
- water inflow > drainage  
- failed pumps  
- broken pipes  
- terrain depressions  
- storm surges (if planetary climate defines deterministic tide patterns)  

## 2.4 Pressure/Gas/Liquid Explosion
Triggered by:
- pipelines/tanks exceeding rated pressure  
- blocked vents  
- compressor errors  
- thermal expansion (Vol 2.25)  
- mixing incompatible materials  

## 2.5 Electrical Failures & Blackouts
Triggered by:
- transformer overload  
- line overload  
- undervoltage cascade  
- grounding failure  
- poor power factor  
- surge when restarting networks  

## 2.6 Chemical Hazards
Triggered when:
- incompatible chemicals mix  
- spill vapours exceed environmental thresholds  
- ventilation failures  
- waste mismanagement  

## 2.7 Pollution Accumulation
- air pollution  
- water pollution  
- soil contamination  
- noise  
- radioactive waste (if modded)  

Causes long-term economic penalties.

## 2.8 Worker Accidents (Deterministic)
Caused by:
- pathing into hazardous zones  
- using machinery without skill  
- high heat  
- poor ventilation  
- unstable structures  

No RNG death.

---

# 3. RISK SCORE SYSTEM (DETERMINISTIC)

Every entity maintains a **Risk Score Vector (RSV)**:

```c
struct RiskScore {
    uint16 fire;
    uint16 structural;
    uint16 electrical;
    uint16 flood;
    uint16 chemical;
    uint16 environmental;
    uint16 operational;
};
Risk modifies:
• insurance cost
• regulatory compliance
• worker morale
• maintenance frequency
• disaster likelihood (through deterministic physics)
RSV is recalculated at consistent intervals (e.g., every 10 ticks).

4. HAZARD SPREAD MECHANICS
4.1 Fire Spread
• based on material flammability
• heat propagation (Vol 2.23)
• oxygen availability
• ventilation
• insulation
• distance/adjacency
4.2 Water Spread & Flood Routing
• subchunk height fields (16 m grids)
• pressure/volume from Vol 2.25
• drain networks
• pumps
• underground tunnels
4.3 Smoke/Gas Propagation
• uses low-resolution voxel fields
• moves through vents, doors, stairwells
• affects worker safety
• triggers alarms
All propagation deterministic.

5. EMERGENCY SERVICES
5.1 Firefighting Units
• fire trucks
• hoses, hydrants
• suppression foam
• firefighting robots
• building sprinkler systems
• fire doors & compartmentalisation
5.2 Medical Units
• ambulances
• medics
• drones delivering supplies
• medical rooms / clinics
5.3 Engineering Response
• electrical crews
• pipeline technicians
• structural engineers
• hazmat teams
5.4 Police/Security (Early non-combat version)
• enforce safety zones
• evacuate workers
• secure accident sites
• future integration into war/conflict DLC
Emergency units behave like specialised worker + vehicle combos (see Vol 3.8 & 3.5).
Emergency dispatch operates through:
• a deterministic priority queue
• travel time
• accessibility
• available resources
• severity scoring

6. ALARMS & DETECTION
Systems include:
• fire alarms
• smoke sensors
• heat sensors
• water-level sensors
• gas detectors
• structural strain gauges
• power surge detectors
Each sensor produces messages on the Data Network (Vol 2.22).
Response logic is programmable with the deterministic packet system.

7. SAFETY SYSTEMS
Buildings may include:
• fire doors
• sprinklers
• gas vents
• explosion panels
• overpressure valves
• grounding lines
• lightning arrestors
• flood gates
• structural reinforcement
• emergency lighting
Systems activate only based on thresholds, not randomness.

8. INSURANCE, COMPLIANCE & REGULATION
8.1 Insurance
Premiums based on:
• hazard scores
• past incidents
• building quality
• worker safety score
• compliance with codes
Deterministic formula:
premium = base × (1 + risk_factor) × compliance_multiplier
8.2 Government/Authority Codes
(Not Earth laws, but Dominium-spec industrial codes)
• electrical code
• building code
• fire code
• environmental code
• worker safety code
Violations incur fines, production limits, or shutdown orders.
8.3 Inspections
Triggered by:
• elapsed time
• safety threshold breaches
• manual request
Inspections produce deterministic reports and penalties.

9. DISASTER RESOLUTION & RECOVERY
9.1 Fire Recovery
• extinguish
• structural reevaluation
• damaged entities repaired or replaced
• insurance claim processed
9.2 Flood Recovery
• pump out water
• replace damaged electrical systems
• sanitation cleanup
• restore utilities
9.3 Structural Failure Recovery
• remove rubble
• rebuild foundation
• re-evaluate soil stability
9.4 Chemical HazMat Recovery
• neutralise
• decontaminate
• dispose of waste
• restore ventilation
9.5 Power Failure Recovery
• restart sequence (deterministic surge model)
• re-sync AC phases
• recalibrate grid frequency

10. MULTIPLAYER CONSIDERATIONS
• disasters never spread between properties except via explicit shared infrastructure
• interproperty contracts specify liability
• one company’s flood cannot invade neighbor unless boundaries physically allow
• fire cannot jump borders except via shared buildings (rare edge case)
• servers are authoritative for all disaster events

11. UI
UI overlays include:
• risk heatmaps
• fire propagation projection
• flood routing arrows
• electrical load stress
• structural strain visualisation
• compliance warnings
• emergency vehicle routing
• active incident list
• timeline of events
Must be available in 2D, 2D-iso, and 3D.

12. INVARIANTS
1. No RNG. All disasters follow from explicit physical conditions.
2. All hazard propagation deterministic.
3. All emergency unit behaviour deterministic.
4. All safety systems activate logically, not probabilistically.
5. No random worker injury; only threshold violations.
6. Regulatory and insurance outcomes formulaic and consistent.
7. Multiplayer hazard interactions require explicit links.
8. Recovery processes fully deterministic.
9. Disaster risk fully exposable to players via tooltips/overlays.
10. No hidden modifiers; all risk arises from player decisions.

END OF VOLUME 3.9

Ready for **Volume 3.10 — Progression, Achievements, Campaign Mode**, or adjustments.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
Understood. Proceeding with the next subsystem:
VOLUME 3.10 — PROGRESSION, ACHIEVEMENTS, CAMPAIGN MODE
Progress, Milestones, Long-Form Goals, Optional Narrative, Tutorials, Difficulty Models
Deterministic, Fully Offline-Compatible, Multiplayer-Consistent
Delivered as a continuous Markdown block.

# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.10 — PROGRESSION, ACHIEVEMENTS & CAMPAIGN MODE  
### (Long-Term Advancement, Branching Goals, Optional Narrative, Tutorials, Difficulty Models)

This volume defines how a player progresses in Dominium through research, expansion, skills, achievements, optional campaigns, and structured or unstructured goals.  
All systems are deterministic and compatible with offline and online play.

---

# 1. GOALS

1. Provide **long-term direction** without forcing a linear experience.  
2. Avoid hard gating: all progress must be deterministically achievable through standard play.  
3. Support a **freeplay sandbox** as the primary mode.  
4. Enable optional structured content:  
   - campaign missions  
   - tutorials  
   - challenges  
   - scenario packs  
5. Integrate achievements into simulation data (no randomness, no arbitrary gating).

---

# 2. PROGRESSION MODEL (NON-RNG)

Dominium uses a **vector of progress dimensions**, not a single “tech level”.

### 2.1 Dimensions
- **Technology Level** (research tree)  
- **Economic Strength** (market share, assets, liquidity)  
- **Territorial Development** (property size, zoning, infrastructure)  
- **Industrial Maturity** (production complexity, logistics networks)  
- **Workforce Maturity** (training, robot AI cores)  
- **Regional Influence** (trade, contracts, interproperty networks)  
- **Stability** (risk, compliance, insurance rating)  

Each dimension updates deterministically based on in-game systems.

No “XP per minute”. All based on real operations.

---

# 3. ACHIEVEMENTS

## 3.1 Philosophy
Achievements must be:
- deterministic  
- reproducible  
- never luck-based  
- tied to real operations  

## 3.2 Categories
### A. Structural Achievements
- Build first house  
- Build first machine  
- Construct multi-storey building  
- Build first interproperty corridor  

### B. Industrial Achievements
- Automate your first production chain  
- Build first refinery  
- Produce first advanced alloy  

### C. Economic Achievements
- Reach $X net worth  
- Float company on stock exchange  
- Construct first power plant  

### D. Infrastructure Achievements
- Connect rail to all districts  
- Electrify entire property  
- Build an airport  
- Connect interplanetary node (if DLC installed)  

### E. Workforce Achievements
- Train a worker to skill level 10  
- Deploy 100 robots  

### F. Safety & Reliability Achievements
- Zero accidents for 1 game year  
- Full compliance certification  

### G. Exploration Achievements (Interstellar DLC)
- Establish first orbital station  
- Land on another planet  

---

# 4. RESEARCH PROGRESSION (INTEGRATION)

Research progression is defined in **Volume 2.22 Data Network**:

- science data generated by laboratory machines  
- data routed over deterministic packets  
- research nodes accumulate data  
- unlock tech based on thresholds  

Tech unlocks new:

- machines  
- infrastructure types  
- materials  
- vehicle classes  
- AI cores  
- zoning qualifications  
- safety systems  

Research is **continuous**; no “eureka moment” RNG.

---

# 5. OPTIONAL CAMPAIGN MODE

The game’s main mode is **freeplay**, but Dominium supports a **deterministic campaign**.

## 5.1 Structure
Campaign is a sequence of:

- scripted mission goals  
- story flavour  
- fixed starting maps  
- tutorials  
- deterministic triggers  

## 5.2 Campaign Architecture
Campaigns are implemented as **Lua scenario scripts**:

```lua
on_tick()
on_building_completed()
on_research_completed()
trigger_event("chapter_2")
These scripts:
• cannot modify deterministic engine logic
• can only request allowed operations (place objectives, show messages, etc.)
• cannot introduce RNG or fork simulation state
5.3 Campaign Difficulty
Difficulty modifies only:
• starting conditions
• resource availability
• market conditions
• disaster tolerance
• research cost multipliers
Never affects determinism.

6. SCENARIOS & CHALLENGES
Scenarios are small, self-contained tasks:
• time-limited logistics goals
• fixed disasters to handle
• resource shortages
• production targets
• puzzle maps
• budget-challenge starts
Each scenario provides deterministic initial state + objectives.
Challenges use:
• global leaderboards
• replayable deterministic seeds

7. MILESTONES & GOALS (FREEPLAY MODE)
Players receive soft goals to encourage long play:
• Electrify 50% of property
• Build domestic airport
• Establish 10-machine production chain
• Achieve net energy surplus
• Reach stable housing + workforce equilibrium
Milestones do not restrict play; they act as guidance.

8. DIFFICULTY SETTINGS
8.1 Simulation Difficulty
Modifies:
• maintenance rates
• infrastructure wear
• workforce fatigue
• insurance multipliers
• disaster propagation speed
8.2 Economic Difficulty
Modifies:
• market prices
• loan interest
• tax rates
• AI competition strength
8.3 Research Difficulty
Modifies:
• data requirement multipliers
• lab machine throughput
8.4 Permissiveness Difficulty
Modifies:
• building code strictness
• environmental tolerance
• worker safety requirements
All modifiers maintain deterministic behaviour.

9. PLAYER TITLES & COMPANY RANKS
As the company grows, it may be awarded titles:
• Local Operator
• Regional Developer
• Industrial Authority
• National Conglomerate
• Planetary Megacorp
• Interstellar Cartel (DLC)
Titles unlock:
• UI ribbons
• expanded contracts
• ability to claim larger properties
• stock issuance rights
No gameplay bonuses that break balance.

10. ENDGAME LOOP
Dominium has no forced ending.
Endgame progression includes:
• full automation
• expansion to entire area/regional scale
• capital megaprojects
• advanced materials
• orbital facilities (DLC)
• corporate alliances
• interproperty metro networks
• complete energy independence
• stock market dominance
Players can continue indefinitely.

11. MULTIPLAYER PROGRESSION RULES
• achievements tracked per player
• company progression shared if part of same company
• campaign not typically available in multiplayer (but possible)
• scenarios may be multiplayer optional
• research tree may be shared or separate depending on company structure
• server authoritative progression

12. UI
UI shows:
• tech tree
• achievement tree
• milestone tracker
• campaign objectives
• progression vectors
• next recommended goal
• history timeline

13. INVARIANTS
1. All progression deterministic.
2. No RNG in achievements or unlocks.
3. Campaign scripts cannot break determinism.
4. Progress arises from actual simulation events.
5. Multiplayer progression never diverges (server authoritative).
6. Difficulty modifiers cannot introduce non-deterministic behaviour.
7. Scenario and challenge states fully serialisable.
8. Titles/certifications derived from real simulation stats.
9. No “XP per minute” abstractions.

END OF VOLUME 3.10

Ready for **Volume 3.11 — UI & UX Systems**, unless you prefer a different ordering.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.11 — USER INTERFACE & USER EXPERIENCE SYSTEMS  
### (2D / 2D-ISO / 3D Views, Overlays, Panels, Tools, Input Model, Layout, Accessibility)

This volume defines the entire UI/UX framework of Dominium.  
Everything must operate deterministically in terms of simulation-relevant interactions but may render freely.  
The UI must support **low-end hardware**, **modern systems**, and **future legacy ports** (SDL1, SDL2, DX9, GL1/GL2).

---

# 1. UI PHILOSOPHY

1. **Simulation-first, not graphics-first**. UI visual layers never affect determinism.  
2. **Three View Modes**:  
   - **Top-Down 2D Ortho**  
   - **Isometric 2D**  
   - **3D Free Cam / First Person**  
3. **All tools work in all views**. No view-specific gameplay restriction.  
4. **Everything must be accessible from keyboard-only**, mouse-only, controller-only.  
5. **Minimal latency**: UI rendering separated from simulation tick.  
6. **Scalable UI**: runs on 800×600 CRT up to 8K ultrawide.  

The UI is a deterministic *frontend* over nondeterministic *presentation*.

---

# 2. VIEW SYSTEM (2D ORTHO, 2D ISO, 3D)

Dominium supports seamless switching between views.

## 2.1 Top-Down 2D Ortho
- CAD-like  
- grid-aligned  
- best for infrastructure planning  
- high clarity for zoning, terrain, utilities  
- vector mode or bitmap mode  

## 2.2 2D Isometric
- visually richer  
- Factorio/Anno-style readability  
- pseudo-3D depth  
- useful for city planning, logistics visualization  
- same interactions as ortho  

## 2.3 3D Free Cam / First-Person
- for immersion, inspections, manual construction  
- 3D meshes for terrain, buildings, vehicles  
- vector/wireframe mode available on low hardware  
- deterministic camera controls  

Views are purely rendering modes—the underlying data is identical.

---

# 3. RENDER OVERLAYS

Overlays communicate subsystem data:

### 3.1 Infrastructure Overlays
- roads, rails, pipelines  
- power lines (AC/DC, phase/frequency indicators)  
- data network (wiring, packet routes)  
- conveyor paths  
- water flows, pressure gradients  
- heatmaps (temp, fire risk)

### 3.2 Economic Overlays
- marketable goods  
- production flow diagrams  
- labor utilisation  
- cost breakdown by building  
- supply/demand heatmap  

### 3.3 Geographic Overlays
- elevation  
- slopes  
- soil types  
- water table  
- flood risk  

### 3.4 Zoning & Property Overlays
- zoning grid  
- property boundaries  
- multi-company adjacency lines  
- interproperty nodes  

### 3.5 Emergency Overlays
- fire spread projection  
- structural strain  
- worker evacuation routes  
- flooding projection  
- pollution plumes  

All overlays must work in all views.

---

# 4. UI PANELS & HUD

Dominium uses a modular panel system.

## 4.1 Core Panels
- Build menu  
- Inventory/logistics  
- Power panel  
- Data network panel  
- Worker management  
- Economic dashboard  
- Property/zoning  
- Research tree  
- Notifications feed  
- Time & simulation controls  

## 4.2 HUD
- current tool  
- coordinates  
- UPS/FPS  
- time warp factor  
- money balance  
- alerts  

HUD is minimal, configurable, scalable.

---

# 5. TOOL SYSTEM

Every action occurs through a **Tool**:

### 5.1 Tool Concepts
- tools are context-sensitive  
- invariant: tools cannot break determinism  
- tools operate on grid, polygon, or freeform  

### 5.2 Core Tools
- **Select** (entities, buildings, workers)  
- **Zone** (apply zoning)  
- **Build** (machines, buildings, infrastructure)  
- **Terrain** (raise/lower, cut/fill, smoothing)  
- **Utility Tools**:
  - pipe  
  - cable  
  - conveyor  
  - rail  
  - road  
- **Demolish**  
- **Inspect** (tooltips+diagnostics)  

### 5.3 Blueprint Tools
- creation, saving, importing  
- multi-stage building construction  
- supports prefab modules  
- deterministic snapping 

### 5.4 Debug/Dev Tools (for Extras DLC)
- entity inspector  
- simulation charts  
- overlays with raw data  

All tools operate with tick-coherent interactions.

---

# 6. INPUT MODEL

## 6.1 Input Abstraction Layer
Supports:
- keyboard  
- mouse  
- controller/gamepad  
- future touch (mobile)  
- minimal legacy mouse input (for DOS, Win95)  

Input is **sampled**, not tied to simulation tick.

## 6.2 Interaction Modes
- click-to-select  
- drag-to-zone  
- drag-to-rail/pipe/road  
- shift/ctrl modifiers  
- cursor snapping modes  
- grid/rotation shortcuts  

In 3D:
- walking  
- noclip admin mode (off by default)  
- crouch, sprint  
- construction by projecting cursor onto terrain  

---

# 7. MENU SYSTEM

## 7.1 Main Menu
- New Game (choose Universe → Galaxy → Solar System → Planet → Region → Property)  
- Load Game  
- Multiplayer  
- Mods  
- Settings  
- Tools (World Editor, Asset Tools, etc)  
- Extras  
- Credits  

## 7.2 Settings Categories
- Graphics  
- Input  
- Simulation performance (UPS/FPS caps)  
- Audio  
- UI scale  
- Accessibility  

## 7.3 Launcher Integration
Launcher detects optimal renderer + platform before game startup.

---

# 8. TOOLTIP & DIAGNOSTIC SYSTEM

Every entity can be inspected:

- material  
- energy/data/fluid connections  
- risk scores  
- maintenance status  
- production statistics  
- adjacency info  

Tooltips auto-expand on hold.  
Diagnostics allow deep dive (Power→Phase, Heat→DeltaT, etc).

---

# 9. ACCESSIBILITY

Support:
- colorblind-safe palette  
- high-contrast mode  
- screen reader pipeline (non-graphical description mode)  
- fully remappable keys  
- scalable fonts (vector fonts for legacy modes)  
- UI audio cues  

Legacy support:
- low-res fallback fonts for SDL1/DX9/GL1  
- neural or bitmap-free text rendering where required  

---

# 10. PERFORMANCE & LAYERING

UI rendering is fully separate from simulation:

```text
SIM TICK (deterministic)
↓
UI STATE TRANSFORM (deterministic)
↓
UI RENDER (non-deterministic)
UI must not block simulation.
UI must gracefully degrade:
10.1 Low-End Mode
• vector-only
• no shadows
• no animations
• simplified overlays
• no 3D view or minimal 3D
10.2 Mid Mode
• full 2D orthographic
• basic 3D
10.3 High Mode
• full 3D with shaders
• animated overlays
• depth-of-field, shadows, anti-aliasing
Renderer selection must be consistent with the platform layer.

11. MODDING
UI modding supports:
• adding tabs
• adding overlays
• injecting Lua UI panels
• custom HUD themes
• custom icons and fonts
Not permitted:
• altering core deterministic engine
• modifying simulation path via UI

12. MULTIPLAYER UI RULES
• property permissions determine what panels remote players can see
• company personnel management only visible to authorised players
• shared companies merge UIs
• remote property names and zones visible based on diplomacy
• live simulation rate (UPS) shown to all clients

13. INVARIANTS
1. UI never changes simulation state outside approved tool actions.
2. Clicking/interaction timestamps resolved deterministically.
3. All overlays matched to deterministic simulation data.
4. Camera modes never alter underlying coordinates.
5. Input sampling consistent across platforms.
6. UI remains fully functional even at 1 FPS during slow hardware conditions.
7. Low-end systems capable of full game interaction in 2D vector fallback.
8. Tools must be fully deterministic in their application rules.
9. No UI-driven desyncs in multiplayer; server authoritative.
10. Legacy systems must support minimal UI without breaking functionality.

END OF VOLUME 3.11

Ready for **Volume 3.12 — Multiplayer Gameplay**, or modifications if needed.
You said:
Yes
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.12 — MULTIPLAYER GAMEPLAY  
### (Architecture, Roles, Synchronisation, Permissions, Trading, Shared Companies, Servers, Headless Modes)

This volume defines how Dominium supports deterministic multiplayer across LAN, WAN, servers, headless clients, offline universes, and company-sharing.  
The multiplayer architecture is designed to scale from **2 players** to **hundreds**, while maintaining **perfect determinism**.

---

# 1. MULTIPLAYER PHILOSOPHY

1. Deterministic simulation identical between all clients.  
2. Server authoritative for:
   - timeline  
   - tick rate  
   - state transitions  
   - permissions  
   - property ownership  
3. Clients are dumb terminals: they show UI and send tool commands.  
4. No client simulation authority (prevents desync).  
5. Offline universes may be converted into online universes, but not merged with **other** universes.  
6. All interactions between players are through deterministic systems:
   - trade  
   - contracts  
   - shared infrastructure  
   - coalition companies  

---

# 2. MULTIPLAYER MODES

Dominium provides four multiplayer forms:

## 2.1 Shared-Property Co-op
Multiple players operate **one company** on **one property**.

- shared research  
- shared workers  
- shared economy  
- shared warehouses  
- shared build permissions  
- optional per-player roles (architect, logistics, research)

## 2.2 Multi-Property Co-op
Each player owns **different properties** but are allied.

- can connect interproperty corridors  
- can enable shared logistics  
- trade goods  
- joint research  
- mutual workers  

## 2.3 Competitive Mode
Players own **separate properties** and:

- compete in markets  
- bid for contracts  
- negotiate or deny right-of-way  
- manipulate supply/demand  
- buy/sell stock (if stock exchange enabled)

No direct combat until a future DLC.

## 2.4 Dedicated Server Persistent Universe
- server simulates entire universe  
- players join/leave  
- works like Factorio dedicated servers  
- property boundaries enforced  
- time always moves forward unless paused by permissions  

---

# 3. NETWORK ARCHITECTURE

## 3.1 Server Authoritative Model
The server executes all simulation ticks.  
Clients:
- send actions  
- receive world state deltas  
- render views  

## 3.2 Deterministic Input Lock-Step
Only deterministic commands are allowed:

```c
struct Command {
    uint64 player_id;
    CommandType type;
    uint64 target;
    Vec3 position;
    uint64 tick;
};
Server collects commands for each tick before execution.
3.3 Compression & Bandwidth
To support large worlds:
• chunk-based deltas
• entity-level compression
• delta-of-delta updates
• interest management (only send data near player camera/tools)
• low-end fallback: text-only diffs for legacy systems
Target bandwidth:
< 50 KB/s per active client, scalable downward.

4. LATENCY MODEL
Deterministic simulation means:
• server fixed-steps UPS
• clients interpolate for rendering only
• commands executed at server-tick matching client timestamp
Client prediction is non-authoritative and visual only.
4.1 Time Warp Multiplayer
Allowed only when:
• all players vote
• server supports it
• slowing down (when UPS drops) always allowed
No desync, just slower overall progression.

5. PERMISSIONS & ROLES
Every player is assigned:
5.1 Property Permissions
• build
• demolish
• zone
• access to workers
• manage research
• economy access
• infrastructure access
• emergency actions
• blueprint placement
5.2 Company Roles (Shared Company Mode)
• CEO (full permissions)
• CFO (economic controls)
• CIO (data & networks)
• COO (operations)
• CSO (safety & compliance)
• CTO (R&D)
Any player may be granted any role.

6. TRADING & TRANSACTIONS BETWEEN PLAYERS
Dominium allows deterministic interplayer commerce:
6.1 Goods Trading
• bulk commodities
• manufactured items
• TEU containers
• fluids/gas by pipeline contract
• electricity by power purchase agreement
6.2 Financial Transactions
• invoices
• long-term contracts
• futures (Volume 2.28)
• stock trading (if company is public)
• loans
• credit lines
6.3 Infrastructure Leasing
• rail access
• road access
• warehouse access
• port/airport usage
• data uplink usage
• pipeline throughput reservations
All contracts stored deterministically in server state.

7. INTERPROPERTY CORRIDORS MULTIPLAYER RULES
Players can link properties via:
• roads
• rails
• air lanes
• water lanes
• pipelines
• power lines
• data networks
Connections require:
• adjacency or interproperty node
• negotiated contract
• capacity specification
• maintenance responsibility
No one may block another’s access (see Volume 3.7).

8. MULTIPLAYER RESEARCH SYSTEM
In multi-company settings:
Per-Company Tech Trees:
• each company researches independently
• can licence technology to others
Shared Tech Trees:
• coalition mode
• tech unlocks are global
Tradeable:
• data packets
• research agreements
• lab usage fees

9. WORKFORCE MULTIPLAYER RULES
Workers may:
• be assigned to work for allied companies
• commute between properties through interproperty connections
• be contracted out as a service
• belong to joint ventures
• be transported by allied vehicles
Robots may be leased as assets processed deterministically.

10. MULTIPLAYER MARKET & ECONOMY
Markets are universal per-universe:
• all players affect supply/demand
• all players produce/consume goods
• prices emerge deterministically (Volume 2.28)
• speculation permitted
• futures/options/stocks strictly deterministic
Players cannot manipulate prices with exploits due to smoothing/guardrails.

11. SERVER PERSISTENCE
Server maintains:
• full save state
• company states
• markets
• time
• UPS/FPS
• event logs
• disaster history
• contracts
Servers may run:
• headless
• with limited client mode
• Linux/Windows/Mac
All binary-compatible.

12. UNIVERSAL SAVEGAME FORMAT
Multiplayer saves compatible with:
• single-player
• dedicated servers
• modded universes
• interstellar expansions
Saves include:
• universe ID
• seed
• tick counter
• deterministic RNG state (optional, for cosmetic randomness only)
• market states
• player/company data

13. MOD COMPATIBILITY
Multiplayer requires:
• identical mod set
• identical versions
• identical checksums
No hot-loading of mods during multiplayer.

14. SPECTATOR MODE
Features:
• camera-only
• cannot issue commands
• can view property with permissions
• can observe markets
• can serve as admin mode on servers
Useful for:
• streamers
• auditors
• inspectors

15. ADMIN TOOLS
Admins can:
• pause/unpause server
• kick/ban players
• inspect companies
• modify permissions
• roll back ticks (deterministic snapshotting)
• freeze a property
• enforce safety compliance
• perform server-side rebuild of corrupted chunks
Admins cannot:
• change physics
• alter economy formulas
• override determinism

16. DESYNC PREVENTION
Mechanisms:
• server authoritative tick
• command lockstep
• strict mod versioning
• chunk checksum verification
• client-side detection of drift
• auto-resync packets
If desync detected:
• client dumps view state
• receives full authoritative chunk states
• resumes deterministically
No mid-game permanent desyncs.

17. PERFORMANCE TARGETS
Minimum performance guarantee
• 10 active players
• 60 UPS
• <200 ms latency tolerated
Scalable:
• 100+ players possible
• distributed worker/task simulation via abstraction layers
Very low-end clients:
• 2D vector-only mode
• low-bandwidth sync
• server simulation unaffected

18. USER INTERFACE (3.11 INTEGRATION)
Multiplayer UI additions:
• property list by player/company
• chat
• diplomacy screen
• contract negotiation UI
• trade dashboard
• shared research
• property permission editor
• real-time UPS/FPS & latency display

19. MULTIPLAYER INVARIANTS
1. Server authoritative at all times.
2. No client-side determinism deviations.
3. Command lockstep—no free-running clients.
4. Mod sets must match exactly.
5. No cross-universe merging (except export/import via tools).
6. Contracts, trades, infrastructure rights must be deterministic.
7. Workers & vehicles synced deterministically.
8. Time warp requires all-player consent.
9. Saves fully deterministic across all platforms.
10. Spectators cannot affect simulation.

END OF VOLUME 3.12

Ready for **Volume 3.13 — Narrative, Lore Hooks, World Context**, or adjust direction.
You said:
Yes.
ChatGPT said:
GPT-5.1 — 2025-11-30
# DOMINIUM ENGINE SPECIFICATION — V3  
## VOLUME 3.13 — NARRATIVE, LORE HOOKS & WORLD CONTEXT  
### (Optional Story Layer, Worldbuilding Framework, Player Motivation, Non-Intrusive Lore Architecture)

This volume defines Dominium’s **optional** narrative framework.  
Dominium is fundamentally a systemic simulation; story must never override determinism, player freedom, or systemic integrity.  
Lore is provided as **context**, not content gating.

---

# 1. NARRATIVE PHILOSOPHY

1. **Optional:** The game can be played entirely without narrative.  
2. **Non-linear:** No forced sequences or mandatory missions.  
3. **Deterministic triggers:** No RNG events; all story beats are triggered by real simulation states.  
4. **Low-friction:** Story appears as:
   - messages  
   - emails  
   - reports  
   - advisories  
   - contracts  
5. **Scalable:** From zero narrative to fully guided play.  
6. **Future DLC-friendly:** More story arcs can be added without breaking continuity.  

The goal is *flavour, not force*.

---

# 2. LORE CONTEXT: “THE AGE OF SOVEREIGN ENTERPRISE”

Dominium is set in a near-future world where:

- nation-states remain, but economic independence via private landholdings increases  
- global supply chains are brittle  
- energy scarcity, automation, and climate shifts elevate the value of efficient micro-civilisations  
- new corporations form around **single self-sufficient properties**  
- these properties trade with each other to create rival, allied, or cooperative economic ecosystems  

This world context justifies:

- property simulation  
- interproperty networks  
- economic realism  
- advanced manufacturing  
- planetary expansion in future DLC  

The world is **not dystopian**, **not utopian**—simply complex and opportunity-rich.

---

# 3. PLAYER ROLE & BACKSTORY

Player is:

- a founder of a sovereign property  
- given initial capital (deterministic)  
- granted rights to settle a parcel  
- tasked (optionally) with forming a self-sufficient microcivilisation  

No fixed backstory; player defines their own identity and goals.

---

# 4. NARRATIVE HOOKS (OPTIONAL STORY THREADS)

These threads activate **only if the player opts in**:

## 4.1 The Industrial Renaissance Arc
- focuses on rebuilding abandoned infrastructure  
- reviving local economy  
- restoring environmental balance  
- forming strategic alliances  

## 4.2 The Autonomy Arc
- build full self-sufficiency  
- no imports allowed  
- research independence technologies  
- culminates in producing all critical materials domestically  

## 4.3 The Global Supply Chain Crisis
- deterministic events simulate:
  - port congestion  
  - resource shortages  
  - price surges  
- player responds by scaling logistics and stabilising markets  

## 4.4 The Technological Ascendant Arc
- focuses on research  
- high-tech components, robotics, automation  
- pushes toward interstellar DLC content  

## 4.5 The Territorial Challenge Arc
- focuses on expansion and negotiation  
- neighbouring properties may want:
  - joint corridors  
  - resource rights  
  - land swaps  

No forced conflict until war DLC.

---

# 5. CHARACTERS (LOOSELY DEFINED)

Characters appear as **text-based advisors**, not cutscenes.

## 5.1 Advisory Board
- **Operations Advisor:** construction, logistics, safety  
- **Economic Advisor:** markets, trade, pricing signals  
- **Research Advisor:** unlocking technologies  
- **Infrastructure Advisor:** utilities, zoning  
- **Environmental Advisor:** pollution, land stability  
- **Legal Advisor:** contracts, liability, compliance  

Each advisor comments only on simulation state.

---

# 6. STORY DELIVERY CHANNELS

Narrative appears through:

- Inbox messages  
- Company reports  
- Market bulletins  
- Environmental impact assessments  
- Structural engineering advisories  
- Workforce reports  
- Trade offers with flavour text  

All tied directly to simulation events.

Example:

> Structural Advisory: “Load-bearing structure at (X,Y) exceeding rated stress by 12%. Recommend reinforcement.”  
(not random — based on 2.24 & 3.9 rules)

---

# 7. CAMPAIGN INTEGRATION

Campaigns (Volume 3.10) provide:

- structured mission objectives  
- deterministic initial worlds  
- guided startup  

Story arcs supply:

- flavour context  
- narrative goals  

Campaign progress must never conflict with freeplay or deterministic tick rules.

---

# 8. ENVIRONMENTAL & PLANETARY LORE HOOKS

Lore can explain:

- planetary resources  
- soil types  
- geological formations  
- orbital conditions (for Interstellar DLC)  
- biomes and climates  
- historical industrial development of planets  

This influences:
- resource distribution  
- building constraints  
- atmospheric composition  
- worker requirements  

All deterministic.

---

# 9. FUTURE WAR / CONFLICT DLC HOOKS

This volume sets hooks for the War DLC:

- resource disputes  
- infrastructure sabotage (non-random failures pre-DLC)  
- territorial tension  
- security levels  
- police/security presence  
- contracts that regulate borders  
- embargoes  
- tariffs  

The War DLC will introduce fully deterministic conflict simulation.

---

# 10. PLAYER AGENCY

Narrative never forces:

- time limits  
- mission-critical gates  
- exclusive choices  

Players may:

- ignore all story content  
- read advisory notes selectively  
- follow one arc at a time or none  
- create a purely economic/engineering-only experience  

Dominium is player-centred.

---

# 11. MODDING (NARRATIVE)

Mods can add:

- scenarios  
- advisors  
- inbox messages  
- world lore expansions  
- planet-specific cultures  
- narrative arcs  

Cannot:

- override deterministic rules  
- add random-number macro events  
- modify simulation physics  

---

# 12. UI INTEGRATION

Narrative accessed through:

- Message Inbox  
- Advisor Panel  
- Event Timeline  
- Archives  

Styling must be:
- textual  
- clear  
- non-intrusive  
- accessible even in low-end modes  

---

# 13. INVARIANTS

1. No random story events.  
2. All narrative triggers rely on simulation conditions.  
3. Player can opt out entirely.  
4. No simulation state changed by pure narrative flavour.  
5. Advisors only interpret, never rewrite, engine state.  
6. No modal interruptions; narrative overlays are non-blocking.  
7. All arcs optional and unbranched from deterministic simulation.  
8. Campaigns deterministic and fully consistent across platforms.  
9. Story integration never breaks multiplayer synchronicity.  
10. Lore content adds flavour but zero mechanical effect outside defined mechanics.

---

# END OF VOLUME 3.13
