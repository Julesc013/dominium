cmake_minimum_required(VERSION 3.16)

add_subdirectory(windows_exe)
add_subdirectory(windows_msi)
add_subdirectory(macos_pkg)
add_subdirectory(linux_deb)
add_subdirectory(linux_rpm)
add_subdirectory(steam)

add_custom_target(setup-adapters)
if(TARGET build-windows-exe-adapter)
    add_dependencies(setup-adapters build-windows-exe-adapter)
endif()
if(TARGET build-windows-msi-wrapper)
    add_dependencies(setup-adapters build-windows-msi-wrapper)
endif()
if(TARGET build-macos-gui-adapter)
    add_dependencies(setup-adapters build-macos-gui-adapter)
endif()
if(TARGET build-macos-pkg-wrapper)
    add_dependencies(setup-adapters build-macos-pkg-wrapper)
endif()
if(TARGET build-linux-deb-wrapper)
    add_dependencies(setup-adapters build-linux-deb-wrapper)
endif()
if(TARGET build-linux-rpm-wrapper)
    add_dependencies(setup-adapters build-linux-rpm-wrapper)
endif()
if(TARGET build-steam-provider)
    add_dependencies(setup-adapters build-steam-provider)
endif()


if(WIN32)
    add_subdirectory(windows)
endif()

if(APPLE)
    add_subdirectory(macos)
endif()

if(UNIX AND NOT APPLE)
    add_subdirectory(linux)
endif()

add_subdirectory(steam)

