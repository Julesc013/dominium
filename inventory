source\domino\daggregate.c:20:    idx = (U32)(id - 1);
source\domino\daggregate.c:49:    elem->id = id;
source\domino\daggregate.c:67:    agg->id = (AggregateId)(idx + 1);
source\domino\daggregate.c:68:    agg->mobility = mobility;
source\domino\daggregate.c:69:    agg->env = env;
source\domino\daggregate.c:70:    agg->element_ids = g_agg_elements[idx];
source\domino\daggregate.c:71:    agg->drag_coeff = 0;
source\domino\daggregate.c:72:    agg->lift_coeff = 0;
source\domino\daggregate.c:73:    agg->buoyancy_factor = 0;
source\domino\daggregate.c:77:    dagg_recompute_mass_volume(agg->id);
source\domino\daggregate.c:78:    return agg->id;
source\domino\daggregate.c:89:    idx = (U32)(id - 1);
source\domino\daggregate.c:90:    for (i = 0; i < agg->element_count; ++i) {
source\domino\daggregate.c:91:        Element *elem = dagg_element_lookup(agg->element_ids[i]);
source\domino\daggregate.c:93:            elem->agg = 0;
source\domino\daggregate.c:96:    agg->element_count = 0;
source\domino\daggregate.c:98:    agg->element_ids = g_agg_elements[idx];
source\domino\daggregate.c:99:    agg->id = 0;
source\domino\daggregate.c:100:    agg->mobility = AGG_STATIC;
source\domino\daggregate.c:101:    agg->env = ENV_SURFACE_GRID;
source\domino\daggregate.c:102:    agg->mass = (MassKg)0;
source\domino\daggregate.c:103:    agg->volume = (VolM3)0;
source\domino\daggregate.c:104:    agg->drag_coeff = 0;
source\domino\daggregate.c:105:    agg->lift_coeff = 0;
source\domino\daggregate.c:106:    agg->buoyancy_factor = 0;
source\domino\daggregate.c:117:    if (agg->element_count >= DAGG_MAX_ELEMENTS_PER_AGG) return false;
source\domino\daggregate.c:121:    if (elem->agg != 0 && elem->agg != agg_id) {
source\domino\daggregate.c:126:    for (i = 0; i < agg->element_count; ++i) {
source\domino\daggregate.c:127:        if (agg->element_ids[i] == elem_id) {
source\domino\daggregate.c:128:            elem->agg = agg_id;
source\domino\daggregate.c:133:    agg->element_ids[agg->element_count] = elem_id;
source\domino\daggregate.c:134:    agg->element_count++;
source\domino\daggregate.c:135:    elem->agg = agg_id;
source\domino\daggregate.c:148:    for (i = 0; i < agg->element_count; ++i) {
source\domino\daggregate.c:149:        if (agg->element_ids[i] == elem_id) {
source\domino\daggregate.c:152:                elem->agg = 0;
source\domino\daggregate.c:154:            if (agg->element_count > 0) {
source\domino\daggregate.c:155:                agg->element_count--;
source\domino\daggregate.c:156:                agg->element_ids[i] = agg->element_ids[agg->element_count];
source\domino\daggregate.c:157:                agg->element_ids[agg->element_count] = 0;
source\domino\daggregate.c:171:    agg->mass = (MassKg)((I64)agg->element_count);
source\domino\daggregate.c:172:    agg->volume = (VolM3)(((I64)agg->element_count) << 16);
source\domino\dblueprint.c:14:    return &g_blueprints[id - 1];
source\domino\dblueprint.c:22:    bp = &g_blueprints[g_blueprint_count - 1];
source\domino\dblueprint.c:24:    bp->id = g_blueprint_count;
source\domino\dblueprint.c:25:    bp->name = name;
source\domino\dblueprint.c:26:    bp->elem_capacity = elem_capacity;
source\domino\dblueprint.c:28:        bp->elems = (BlueprintElement*)malloc(sizeof(BlueprintElement) * elem_capacity);
source\domino\dblueprint.c:29:        if (!bp->elems) {
source\domino\dblueprint.c:30:            bp->elem_capacity = 0;
source\domino\dblueprint.c:31:            g_blueprint_count--;
source\domino\dblueprint.c:34:        memset(bp->elems, 0, sizeof(BlueprintElement) * elem_capacity);
source\domino\dblueprint.c:36:    return bp->id;
source\domino\dblueprint.c:48:    if (bp->elems) {
source\domino\dblueprint.c:49:        free(bp->elems);
source\domino\dblueprint.c:50:        bp->elems = 0;
source\domino\dblueprint.c:60:    if (!bp->elems || bp->elem_count >= bp->elem_capacity) return 0;
source\domino\dblueprint.c:61:    dst = &bp->elems[bp->elem_count];
source\domino\dblueprint.c:63:    dst->id = bp->elem_count + 1;
source\domino\dblueprint.c:64:    bp->elem_count++;
source\domino\dblueprint.c:65:    return dst->id;
source\domino\dblueprint.c:87:    if (!bp || bp->elem_count == 0) return;
source\domino\dblueprint.c:88:    job_map = (JobId*)malloc(sizeof(JobId) * bp->elem_count);
source\domino\dblueprint.c:90:    memset(job_map, 0, sizeof(JobId) * bp->elem_count);
source\domino\dblueprint.c:93:    for (i = 0; i < bp->elem_count; ++i) {
source\domino\dblueprint.c:94:        BlueprintElement *be = &bp->elems[i];
source\domino\dblueprint.c:97:        def.kind = dblueprint_job_kind(be->kind);
source\domino\dblueprint.c:99:        def.target_tile = be->tile;
source\domino\dblueprint.c:100:        def.required_item = be->required_item;
source\domino\dblueprint.c:101:        def.required_count = be->required_count;
source\domino\dblueprint.c:107:    for (i = 0; i < bp->elem_count; ++i) {
source\domino\dblueprint.c:108:        BlueprintElement *be = &bp->elems[i];
source\domino\dblueprint.c:112:        jptr->dep_count = 0;
source\domino\dblueprint.c:113:        for (j = 0; j < be->dep_count && j < 4; ++j) {
source\domino\dblueprint.c:114:            BlueprintElementId dep_elem = be->deps[j];
source\domino\dblueprint.c:116:            for (k = 0; k < bp->elem_count; ++k) {
source\domino\dblueprint.c:117:                if (bp->elems[k].id == dep_elem) {
source\domino\dblueprint.c:118:                    if (jptr->dep_count < 4) {
source\domino\dblueprint.c:119:                        jptr->deps[jptr->dep_count++] = job_map[k];
source\domino\deconomy.c:16:    if (!def || !def->name) return 0;
source\domino\deconomy.c:30:    return &g_markets[id - 1];
source\domino\deconomy.c:50:    return &g_offers[id - 1];
source\domino\deconomy.c:60:        if (o->item != item) continue;
source\domino\deconomy.c:61:        if (o->type != OFFER_SELL) continue;
source\domino\deconomy.c:62:        if (o->quantity == 0) continue;
source\domino\deconomy.c:63:        if (best_id == 0 || o->price_per_unit < best_price) {
source\domino\deconomy.c:64:            best_price = o->price_per_unit;
source\domino\deconomy.c:65:            best_id = o->id;
source\domino\deconomy.c:78:        if (o->item != item) continue;
source\domino\deconomy.c:79:        if (o->type != OFFER_BUY) continue;
source\domino\deconomy.c:80:        if (o->quantity == 0) continue;
source\domino\deconomy.c:81:        if (best_id == 0 || o->price_per_unit > best_price) {
source\domino\deconomy.c:82:            best_price = o->price_per_unit;
source\domino\deconomy.c:83:            best_id = o->id;
source\domino\dactor.c:29:    if (!def || !def->name) return 0;
source\domino\dactor.c:43:    return &g_species[id - 1];
source\domino\dactor.c:60:    a->id = (ActorId)(i + 1);
source\domino\dactor.c:61:    a->species = species;
source\domino\dactor.c:62:    a->env = env;
source\domino\dactor.c:63:    a->health_0_1 = (Q16_16)(1 << 16);
source\domino\dactor.c:64:    a->stamina_0_1 = (Q16_16)(1 << 16);
source\domino\dactor.c:65:    return a->id;
source\domino\dactor.c:71:    if (!g_actor_used[id - 1]) return 0;
source\domino\dactor.c:72:    return &g_actors[id - 1];
source\domino\dactor.c:79:    g_actor_used[id - 1] = false;
source\domino\dactor.c:106:        if (a->stamina_0_1 < (Q16_16)(1 << 16)) {
source\domino\dactor.c:107:            a->stamina_0_1 += (Q16_16)(1 << 10);
source\domino\dactor.c:108:            if (a->stamina_0_1 > (Q16_16)(1 << 16)) a->stamina_0_1 = (Q16_16)(1 << 16);
source\domino\dactor.c:113:    if (a->health_0_1 > delta) {
source\domino\dactor.c:114:        a->health_0_1 -= delta;
source\domino\dactor.c:116:        a->health_0_1 = 0;
source\domino\dactor.c:122:    if (!a || a->zone == 0) return 0;
source\domino\dactor.c:123:    return dzone_get(a->zone);
source\domino\dactor.c:144:    sp = dactor_species_get(a->species);
source\domino\dactor.c:146:    o2_req = dactor_mul_q48_q16(sp->o2_consumption_kg_s, dt);
source\domino\dactor.c:147:    co2_out = dactor_mul_q48_q16(sp->co2_production_kg_s, dt);
source\domino\dactor.c:148:    h2o_req = dactor_mul_q48_q16(sp->h2o_consumption_kg_s, dt);
source\domino\dactor.c:149:    heat = dactor_mul_q48_q16(sp->heat_output_W, dt);
source\domino\dactor.c:153:        env_pressure = z->pressure_Pa;
source\domino\dactor.c:154:        env_temp = z->temp_K;
source\domino\dactor.c:158:            for (i = 0; i < z->atm.count; ++i) {
source\domino\dactor.c:159:                if (z->atm.substance[i] == g_o2_substance) {
source\domino\dactor.c:160:                    env_o2_frac = dactor_fraction_q4_to_q16(z->atm.frac[i]);
source\domino\dactor.c:161:                } else if (z->atm.substance[i] == g_co2_substance) {
source\domino\dactor.c:162:                    env_co2_frac = dactor_fraction_q4_to_q16(z->atm.frac[i]);
source\domino\dactor.c:168:    if (env_pressure < sp->min_pressure_Pa || env_pressure > sp->max_pressure_Pa) {
source\domino\dactor.c:172:    if (env_temp < sp->min_temp_K || env_temp > sp->max_temp_K) {
source\domino\dactor.c:176:    if (env_o2_frac < sp->min_o2_fraction || env_co2_frac > sp->max_co2_fraction) {
source\domino\dactor.c:182:        if (!dzone_add_gas(z->id, g_o2_substance, -o2_req, 0)) {
source\domino\dactor.c:185:            dzone_add_gas(z->id, g_co2_substance, co2_out, 0);
source\domino\dactor.c:186:            dzone_add_heat(z->id, heat);
source\domino\dactor.c:192:    if (a->body_temp_K == 0) {
source\domino\dactor.c:193:        a->body_temp_K = env_temp;
source\domino\dactor.c:195:        a->body_temp_K = (TempK)((a->body_temp_K + env_temp) / 2);
source\domino\dbiome.c:98:    if (!type || !type->name) return false;
source\domino\dbiome.c:101:        if (g_biomes[i].id == type->id || (g_biomes[i].name && strcmp(g_biomes[i].name, type->name) == 0)) {
source\domino\dbiome.c:135:        if (!dbiome_temp_match(temp, b->min_temp, b->max_temp)) continue;
source\domino\dbiome.c:136:        if (!dbiome_range_match(precip, b->min_precip, b->max_precip)) continue;
source\domino\dbiome.c:137:        if (!dbiome_range_match(humidity, b->min_humidity, b->max_humidity)) continue;
source\domino\dbiome.c:138:        if (!dbiome_range_match(height_m, b->min_height, b->max_height)) continue;
source\domino\dbiome.c:139:        return b->id;
source\domino\dbiome.c:153:    height_m = dnum_from_int32((I32)tile->z);
source\domino\dbiome.c:158:        if (extra_h > (Q16_16)((1 << 16) - humidity)) {
source\domino\dbiome.c:159:            extra_h = (Q16_16)((1 << 16) - humidity);
source\domino\dclimate.c:18:    return (v < 0) ? -v : v;
source\domino\dclimate.c:79:        if (grid->body == 0) {
source\domino\dclimate.c:81:            grid->body = body;
source\domino\dclimate.c:91:    if (grid->mean_temp_K) {
source\domino\dclimate.c:92:        free(grid->mean_temp_K);
source\domino\dclimate.c:93:        grid->mean_temp_K = 0;
source\domino\dclimate.c:95:    if (grid->mean_precip) {
source\domino\dclimate.c:96:        free(grid->mean_precip);
source\domino\dclimate.c:97:        grid->mean_precip = 0;
source\domino\dclimate.c:99:    if (grid->mean_humidity) {
source\domino\dclimate.c:100:        free(grid->mean_humidity);
source\domino\dclimate.c:101:        grid->mean_humidity = 0;
source\domino\dclimate.c:103:    grid->width = 0;
source\domino\dclimate.c:104:    grid->height = 0;
source\domino\dclimate.c:109:    if (!grid || grid->width == 0) return 0;
source\domino\dclimate.c:110:    return (gy % grid->height) * grid->width + (gx % grid->width);
source\domino\dclimate.c:117:        return b->base_temp_K;
source\domino\dclimate.c:119:    return (TempK)(288 << 16); /* Earth-ish default */
source\domino\dclimate.c:125:    Q16_16 from_equator = dclimate_abs_q16(lat - (Q16_16)(1 << 15)); /* approx distance from mid-line */
source\domino\dclimate.c:141:    TempK base_temp = dclimate_base_temp_for_body(body ? body->id : 0);
source\domino\dclimate.c:143:    Q16_16 lat_loss = dclimate_lat_cooling(gy, grid->height ? grid->height : 1);
source\domino\dclimate.c:146:    Q16_16 solar_flux = dbody_solar_flux_at_body(body ? body->id : 0);
source\domino\dclimate.c:151:    temp = (TempK)(temp - lat_loss + greenhouse_gain - albedo_loss);
source\domino\dclimate.c:154:    humidity = dclimate_clamp_q16((Q16_16)((DCLIMATE_Q16_ONE - albedo) + (greenhouse >> 2) - (lat_loss >> 3)), 0, DCLIMATE_Q16_ONE);
source\domino\dclimate.c:157:    grid->mean_temp_K[idx] = temp;
source\domino\dclimate.c:158:    grid->mean_precip[idx] = precip;
source\domino\dclimate.c:159:    grid->mean_humidity[idx] = humidity;
source\domino\dclimate.c:191:    if (grid->mean_temp_K && (grid->width != width || grid->height != height)) {
source\domino\dclimate.c:196:    if (!grid->mean_temp_K) {
source\domino\dclimate.c:197:        grid->mean_temp_K = (TempK*)malloc(sizeof(TempK) * cells);
source\domino\dclimate.c:199:    if (!grid->mean_precip) {
source\domino\dclimate.c:200:        grid->mean_precip = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dclimate.c:202:    if (!grid->mean_humidity) {
source\domino\dclimate.c:203:        grid->mean_humidity = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dclimate.c:205:    if (!grid->mean_temp_K || !grid->mean_precip || !grid->mean_humidity) {
source\domino\dclimate.c:210:    grid->width = width;
source\domino\dclimate.c:211:    grid->height = height;
source\domino\dclimate.c:231:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dclimate.c:233:    grid->mean_temp_K[idx] = temp_K;
source\domino\dclimate.c:234:    grid->mean_precip[idx] = precip;
source\domino\dclimate.c:235:    grid->mean_humidity[idx] = humidity;
source\domino\dclimate.c:244:    if (out_temp_K) *out_temp_K = grid->mean_temp_K ? grid->mean_temp_K[idx] : 0;
source\domino\dclimate.c:245:    if (out_precip) *out_precip = grid->mean_precip ? grid->mean_precip[idx] : 0;
source\domino\dclimate.c:246:    if (out_humidity) *out_humidity = grid->mean_humidity ? grid->mean_humidity[idx] : 0;
source\domino\dclimate.c:251:    /* Dry adiabatic-ish: lose ~6 K per km upward */
source\domino\dclimate.c:255:    *inout_temp = (TempK)((I64)(*inout_temp) - delta);
source\domino\dclimate.c:271:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dclimate.c:272:    dclimate_sample_cell(grid, dclimate_wrap_index(lon, grid->width), dclimate_wrap_index(lat, grid->height), &temp, out_precip, out_humidity);
source\domino\dclimate.c:290:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dclimate.c:292:    wx = dworld_wrap_tile_coord(tile->x);
source\domino\dclimate.c:293:    wy = dworld_wrap_tile_coord(tile->y);
source\domino\dclimate.c:294:    gx = ((U32)wx * grid->width) >> DOM_WORLD_TILES_LOG2;
source\domino\dclimate.c:295:    gy = ((U32)wy * grid->height) >> DOM_WORLD_TILES_LOG2;
source\domino\dclimate.c:300:        dclimate_apply_height_lapse(dnum_from_int32((I32)tile->z), out_temp_K);
source\domino\audio\audio.c:35:    ctx->desc = local_desc;
source\domino\audio\audio.c:71:    buf->samples = NULL;
source\domino\audio\audio.c:72:    buf->frame_count = frame_count;
source\domino\audio\audio.c:73:    buf->channel_count = channel_count;
source\domino\audio\audio.c:77:        buf->samples = (float*)malloc(bytes);
source\domino\audio\audio.c:78:        if (buf->samples) {
source\domino\audio\audio.c:79:            memcpy(buf->samples, interleaved_samples, bytes);
source\domino\audio\audio.c:92:    if (buffer->samples) {
source\domino\audio\audio.c:93:        free(buffer->samples);
source\domino\dmatter.c:37:    return (v < 0) ? -v : v;
source\domino\dmatter.c:43:    if (!def || !def->name) return 0;
source\domino\dmatter.c:57:    if (!def || !def->name) return 0;
source\domino\dmatter.c:71:    if (!def || !def->name) return 0;
source\domino\dmatter.c:86:    return &g_substances[id - 1];
source\domino\dmatter.c:93:    return &g_materials[id - 1];
source\domino\dmatter.c:100:    return &g_items[id - 1];
source\domino\dmatter.c:112:    if (!mix) return -1;
source\domino\dmatter.c:113:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:114:        if (mix->substance[i] == s) {
source\domino\dmatter.c:118:    return -1;
source\domino\dmatter.c:125:    if (idx >= mix->count) return 0;
source\domino\dmatter.c:126:    total = mix->total_mass_kg;
source\domino\dmatter.c:127:    return (Q48_16)(((I64)total * (I64)mix->frac[idx]) >> 12);
source\domino\dmatter.c:136:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:141:        for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:142:            mix->frac[i] = 0;
source\domino\dmatter.c:146:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:147:        mix->frac[i] = (FractionQ4_12)dmatter_frac_from_q48(masses[i], mass_total);
source\domino\dmatter.c:156:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:158:        const Substance *sub = dmatter_get_substance(mix->substance[i]);
source\domino\dmatter.c:159:        Q16_16 density = sub ? sub->density_kg_m3 : (Q16_16)(1 << 16);
source\domino\dmatter.c:162:    mix->total_vol_m3 = vol;
source\domino\dmatter.c:168:    if (mix->count == 0 || mix->total_mass_kg == 0) {
source\domino\dmatter.c:184:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:190:        if (mix->count >= DMIX_MAX_COMPONENTS) return false;
source\domino\dmatter.c:191:        idx = mix->count;
source\domino\dmatter.c:192:        mix->substance[idx] = s;
source\domino\dmatter.c:193:        mix->frac[idx] = 0;
source\domino\dmatter.c:194:        mix->count++;
source\domino\dmatter.c:202:    mix->total_mass_kg += mass_delta_kg;
source\domino\dmatter.c:203:    if (mix->total_mass_kg < 0) mix->total_mass_kg = 0;
source\domino\dmatter.c:204:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:212:    for (i = 0; i < mix->count; ++i) {
source\domino\dmatter.c:213:        mix->frac[i] = (FractionQ4_12)dmatter_frac_from_q48(component_masses[i], mass_total);
source\domino\dmatter.c:215:    mix->total_mass_kg = mass_total;
source\domino\dmatter.c:232:    to_count = to->count;
source\domino\dmatter.c:233:    for (i = 0; i < from->count; ++i) {
source\domino\dmatter.c:239:    for (i = 0; i < from->count; ++i) {
source\domino\dmatter.c:240:        SubstanceId s = from->substance[i];
source\domino\dmatter.c:243:        mass_from_arr[i] -= transfer_mass;
source\domino\dmatter.c:251:                to->substance[j] = s;
source\domino\dmatter.c:252:                to->frac[j] = 0;
source\domino\dmatter.c:259:    from->total_mass_kg = 0;
source\domino\dmatter.c:260:    for (i = 0; i < from->count; ++i) {
source\domino\dmatter.c:263:    from->total_mass_kg = new_total_from;
source\domino\dmatter.c:267:        for (i = 0; i < from->count; ++i) {
source\domino\dmatter.c:268:            from->frac[i] = (FractionQ4_12)dmatter_frac_from_q48(mass_from_arr[i], new_total_from);
source\domino\dmatter.c:273:    to->count = to_count;
source\domino\dmatter.c:274:    to->total_mass_kg = 0;
source\domino\dmatter.c:276:        to->total_mass_kg += mass_to[i];
source\domino\dmatter.c:278:    if (to->total_mass_kg > 0) {
source\domino\dmatter.c:280:            to->frac[i] = (FractionQ4_12)dmatter_frac_from_q48(mass_to[i], to->total_mass_kg);
source\domino\dbody.c:33:    return &g_bodies[id - 1];
source\domino\dbody.c:40:    return b->mu;
source\domino\dbody.c:47:    if (b->orbit.central == 0 || b->orbit.central == b->id) {
source\domino\dbody.c:48:        out->x = 0;
source\domino\dbody.c:49:        out->y = 0;
source\domino\dbody.c:50:        out->z = 0;
source\domino\dbody.c:53:    dorbit_to_space_pos(&b->orbit, t, out);
source\domino\dbody.c:76:    if (!dbody_get_space_pos(b->orbit.central, t, &central_pos)) {
source\domino\dbody.c:81:    dx = central_pos.x - self_pos.x;
source\domino\dbody.c:82:    dy = central_pos.y - self_pos.y;
source\domino\dbody.c:83:    dz = central_pos.z - self_pos.z;
source\domino\dbody.c:84:    ax = (dx < 0) ? -dx : dx;
source\domino\dbody.c:85:    ay = (dy < 0) ? -dy : dy;
source\domino\dbody.c:86:    az = (dz < 0) ? -dz : dz;
source\domino\dbody.c:124:    return &g_sites[id - 1];
source\domino\dbody.c:130:    out->x = a->x + b->x;
source\domino\dbody.c:131:    out->y = a->y + b->y;
source\domino\dbody.c:132:    out->z = a->z + b->z;
source\domino\dbody.c:143:    if (s->attached_body != 0) {
source\domino\dbody.c:144:        dbody_get_space_pos(s->attached_body, t, &base);
source\domino\dbody.c:146:    if (s->orbit.central != 0) {
source\domino\dbody.c:147:        dorbit_to_space_pos(&s->orbit, t, out);
source\domino\dbody.c:151:    dspace_add_pos(&base, &s->offset, out);
source\domino\dmachine.c:24:    if (!def || !def->name) return 0;
source\domino\dmachine.c:38:    return &g_types[id - 1];
source\domino\dmachine.c:57:    m->id = (MachineId)(i + 1);
source\domino\dmachine.c:58:    m->type_id = type;
source\domino\dmachine.c:59:    m->agg = agg;
source\domino\dmachine.c:60:    m->element = element;
source\domino\dmachine.c:61:    m->efficiency_0_1 = (Q16_16)(1 << 16);
source\domino\dmachine.c:62:    m->health_0_1 = (Q16_16)(1 << 16);
source\domino\dmachine.c:63:    m->flags = DMACHINE_FLAG_ENABLED;
source\domino\dmachine.c:64:    return m->id;
source\domino\dmachine.c:70:    if (!g_machine_used[id - 1]) return 0;
source\domino\dmachine.c:71:    return &g_machines[id - 1];
source\domino\dmachine.c:77:    g_machine_used[id - 1] = false;
source\domino\dmachine.c:84:    m->recipe_id = recipe_id;
source\domino\dmachine.c:85:    m->progress_0_1 = 0;
source\domino\dmachine.c:93:        m->flags |= DMACHINE_FLAG_ENABLED;
source\domino\dmachine.c:95:        m->flags &= ~DMACHINE_FLAG_ENABLED;
source\domino\dmachine.c:107:    type = dmachine_type_get(m->type_id);
source\domino\dmachine.c:109:    m->power_draw_W = type->idle_power_W;
source\domino\dmachine.c:110:    m->power_output_W = 0;
source\domino\dmachine.c:111:    if ((m->flags & DMACHINE_FLAG_ENABLED) && m->recipe_id != 0) {
source\domino\dmachine.c:112:        rec = drecipe_get((RecipeId)m->recipe_id);
source\domino\dmachine.c:114:            m->power_draw_W = rec->power_in_W;
source\domino\dmachine.c:115:            m->power_output_W = rec->power_out_W;
source\domino\dmachine.c:122:    m->power_draw_W = dmachine_min_power(m->power_draw_W, type->max_power_W);
source\domino\cli\cli.c:9:    return (arg && arg[0] == '-' && arg[1] == '-' && arg[2] != '\0') ? 1 : 0;
source\domino\cli\cli.c:23:        len = cap - 1u;
source\domino\cli\cli.c:38:    out_args->argc = argc;
source\domino\cli\cli.c:39:    out_args->argv = argv;
source\domino\cli\cli.c:40:    out_args->tokens = NULL;
source\domino\cli\cli.c:41:    out_args->token_count = 0;
source\domino\cli\cli.c:65:                tokens[count].key_len = (int)(eq - key_start);
source\domino\cli\cli.c:88:    out_args->tokens = tokens;
source\domino\cli\cli.c:89:    out_args->token_count = count;
source\domino\cli\cli.c:97:    if (args->tokens) {
source\domino\cli\cli.c:98:        free(args->tokens);
source\domino\cli\cli.c:100:    args->tokens = NULL;
source\domino\cli\cli.c:101:    args->token_count = 0;
source\domino\cli\cli.c:106:    if (!tok || !key || tok->is_positional || !tok->key) {
source\domino\cli\cli.c:110:    if ((int)len != tok->key_len) {
source\domino\cli\cli.c:113:    return (strncmp(tok->key, key, len) == 0) ? 1 : 0;
source\domino\cli\cli.c:118:    if (!args || !args->tokens || !key) {
source\domino\cli\cli.c:121:    for (i = 0; i < args->token_count; ++i) {
source\domino\cli\cli.c:122:        if (d_cli_match_key(&args->tokens[i], key)) {
source\domino\cli\cli.c:123:            return &args->tokens[i];
source\domino\cli\cli.c:132:    if (!args || !args->tokens || index < 0) {
source\domino\cli\cli.c:135:    for (i = 0; i < args->token_count; ++i) {
source\domino\cli\cli.c:136:        if (args->tokens[i].is_positional) {
source\domino\cli\cli.c:138:                return &args->tokens[i];
source\domino\cli\cli.c:149:    if (!args || !args->tokens) {
source\domino\cli\cli.c:152:    for (i = 0; i < args->token_count; ++i) {
source\domino\cli\cli.c:153:        if (args->tokens[i].is_positional) {
source\domino\cli\cli.c:164:    inst->present = 0;
source\domino\cli\cli.c:165:    inst->id[0] = '\0';
source\domino\cli\cli.c:175:    if (tok && tok->has_value && tok->value) {
source\domino\cli\cli.c:176:        d_cli_copy_string(tok->value, inst->id, sizeof(inst->id));
source\domino\cli\cli.c:177:        inst->present = 1;
source\domino\cli\cli.c:190:    for (i = 0; i < cli->command_count; ++i) {
source\domino\cli\cli.c:191:        const d_cli_command* cmd = &cli->commands[i];
source\domino\cli\cli.c:192:        if (cmd->name && strlen(cmd->name) == len &&
source\domino\cli\cli.c:193:            strncmp(cmd->name, name, len) == 0) {
source\domino\cli\cli.c:194:            return &cli->commands[i];
source\domino\cli\cli.c:209:    cli->program = program;
source\domino\cli\cli.c:210:    cli->version = version ? version : DOMINO_VERSION_STRING;
source\domino\cli\cli.c:211:    cli->commands = NULL;
source\domino\cli\cli.c:212:    cli->command_count = 0;
source\domino\cli\cli.c:213:    cli->command_capacity = 0;
source\domino\cli\cli.c:214:    d_cli_instance_reset(&cli->instance);
source\domino\cli\cli.c:221:    if (cli->commands) {
source\domino\cli\cli.c:222:        free(cli->commands);
source\domino\cli\cli.c:224:    cli->commands = NULL;
source\domino\cli\cli.c:225:    cli->command_count = 0;
source\domino\cli\cli.c:226:    cli->command_capacity = 0;
source\domino\cli\cli.c:227:    d_cli_instance_reset(&cli->instance);
source\domino\cli\cli.c:246:    if (cli->command_count == cli->command_capacity) {
source\domino\cli\cli.c:247:        new_cap = (cli->command_capacity == 0) ? 4 : (cli->command_capacity * 2);
source\domino\cli\cli.c:248:        new_array = (d_cli_command*)realloc(cli->commands,
source\domino\cli\cli.c:253:        cli->commands = new_array;
source\domino\cli\cli.c:254:        cli->command_capacity = new_cap;
source\domino\cli\cli.c:257:    cmd = &cli->commands[cli->command_count++];
source\domino\cli\cli.c:258:    cmd->name = name;
source\domino\cli\cli.c:259:    cmd->help = help ? help : "";
source\domino\cli\cli.c:260:    cmd->handler = handler;
source\domino\cli\cli.c:261:    cmd->userdata = userdata;
source\domino\cli\cli.c:266:    const char* program = (cli && cli->program) ? cli->program : "program";
source\domino\cli\cli.c:271:        for (i = 0; i < cli->command_count; ++i) {
source\domino\cli\cli.c:272:            const d_cli_command* cmd = &cli->commands[i];
source\domino\cli\cli.c:273:            printf("  %-12s %s\n", cmd->name ? cmd->name : "(null)",
source\domino\cli\cli.c:274:                   cmd->help ? cmd->help : "");
source\domino\cli\cli.c:287:            printf("%s: %s\n", cmd->name ? cmd->name : "(unknown)",
source\domino\cli\cli.c:288:                   cmd->help ? cmd->help : "");
source\domino\cli\cli.c:307:    program = cli->program ? cli->program : "program";
source\domino\cli\cli.c:308:    version = cli->version ? cli->version : "(unknown)";
source\domino\cli\cli.c:321:    for (i = 0; i < cli->command_count; ++i) {
source\domino\cli\cli.c:322:        const d_cli_command* cmd = &cli->commands[i];
source\domino\cli\cli.c:323:        if (cmd->name) {
source\domino\cli\cli.c:324:            printf("%s\n", cmd->name);
source\domino\cli\cli.c:367:    if (!cli->program && argc > 0) {
source\domino\cli\cli.c:368:        cli->program = argv[0];
source\domino\cli\cli.c:370:    if (!cli->version) {
source\domino\cli\cli.c:371:        cli->version = DOMINO_VERSION_STRING;
source\domino\cli\cli.c:379:    trimmed_argc = argc - 1;
source\domino\cli\cli.c:387:    (void)d_cli_extract_instance(&args, &cli->instance);
source\domino\cli\cli.c:390:    if (!cmd_tok || !cmd_tok->value) {
source\domino\cli\cli.c:396:    cmd = d_cli_find_command(cli, cmd_tok->value);
source\domino\cli\cli.c:398:        fprintf(stderr, "Unknown command '%s'\n", cmd_tok->value);
source\domino\cli\cli.c:403:    cmd_argv = trimmed_argv + cmd_tok->arg_index + 1;
source\domino\cli\cli.c:404:    cmd_argc = trimmed_argc - (cmd_tok->arg_index + 1);
source\domino\cli\cli.c:406:    rc = cmd->handler(cmd_argc, cmd_argv, cmd->userdata);
source\domino\cli\cli.c:416:    return &cli->instance;
source\domino\cli\cli.c:423:    return cli->program;
source\domino\cli\cli.c:430:    return cli->version;
source\domino\dknowledge.c:36:    kb->records = dknow_alloc_records(capacity);
source\domino\dknowledge.c:37:    if (!kb->records) return 0;
source\domino\dknowledge.c:38:    kb->record_capacity = capacity;
source\domino\dknowledge.c:39:    kb->record_count = 0;
source\domino\dknowledge.c:40:    kb->id = ++g_base_count;
source\domino\dknowledge.c:41:    return kb->id;
source\domino\dknowledge.c:47:    return &g_bases[id - 1];
source\domino\dknowledge.c:54:    kb->records = 0;
source\domino\dknowledge.c:55:    kb->record_capacity = 0;
source\domino\dknowledge.c:56:    kb->record_count = 0;
source\domino\dknowledge.c:57:    kb->id = 0;
source\domino\dknowledge.c:63:    if (!kb || !key) return -1;
source\domino\dknowledge.c:64:    for (i = 0; i < kb->record_count; ++i) {
source\domino\dknowledge.c:65:        const KnowledgeRecord *r = &kb->records[i];
source\domino\dknowledge.c:66:        if (r->key.type == key->type && r->key.subject_id == key->subject_id) {
source\domino\dknowledge.c:70:    return -1;
source\domino\dknowledge.c:76:    int idx = -1;
source\domino\dknowledge.c:79:    if (!kb) return -1;
source\domino\dknowledge.c:80:    for (i = 0; i < kb->record_capacity; ++i) {
source\domino\dknowledge.c:81:        KnowledgeRecord *r = &kb->records[i];
source\domino\dknowledge.c:82:        if (i >= kb->record_count) {
source\domino\dknowledge.c:85:        if (r->confidence_0_1 < best_conf) {
source\domino\dknowledge.c:86:            best_conf = r->confidence_0_1;
source\domino\dknowledge.c:87:            oldest_tick = r->last_seen_tick;
source\domino\dknowledge.c:89:        } else if (r->confidence_0_1 == best_conf && r->last_seen_tick < oldest_tick) {
source\domino\dknowledge.c:90:            oldest_tick = r->last_seen_tick;
source\domino\dknowledge.c:108:        KnowledgeRecord *r = &kb->records[idx];
source\domino\dknowledge.c:109:        if (confidence > r->confidence_0_1) {
source\domino\dknowledge.c:110:            r->confidence_0_1 = confidence;
source\domino\dknowledge.c:112:        r->last_seen_tick = tick;
source\domino\dknowledge.c:118:        KnowledgeRecord *r = &kb->records[idx];
source\domino\dknowledge.c:119:        r->key = *key;
source\domino\dknowledge.c:120:        r->last_seen_tick = tick;
source\domino\dknowledge.c:121:        r->confidence_0_1 = confidence;
source\domino\dknowledge.c:122:        if (idx >= (int)kb->record_count) {
source\domino\dknowledge.c:123:            kb->record_count = idx + 1;
source\domino\dknowledge.c:135:    return &kb->records[idx];
source\domino\djob.c:28:    j->id = (JobId)(i + 1);
source\domino\djob.c:29:    if (j->state == 0) j->state = JOB_PENDING;
source\domino\djob.c:31:    return j->id;
source\domino\djob.c:37:    if (!g_job_used[id - 1]) return 0;
source\domino\djob.c:38:    return &g_jobs[id - 1];
source\domino\djob.c:45:    j->state = JOB_CANCELLED;
source\domino\djob.c:52:    j->state = JOB_COMPLETE;
source\domino\djob.c:59:    for (i = 0; i < j->dep_count; ++i) {
source\domino\djob.c:60:        Job *dep = djob_get(j->deps[i]);
source\domino\djob.c:61:        if (!dep || dep->state != JOB_COMPLETE) {
source\domino\djob.c:76:        if (j->state == JOB_CANCELLED || j->state == JOB_COMPLETE || j->state == JOB_FAILED) continue;
source\domino\djob.c:77:        if (j->state == JOB_PENDING) {
source\domino\djob.c:79:                j->state = JOB_PENDING; /* remains pending until assigned */
source\domino\djob.c:83:        if (j->state == JOB_IN_PROGRESS) {
source\domino\djob.c:87:            if (progress >= j->work_time_s) {
source\domino\djob.c:88:                j->state = JOB_COMPLETE;
source\domino\app\startup.c:52:        if (d_app_match_prefix(arg, "--mode=cli")) {
source\domino\app\startup.c:55:        if (d_app_match_prefix(arg, "--mode=tui")) {
source\domino\app\startup.c:58:        if (d_app_match_prefix(arg, "--mode=gui")) {
source\domino\app\startup.c:61:        if (d_app_match_prefix(arg, "--mode=headless")) {
source\domino\app\startup.c:75:        if (d_app_match_prefix(arg, "--mode=headless") ||
source\domino\app\startup.c:76:            d_app_match_flag(arg, "--server") ||
source\domino\app\startup.c:77:            d_app_match_flag(arg, "--dedicated") ||
source\domino\app\startup.c:78:            d_app_match_flag(arg, "--listen")) {
source\domino\app\startup.c:129:    switch (p->mode) {
source\domino\app\startup.c:152:    if (p->has_terminal) {
source\domino\app\startup.c:185:    if (d_app_game_force_headless(p->argc, p->argv)) {
source\domino\app\startup.c:192:    if (p->mode != D_APP_MODE_AUTO) {
source\domino\app\startup.c:193:        switch (p->mode) {
source\domino\app\startup.c:220:    if (p->has_terminal) {
source\domino\app\startup.c:259:    switch (p->mode) {
source\domino\app\startup.c:282:    if (p->has_terminal) {
source\domino\app\startup.c:315:    switch (p->mode) {
source\domino\app\startup.c:338:    if (p->has_terminal) {
source\domino\dhydro.c:52:            g_field_water_depth = desc->id;
source\domino\dhydro.c:87:    return a && b && a->x == b->x && a->y == b->y && a->z == b->z;
source\domino\dhydro.c:109:    cell->body = body;
source\domino\dhydro.c:110:    cell->tile = *tile;
source\domino\dhydro.c:133:    cell->rain_accum += water_depth;
source\domino\dhydro.c:141:    b->evap_per_tick = evap_per_tick;
source\domino\dhydro.c:149:    evap = dhydro_mul_q16(body_state->evap_per_tick, dnum_from_int32((I32)ticks));
source\domino\dhydro.c:150:    if (evap > cell->depth) {
source\domino\dhydro.c:151:        cell->depth = 0;
source\domino\dhydro.c:153:        cell->depth -= evap;
source\domino\dhydro.c:160:    cell->depth += cell->rain_accum;
source\domino\dhydro.c:161:    cell->rain_accum = 0;
source\domino\dhydro.c:167:    cell->flow_u = 0;
source\domino\dhydro.c:168:    cell->flow_v = 0;
source\domino\dhydro.c:174:    if (outflow > cell->depth) outflow = cell->depth;
source\domino\dhydro.c:175:    cell->depth -= outflow;
source\domino\dhydro.c:176:    nbr->depth += outflow;
source\domino\dhydro.c:177:    cell->flow_u += (Q16_16)(dx >= 0 ? outflow : -outflow);
source\domino\dhydro.c:178:    cell->flow_v += (Q16_16)(dy >= 0 ? outflow : -outflow);
source\domino\dhydro.c:192:    surface = dnum_from_int32((I32)tile->z) + cell->depth;
source\domino\dhydro.c:200:        nbr_surface = dnum_from_int32((I32)nbr.z) + nbr_cell->depth;
source\domino\dhydro.c:202:            outflow = (surface - nbr_surface) >> 3;
source\domino\dhydro.c:204:            surface = dnum_from_int32((I32)tile->z) + cell->depth;
source\domino\dhydro.c:208:    /* -X neighbor */
source\domino\dhydro.c:210:    nbr.x = dworld_wrap_tile_coord(nbr.x - 1);
source\domino\dhydro.c:213:        nbr_surface = dnum_from_int32((I32)nbr.z) + nbr_cell->depth;
source\domino\dhydro.c:215:            outflow = (surface - nbr_surface) >> 3;
source\domino\dhydro.c:216:            dhydro_apply_flow_to_neighbor(cell, nbr_cell, outflow, -1, 0);
source\domino\dhydro.c:217:            surface = dnum_from_int32((I32)tile->z) + cell->depth;
source\domino\dhydro.c:226:        nbr_surface = dnum_from_int32((I32)nbr.z) + nbr_cell->depth;
source\domino\dhydro.c:228:            outflow = (surface - nbr_surface) >> 3;
source\domino\dhydro.c:230:            surface = dnum_from_int32((I32)tile->z) + cell->depth;
source\domino\dhydro.c:234:    /* -Y neighbor */
source\domino\dhydro.c:236:    nbr.y = dworld_wrap_tile_coord(nbr.y - 1);
source\domino\dhydro.c:239:        nbr_surface = dnum_from_int32((I32)nbr.z) + nbr_cell->depth;
source\domino\dhydro.c:241:            outflow = (surface - nbr_surface) >> 3;
source\domino\dhydro.c:242:            dhydro_apply_flow_to_neighbor(cell, nbr_cell, outflow, 0, -1);
source\domino\dhydro.c:278:    if (out_depth) *out_depth = cell->depth;
source\domino\dhydro.c:286:    if (out_flow_u) *out_flow_u = cell->flow_u;
source\domino\dhydro.c:287:    if (out_flow_v) *out_flow_v = cell->flow_v;
source\domino\core\canvas.c:14:    out->size = 0;
source\domino\core\canvas.c:29:        for (i = 0u; i < core->launcher_ext_count; ++i) {
source\domino\core\canvas.c:30:            const dom_launcher_ext_v1* ext = &core->launcher_exts[i];
source\domino\core\canvas.c:31:            if (ext->on_build_canvas) {
source\domino\core\canvas.c:32:                if (ext->on_build_canvas(core, inst, canvas_id, out)) {
source\domino\dfield.c:34:    if (!def || !def->name) return 0;
source\domino\dfield.c:38:        if (g_fields[i].name && strcmp(g_fields[i].name, def->name) == 0) {
source\domino\dfield.c:155:    return &g_fields[id - 1];
source\domino\dfield.c:176:    if (desc && desc->storage != FIELD_STORAGE_Q4_12) {
source\domino\dfield.c:187:    if (desc && desc->storage != FIELD_STORAGE_Q4_12) {
source\domino\dfield.c:199:    if (desc && desc->storage != FIELD_STORAGE_U8) {
source\domino\dfield.c:200:        /* TODO: encode per-field range instead of naÃ¯ve clamp */
source\domino\dfield.c:213:    if (desc && desc->storage != FIELD_STORAGE_U8) {
source\domino\dfield.c:214:        /* TODO: decode per-field range instead of 1:1 scaling */
source\domino\compat\compat_core.c:7:    if (cap->min_compat == 0 && cap->max_compat == 0) return 1;
source\domino\compat\compat_core.c:9:    if (cap->min_compat != 0 && value < cap->min_compat) return 0;
source\domino\compat\compat_core.c:10:    if (cap->max_compat != 0 && value > cap->max_compat) return 0;
source\domino\compat\compat_core.c:17:    if (!dom_version_in_range(a, b->current)) return 0;
source\domino\compat\compat_core.c:18:    if (!dom_version_in_range(b, a->current)) return 0;
source\domino\compat\compat_core.c:26:    case 0: return &p->save_format;
source\domino\compat\compat_core.c:27:    case 1: return &p->pack_format;
source\domino\compat\compat_core.c:28:    case 2: return &p->replay_format;
source\domino\compat\compat_core.c:36:    return dom_version_overlap(&a->core, &b->core);
source\domino\compat\compat_core.c:53:    return dom_version_overlap(&a->net_proto, &b->net_proto);
source\domino\build\d_build.h:72:/* Free world-local build state (optional; called by products on shutdown). */
source\domino\build\d_build.h:75:/* World-state validator hook. */
source\domino\dresearch.c:17:    if (!def || !def->name) return 0;
source\domino\dresearch.c:31:    return &g_techs[id - 1];
source\domino\dresearch.c:50:    return &g_progress[id - 1];
source\domino\dresearch.c:62:    if (p->completed) return;
source\domino\dresearch.c:63:    if (t->science_count == 0) {
source\domino\dresearch.c:64:        p->progress_0_1 = (Q16_16)(1 << 16);
source\domino\dresearch.c:65:        p->completed = true;
source\domino\dresearch.c:68:    delta = (Q16_16)(((I64)science_units << 16) / (I64)t->science_count);
source\domino\dresearch.c:69:    p->progress_0_1 = (Q16_16)(p->progress_0_1 + delta);
source\domino\dresearch.c:70:    if (p->progress_0_1 >= (Q16_16)(1 << 16)) {
source\domino\dresearch.c:71:        p->progress_0_1 = (Q16_16)(1 << 16);
source\domino\dresearch.c:72:        p->completed = true;
source\domino\core\core.c:15:    core->table_count = 0u;
source\domino\core\core.c:38:    if (!core || core->view_count >= DOM_MAX_VIEWS) {
source\domino\core\core.c:42:    desc = &core->views[core->view_count];
source\domino\core\core.c:43:    desc->struct_size = sizeof(dom_view_desc);
source\domino\core\core.c:44:    desc->struct_version = 1;
source\domino\core\core.c:45:    desc->id = id;
source\domino\core\core.c:46:    desc->title = title;
source\domino\core\core.c:47:    desc->kind = kind;
source\domino\core\core.c:48:    desc->model_id = model_id;
source\domino\core\core.c:49:    core->view_count += 1u;
source\domino\core\core.c:58:    core->view_count = 0u;
source\domino\core\core.c:78:        core->api_version = desc->api_version;
source\domino\core\core.c:81:    core->next_package_id = 1;
source\domino\core\core.c:82:    core->next_instance_id = 1;
source\domino\core\core.c:83:    core->tree_models[0] = "packages_tree";
source\domino\core\core.c:84:    core->tree_model_count = 1;
source\domino\core\core.c:119:    switch (cmd->id) {
source\domino\core\core.c:123:        if (!cmd->data || cmd->size < sizeof(dom_cmd_pkg_install)) {
source\domino\core\core.c:126:        c_pkg_install = (const dom_cmd_pkg_install*)cmd->data;
source\domino\core\core.c:127:        if (!dom_pkg_install(core, c_pkg_install->source_path, &pkg_id)) {
source\domino\core\core.c:137:        if (!cmd->data || cmd->size < sizeof(dom_cmd_pkg_uninstall)) {
source\domino\core\core.c:140:        c_pkg_uninstall = (const dom_cmd_pkg_uninstall*)cmd->data;
source\domino\core\core.c:141:        if (!dom_pkg_uninstall(core, c_pkg_uninstall->id)) {
source\domino\core\core.c:147:        ev.u.pkg_id = c_pkg_uninstall->id;
source\domino\core\core.c:151:        if (!cmd->data || cmd->size < sizeof(dom_cmd_inst_create)) {
source\domino\core\core.c:154:        c_inst_create = (const dom_cmd_inst_create*)cmd->data;
source\domino\core\core.c:155:        if (c_inst_create->info.struct_size != sizeof(dom_instance_info) ||
source\domino\core\core.c:156:            c_inst_create->info.struct_version != 1) {
source\domino\core\core.c:159:        inst_id = dom_inst_create(core, &c_inst_create->info);
source\domino\core\core.c:170:        if (!cmd->data || cmd->size < sizeof(dom_cmd_inst_update)) {
source\domino\core\core.c:173:        c_inst_update = (const dom_cmd_inst_update*)cmd->data;
source\domino\core\core.c:174:        if (c_inst_update->info.struct_size != sizeof(dom_instance_info) ||
source\domino\core\core.c:175:            c_inst_update->info.struct_version != 1) {
source\domino\core\core.c:178:        if (!dom_inst_update(core, &c_inst_update->info)) {
source\domino\core\core.c:184:        ev.u.inst_id = c_inst_update->info.id;
source\domino\core\core.c:188:        if (!cmd->data || cmd->size < sizeof(dom_cmd_inst_delete)) {
source\domino\core\core.c:191:        c_inst_delete = (const dom_cmd_inst_delete*)cmd->data;
source\domino\core\core.c:192:        if (!dom_inst_delete(core, c_inst_delete->id)) {
source\domino\core\core.c:198:        ev.u.inst_id = c_inst_delete->id;
source\domino\core\core.c:202:        if (!cmd->data || cmd->size < sizeof(dom_cmd_sim_tick)) {
source\domino\core\core.c:205:        c_sim_tick = (const dom_cmd_sim_tick*)cmd->data;
source\domino\core\core.c:206:        return dom_sim_tick(core, c_sim_tick->id, c_sim_tick->ticks);
source\domino\core\core.c:230:    switch (q->id) {
source\domino\core\core.c:232:        if (!q->out || q->out_size < sizeof(dom_query_core_info_out)) {
source\domino\core\core.c:235:        core_out = (dom_query_core_info_out*)q->out;
source\domino\core\core.c:236:        core_out->struct_size = sizeof(dom_query_core_info_out);
source\domino\core\core.c:237:        core_out->struct_version = 1;
source\domino\core\core.c:238:        core_out->api_version = core->api_version;
source\domino\core\core.c:239:        core_out->package_count = core->package_count;
source\domino\core\core.c:240:        core_out->instance_count = core->instance_count;
source\domino\core\core.c:243:        if (!q->out || q->out_size < sizeof(dom_query_pkg_list_out)) {
source\domino\core\core.c:246:        pkg_list_out = (dom_query_pkg_list_out*)q->out;
source\domino\core\core.c:247:        if (!pkg_list_out->items || pkg_list_out->max_items == 0) {
source\domino\core\core.c:250:        pkg_list_out->count = dom_pkg_list(core,
source\domino\core\core.c:251:                                           pkg_list_out->items,
source\domino\core\core.c:252:                                           pkg_list_out->max_items);
source\domino\core\core.c:255:        if (!q->in || q->in_size < sizeof(dom_query_pkg_info_in) ||
source\domino\core\core.c:256:            !q->out || q->out_size < sizeof(dom_query_pkg_info_out)) {
source\domino\core\core.c:259:        pkg_info_in = (dom_query_pkg_info_in*)q->in;
source\domino\core\core.c:260:        pkg_info_out = (dom_query_pkg_info_out*)q->out;
source\domino\core\core.c:261:        if (!dom_pkg_get(core, pkg_info_in->id, &pkg_info_out->info)) {
source\domino\core\core.c:264:        pkg_info_out->id = pkg_info_in->id;
source\domino\core\core.c:267:        if (!q->out || q->out_size < sizeof(dom_query_inst_list_out)) {
source\domino\core\core.c:270:        inst_list_out = (dom_query_inst_list_out*)q->out;
source\domino\core\core.c:271:        if (!inst_list_out->items || inst_list_out->max_items == 0) {
source\domino\core\core.c:274:        inst_list_out->count = dom_inst_list(core,
source\domino\core\core.c:275:                                             inst_list_out->items,
source\domino\core\core.c:276:                                             inst_list_out->max_items);
source\domino\core\core.c:279:        if (!q->in || q->in_size < sizeof(dom_query_inst_info_in) ||
source\domino\core\core.c:280:            !q->out || q->out_size < sizeof(dom_query_inst_info_out)) {
source\domino\core\core.c:283:        inst_info_in = (dom_query_inst_info_in*)q->in;
source\domino\core\core.c:284:        inst_info_out = (dom_query_inst_info_out*)q->out;
source\domino\core\core.c:285:        if (!dom_inst_get(core, inst_info_in->id, &inst_info_out->info)) {
source\domino\core\core.c:288:        inst_info_out->id = inst_info_in->id;
source\domino\core\core.c:291:        if (!q->in || q->in_size < sizeof(dom_query_sim_state_in) ||
source\domino\core\core.c:292:            !q->out || q->out_size < sizeof(dom_query_sim_state_out)) {
source\domino\core\core.c:295:        sim_in = (dom_query_sim_state_in*)q->in;
source\domino\core\core.c:296:        sim_out = (dom_query_sim_state_out*)q->out;
source\domino\core\core.c:297:        if (!dom_sim_get_state(core, sim_in->id, &sim_out->state)) {
source\domino\core\core.c:300:        sim_out->id = sim_in->id;
source\domino\core\d_container_state.c:11:    if (prod < (i64)(-2147483647L - 1L)) {
source\domino\core\d_container_state.c:12:        return (q16_16)(-2147483647L - 1L);
source\domino\core\d_container_state.c:32:        return -1;
source\domino\core\d_container_state.c:36:        return -1;
source\domino\core\d_container_state.c:40:    st->proto_id = proto_id;
source\domino\core\d_container_state.c:41:    st->used_volume = 0;
source\domino\core\d_container_state.c:42:    st->used_mass = 0;
source\domino\core\d_container_state.c:43:    st->slot_count = p->slot_count;
source\domino\core\d_container_state.c:44:    st->slots = (d_container_slot *)0;
source\domino\core\d_container_state.c:46:    alloc_slots = (p->slot_count > 0u) ? (u32)p->slot_count : 1u;
source\domino\core\d_container_state.c:47:    st->slots = (d_container_slot *)malloc(sizeof(d_container_slot) * alloc_slots);
source\domino\core\d_container_state.c:48:    if (!st->slots) {
source\domino\core\d_container_state.c:50:        return -1;
source\domino\core\d_container_state.c:52:    memset(st->slots, 0, sizeof(d_container_slot) * alloc_slots);
source\domino\core\d_container_state.c:60:    if (st->slots) {
source\domino\core\d_container_state.c:61:        free(st->slots);
source\domino\core\d_container_state.c:85:        return -1;
source\domino\core\d_container_state.c:90:    cp = d_content_get_container(st->proto_id);
source\domino\core\d_container_state.c:93:        return -1;
source\domino\core\d_container_state.c:95:    if (!st->slots) {
source\domino\core\d_container_state.c:96:        return -1;
source\domino\core\d_container_state.c:99:    remaining_mass = (q16_16)((i64)cp->max_mass - (i64)st->used_mass);
source\domino\core\d_container_state.c:100:    remaining_vol  = (q16_16)((i64)cp->max_volume - (i64)st->used_volume);
source\domino\core\d_container_state.c:102:    by_mass = dcontainer_fit_count(remaining_mass, ip->unit_mass);
source\domino\core\d_container_state.c:103:    by_vol  = dcontainer_fit_count(remaining_vol, ip->unit_volume);
source\domino\core\d_container_state.c:113:    if (st->slot_count == 0u) {
source\domino\core\d_container_state.c:114:        /* Bulk-only: default to single item type. */
source\domino\core\d_container_state.c:115:        if (st->slots[0].item_id != 0u && st->slots[0].item_id != item_id) {
source\domino\core\d_container_state.c:119:        st->slots[0].item_id = item_id;
source\domino\core\d_container_state.c:120:        st->slots[0].count += can_pack;
source\domino\core\d_container_state.c:122:        /* Slot-based: use existing slot if present, else first free. */
source\domino\core\d_container_state.c:124:        for (i = 0u; i < (u32)st->slot_count; ++i) {
source\domino\core\d_container_state.c:125:            if (st->slots[i].item_id == item_id) {
source\domino\core\d_container_state.c:126:                slot = &st->slots[i];
source\domino\core\d_container_state.c:131:            for (i = 0u; i < (u32)st->slot_count; ++i) {
source\domino\core\d_container_state.c:132:                if (st->slots[i].item_id == 0u) {
source\domino\core\d_container_state.c:133:                    slot = &st->slots[i];
source\domino\core\d_container_state.c:134:                    slot->item_id = item_id;
source\domino\core\d_container_state.c:135:                    slot->count = 0u;
source\domino\core\d_container_state.c:144:        slot->count += can_pack;
source\domino\core\d_container_state.c:147:    st->used_mass   = (q16_16)((i64)st->used_mass + (i64)dcontainer_q16_mul_u32(ip->unit_mass, can_pack));
source\domino\core\d_container_state.c:148:    st->used_volume = (q16_16)((i64)st->used_volume + (i64)dcontainer_q16_mul_u32(ip->unit_volume, can_pack));
source\domino\core\d_container_state.c:169:        return -1;
source\domino\core\d_container_state.c:175:    if (!ip || !st->slots) {
source\domino\core\d_container_state.c:176:        return -1;
source\domino\core\d_container_state.c:179:    if (st->slot_count == 0u) {
source\domino\core\d_container_state.c:180:        if (st->slots[0].item_id != item_id) {
source\domino\core\d_container_state.c:184:        avail = st->slots[0].count;
source\domino\core\d_container_state.c:186:        st->slots[0].count -= to_unpack;
source\domino\core\d_container_state.c:187:        if (st->slots[0].count == 0u) {
source\domino\core\d_container_state.c:188:            st->slots[0].item_id = 0u;
source\domino\core\d_container_state.c:192:        for (i = 0u; i < (u32)st->slot_count; ++i) {
source\domino\core\d_container_state.c:193:            if (st->slots[i].item_id == item_id) {
source\domino\core\d_container_state.c:194:                slot = &st->slots[i];
source\domino\core\d_container_state.c:202:        avail = slot->count;
source\domino\core\d_container_state.c:204:        slot->count -= to_unpack;
source\domino\core\d_container_state.c:205:        if (slot->count == 0u) {
source\domino\core\d_container_state.c:206:            slot->item_id = 0u;
source\domino\core\d_container_state.c:211:        q16_16 dm = dcontainer_q16_mul_u32(ip->unit_mass, to_unpack);
source\domino\core\d_container_state.c:212:        q16_16 dv = dcontainer_q16_mul_u32(ip->unit_volume, to_unpack);
source\domino\core\d_container_state.c:213:        st->used_mass = (q16_16)((i64)st->used_mass - (i64)dm);
source\domino\core\d_container_state.c:214:        st->used_volume = (q16_16)((i64)st->used_volume - (i64)dv);
source\domino\core\d_container_state.c:215:        if (st->used_mass < 0) st->used_mass = 0;
source\domino\core\d_container_state.c:216:        if (st->used_volume < 0) st->used_volume = 0;
source\domino\drecipe.c:14:    if (!def || !def->name) return 0;
source\domino\drecipe.c:28:    return &g_recipes[id - 1];
source\domino\drecipe.c:44:    if (recipe->time_s == 0) {
source\domino\drecipe.c:45:        mach->progress_0_1 = (Q16_16)(1 << 16);
source\domino\drecipe.c:50:    incr = (Q16_16)(((I64)dt << 16) / (I64)recipe->time_s);
source\domino\drecipe.c:51:    if (mach->progress_0_1 == 0 && incr > 0) {
source\domino\drecipe.c:54:    mach->progress_0_1 = (Q16_16)(mach->progress_0_1 + incr);
source\domino\drecipe.c:55:    if (mach->progress_0_1 >= (Q16_16)(1 << 16)) {
source\domino\drecipe.c:56:        mach->progress_0_1 = 0;
source\domino\build\d_build.c:16:    q16_16 down[4]; /* anchor_z - corner_z, in Q16.16 */
source\domino\build\d_build.c:59:    if (st->foundations) {
source\domino\build\d_build.c:60:        free(st->foundations);
source\domino\build\d_build.c:95:    if (st->foundations) {
source\domino\build\d_build.c:96:        free(st->foundations);
source\domino\build\d_build.c:98:    st->foundations = (dbuild_foundation *)0;
source\domino\build\d_build.c:99:    st->foundation_count = 0u;
source\domino\build\d_build.c:100:    st->foundation_capacity = 0u;
source\domino\build\d_build.c:107:        return -1;
source\domino\build\d_build.c:109:    if (needed <= st->foundation_capacity) {
source\domino\build\d_build.c:112:    new_cap = st->foundation_capacity ? st->foundation_capacity : 64u;
source\domino\build\d_build.c:120:    new_items = (dbuild_foundation *)realloc(st->foundations, new_cap * sizeof(dbuild_foundation));
source\domino\build\d_build.c:122:        return -1;
source\domino\build\d_build.c:124:    st->foundations = new_items;
source\domino\build\d_build.c:125:    st->foundation_capacity = new_cap;
source\domino\build\d_build.c:130:    i64 shifted = ((i64)v) >> (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\build\d_build.c:132:    if (shifted < (i64)(-2147483647L - 1L)) return (q16_16)(-2147483647L - 1L);
source\domino\build\d_build.c:149:        rx = (q16_16)(-y);
source\domino\build\d_build.c:152:        rx = (q16_16)(-x);
source\domino\build\d_build.c:153:        ry = (q16_16)(-y);
source\domino\build\d_build.c:156:        ry = (q16_16)(-x);
source\domino\build\d_build.c:175:    if (!sp->layout.ptr || sp->layout.len == 0u) {
source\domino\build\d_build.c:182:    while ((rc = d_tlv_kv_next(&sp->layout, &offset, &tag, &payload)) == 0) {
source\domino\build\d_build.c:219:        return -1;
source\domino\build\d_build.c:226:    ox[0] = (q16_16)(-hw16); oy[0] = (q16_16)(-hh16);
source\domino\build\d_build.c:227:    ox[1] = hw16;           oy[1] = (q16_16)(-hh16);
source\domino\build\d_build.c:229:    ox[3] = (q16_16)(-hw16); oy[3] = hh16;
source\domino\build\d_build.c:234:        corners_x[i] = pos_x + (((q32_32)rx) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS));
source\domino\build\d_build.c:235:        corners_y[i] = pos_y + (((q32_32)ry) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS));
source\domino\build\d_build.c:246:        q32_32 dz = avg - hz[i];
source\domino\build\d_build.c:269:        dx = (q16_16)(inst->pos_x - x);
source\domino\build\d_build.c:270:        dy = (q16_16)(inst->pos_y - y);
source\domino\build\d_build.c:271:        if (dx < 0) dx = (q16_16)(-dx);
source\domino\build\d_build.c:272:        if (dy < 0) dy = (q16_16)(-dy);
source\domino\build\d_build.c:288:        return -1;
source\domino\build\d_build.c:292:        return -1;
source\domino\build\d_build.c:296:        return -1;
source\domino\build\d_build.c:298:    for (i = 0u; i < st->foundation_count; ++i) {
source\domino\build\d_build.c:299:        if (st->foundations[i].struct_id == struct_id) {
source\domino\build\d_build.c:300:            out_down[0] = st->foundations[i].down[0];
source\domino\build\d_build.c:301:            out_down[1] = st->foundations[i].down[1];
source\domino\build\d_build.c:302:            out_down[2] = st->foundations[i].down[2];
source\domino\build\d_build.c:303:            out_down[3] = st->foundations[i].down[3];
source\domino\build\d_build.c:307:    return -1;
source\domino\build\d_build.c:314:        return -1;
source\domino\build\d_build.c:318:        return -1;
source\domino\build\d_build.c:320:    for (i = 0u; i < st->foundation_count; ++i) {
source\domino\build\d_build.c:321:        if (st->foundations[i].struct_id == struct_id) {
source\domino\build\d_build.c:322:            memcpy(st->foundations[i].down, down, sizeof(q16_16) * 4u);
source\domino\build\d_build.c:326:    if (dbuild_reserve_foundations(st, st->foundation_count + 1u) != 0) {
source\domino\build\d_build.c:327:        return -1;
source\domino\build\d_build.c:329:    st->foundations[st->foundation_count].struct_id = struct_id;
source\domino\build\d_build.c:330:    memcpy(st->foundations[st->foundation_count].down, down, sizeof(q16_16) * 4u);
source\domino\build\d_build.c:331:    st->foundation_count += 1u;
source\domino\build\d_build.c:348:        return -1;
source\domino\build\d_build.c:350:    dx = dbuild_q16_from_q32(b->x - a->x);
source\domino\build\d_build.c:351:    dy = dbuild_q16_from_q32(b->y - a->y);
source\domino\build\d_build.c:352:    dz = dbuild_q16_from_q32(b->z - a->z);
source\domino\build\d_build.c:365:            v -= res + bit;
source\domino\build\d_build.c:387:        if (v == (q16_16)(-2147483647L - 1L)) return (q16_16)2147483647L;
source\domino\build\d_build.c:388:        return (q16_16)(-v);
source\domino\build\d_build.c:406:    if (req->spline_nodes && req->spline_node_count >= 2u) {
source\domino\build\d_build.c:407:        u16 n = req->spline_node_count;
source\domino\build\d_build.c:410:            tmp_nodes[i] = req->spline_nodes[i];
source\domino\build\d_build.c:411:            if (req->flags & D_BUILD_FLAG_SNAP_TERRAIN) {
source\domino\build\d_build.c:422:    tmp_nodes[0].x = req->pos_x;
source\domino\build\d_build.c:423:    tmp_nodes[0].y = req->pos_y;
source\domino\build\d_build.c:424:    tmp_nodes[0].z = req->pos_z;
source\domino\build\d_build.c:427:    tmp_nodes[1].x = req->pos2_x;
source\domino\build\d_build.c:428:    tmp_nodes[1].y = req->pos2_y;
source\domino\build\d_build.c:429:    tmp_nodes[1].z = req->pos2_z;
source\domino\build\d_build.c:433:    if (req->flags & D_BUILD_FLAG_SNAP_TERRAIN) {
source\domino\build\d_build.c:445:    if (!payload || !out || !payload->ptr || payload->len != 4u) {
source\domino\build\d_build.c:446:        return -1;
source\domino\build\d_build.c:448:    memcpy(out, payload->ptr, sizeof(i32));
source\domino\build\d_build.c:476:        return -1;
source\domino\build\d_build.c:495:        sp = d_content_get_structure(inst->proto_id);
source\domino\build\d_build.c:496:        if (!sp || !sp->io.ptr || sp->io.len == 0u) {
source\domino\build\d_build.c:501:        while ((rc = d_tlv_kv_next(&sp->io, &offset, &tag, &payload)) == 0) {
source\domino\build\d_build.c:538:                steps = dbuild_yaw_steps_90(inst->rot_yaw);
source\domino\build\d_build.c:540:                wx = (q16_16)(inst->pos_x + rx);
source\domino\build\d_build.c:541:                wy = (q16_16)(inst->pos_y + ry);
source\domino\build\d_build.c:543:                dx = (q16_16)(wx - px16);
source\domino\build\d_build.c:544:                dy = (q16_16)(wy - py16);
source\domino\build\d_build.c:545:                if (dx < 0) dx = (q16_16)(-dx);
source\domino\build\d_build.c:546:                if (dy < 0) dy = (q16_16)(-dy);
source\domino\build\d_build.c:550:                    best_struct = (u32)inst->id;
source\domino\build\d_build.c:561:        return -1;
source\domino\build\d_build.c:580:        return -1;
source\domino\build\d_build.c:582:    if (req->kind == D_BUILD_KIND_STRUCTURE) {
source\domino\build\d_build.c:591:        if (req->structure_id == 0u) {
source\domino\build\d_build.c:593:            return -1;
source\domino\build\d_build.c:595:        sp = d_content_get_structure(req->structure_id);
source\domino\build\d_build.c:598:            return -1;
source\domino\build\d_build.c:602:        if (dbuild_compute_foundation_down(w, req->pos_x, req->pos_y, req->rot_yaw, fw, fh, &anchor_z, down) != 0) {
source\domino\build\d_build.c:604:            return -1;
source\domino\build\d_build.c:606:        x16 = dbuild_q16_from_q32(req->pos_x);
source\domino\build\d_build.c:607:        y16 = dbuild_q16_from_q32(req->pos_y);
source\domino\build\d_build.c:610:            return -1;
source\domino\build\d_build.c:613:    } else if (req->kind == D_BUILD_KIND_SPLINE) {
source\domino\build\d_build.c:619:        if (req->spline_profile_id == 0u) {
source\domino\build\d_build.c:621:            return -1;
source\domino\build\d_build.c:623:        pp = d_content_get_spline_profile(req->spline_profile_id);
source\domino\build\d_build.c:626:            return -1;
source\domino\build\d_build.c:631:            return -1;
source\domino\build\d_build.c:640:                return -1;
source\domino\build\d_build.c:642:            dz = dbuild_q16_from_q32(nodes[i + 1u].z - nodes[i].z);
source\domino\build\d_build.c:645:            if (pp->max_grade > 0 && grade > pp->max_grade) {
source\domino\build\d_build.c:647:                return -1;
source\domino\build\d_build.c:651:        if (req->flags & D_BUILD_FLAG_REQUIRE_PORTS) {
source\domino\build\d_build.c:663:            if (pp->type == (u16)D_SPLINE_TYPE_ITEM) {
source\domino\build\d_build.c:668:            } else if (pp->type == (u16)D_SPLINE_TYPE_VEHICLE) {
source\domino\build\d_build.c:673:            } else if (pp->type == (u16)D_SPLINE_TYPE_FLUID) {
source\domino\build\d_build.c:682:                return -1;
source\domino\build\d_build.c:688:                return -1;
source\domino\build\d_build.c:690:            if (dbuild_find_nearest_struct_port(w, nodes[node_count - 1u].x, nodes[node_count - 1u].y, end_kind0, &sid1, &pk1, &pi1) != 0 &&
source\domino\build\d_build.c:691:                (end_kind1 == 0u || dbuild_find_nearest_struct_port(w, nodes[node_count - 1u].x, nodes[node_count - 1u].y, end_kind1, &sid1, &pk1, &pi1) != 0)) {
source\domino\build\d_build.c:693:                return -1;
source\domino\build\d_build.c:701:    return -1;
source\domino\build\d_build.c:716:        return -1;
source\domino\build\d_build.c:724:    if (req->kind == D_BUILD_KIND_STRUCTURE) {
source\domino\build\d_build.c:735:        sp = d_content_get_structure(req->structure_id);
source\domino\build\d_build.c:737:            return -1;
source\domino\build\d_build.c:740:        if (dbuild_compute_foundation_down(w, req->pos_x, req->pos_y, req->rot_yaw, fw, fh, &anchor_z, down) != 0) {
source\domino\build\d_build.c:741:            return -1;
source\domino\build\d_build.c:744:        x16 = dbuild_q16_from_q32(req->pos_x);
source\domino\build\d_build.c:745:        y16 = dbuild_q16_from_q32(req->pos_y);
source\domino\build\d_build.c:747:        sid = d_struct_create(w, req->structure_id, x16, y16, z16, req->rot_yaw);
source\domino\build\d_build.c:749:            return -1;
source\domino\build\d_build.c:757:    } else if (req->kind == D_BUILD_KIND_SPLINE) {
source\domino\build\d_build.c:765:            return -1;
source\domino\build\d_build.c:767:        pp = d_content_get_spline_profile(req->spline_profile_id);
source\domino\build\d_build.c:769:            return -1;
source\domino\build\d_build.c:771:        sid = d_trans_spline_create(w, nodes, node_count, req->spline_profile_id, 0u);
source\domino\build\d_build.c:773:            return -1;
source\domino\build\d_build.c:787:            if (pp->type == (u16)D_SPLINE_TYPE_ITEM) {
source\domino\build\d_build.c:792:            } else if (pp->type == (u16)D_SPLINE_TYPE_VEHICLE) {
source\domino\build\d_build.c:797:            } else if (pp->type == (u16)D_SPLINE_TYPE_FLUID) {
source\domino\build\d_build.c:810:                if (dbuild_find_nearest_struct_port(w, nodes[node_count - 1u].x, nodes[node_count - 1u].y, end_kind0, &sid1, &pk1, &pi1) != 0) {
source\domino\build\d_build.c:812:                        (void)dbuild_find_nearest_struct_port(w, nodes[node_count - 1u].x, nodes[node_count - 1u].y, end_kind1, &sid1, &pk1, &pi1);
source\domino\build\d_build.c:824:    return -1;
source\domino\build\d_build.c:836:        return -1;
source\domino\build\d_build.c:838:    out->ptr = (unsigned char *)0;
source\domino\build\d_build.c:839:    out->len = 0u;
source\domino\build\d_build.c:845:    if (!st || st->foundation_count == 0u) {
source\domino\build\d_build.c:853:    total += st->foundation_count * (sizeof(u32) + sizeof(q16_16) * 4u);
source\domino\build\d_build.c:857:        return -1;
source\domino\build\d_build.c:862:    memcpy(dst, &st->foundation_count, sizeof(u32)); dst += 4u;
source\domino\build\d_build.c:863:    for (i = 0u; i < st->foundation_count; ++i) {
source\domino\build\d_build.c:864:        memcpy(dst, &st->foundations[i].struct_id, sizeof(u32)); dst += sizeof(u32);
source\domino\build\d_build.c:865:        memcpy(dst, st->foundations[i].down, sizeof(q16_16) * 4u); dst += sizeof(q16_16) * 4u;
source\domino\build\d_build.c:868:    out->ptr = buf;
source\domino\build\d_build.c:869:    out->len = (u32)(dst - buf);
source\domino\build\d_build.c:882:        return -1;
source\domino\build\d_build.c:884:    if (in->len == 0u) {
source\domino\build\d_build.c:887:    if (!in->ptr || in->len < 8u) {
source\domino\build\d_build.c:888:        return -1;
source\domino\build\d_build.c:893:        return -1;
source\domino\build\d_build.c:897:    ptr = in->ptr;
source\domino\build\d_build.c:898:    remaining = in->len;
source\domino\build\d_build.c:899:    memcpy(&version, ptr, sizeof(u32)); ptr += 4u; remaining -= 4u;
source\domino\build\d_build.c:901:        return -1;
source\domino\build\d_build.c:903:    memcpy(&count, ptr, sizeof(u32)); ptr += 4u; remaining -= 4u;
source\domino\build\d_build.c:908:            return -1;
source\domino\build\d_build.c:911:            return -1;
source\domino\build\d_build.c:914:            memcpy(&st->foundations[i].struct_id, ptr, sizeof(u32)); ptr += sizeof(u32);
source\domino\build\d_build.c:915:            memcpy(st->foundations[i].down, ptr, sizeof(q16_16) * 4u); ptr += sizeof(q16_16) * 4u;
source\domino\build\d_build.c:917:        st->foundation_count = count;
source\domino\build\d_build.c:926:        return -1;
source\domino\build\d_build.c:928:    out->ptr = (unsigned char *)0;
source\domino\build\d_build.c:929:    out->len = 0u;
source\domino\content\d_blueprint.c:14:        return -1;
source\domino\content\d_blueprint.c:30:    if (!vt || vt->kind_id == 0u) {
source\domino\content\d_blueprint.c:31:        return -1;
source\domino\content\d_blueprint.c:34:        if (g_kind_vtables[i].kind_id == vt->kind_id) {
source\domino\content\d_blueprint.c:35:            return -2;
source\domino\content\d_blueprint.c:39:        return -3;
source\domino\core\d_model.h:25:    /* Reserve 1000+ for mods/third-party model families. */
source\domino\core\d_model.h:34:    u32               version;  /* model-specific version */
source\domino\core\d_model.h:36:    /* family-specific function table; cast to appropriate vtable struct in each subsystem */
source\domino\core\d_registry.h:40:/* Optional: unwrap entries by index; returns NULL if out-of-range. */
source\domino\dorbit.c:33:            v -= res + bit;
source\domino\dorbit.c:54:    /* reduce to [-0.5,0.5) turns */
source\domino\dorbit.c:59:    res = (Q16_16)((I64)x - (x3 / 6));
source\domino\dorbit.c:71:    res = (Q16_16)((Q16_16)(1 << 16) - (Q16_16)(x2 / 2));
source\domino\dorbit.c:87:    /* atan(x) â x*(pi/4 + 0.273*(1-|x|)) in radians, convert to turns */
source\domino\dorbit.c:90:    Q16_16 abs_r = (r_q16 < 0) ? (Q16_16)(-r_q16) : r_q16;
source\domino\dorbit.c:91:    Q16_16 one_minus = (Q16_16)((1 << 16) - abs_r);
source\domino\dorbit.c:100:    Q16_16 abs_y = (y < 0) ? (Q16_16)(-y) : y;
source\domino\dorbit.c:101:    Q16_16 abs_x = (x < 0) ? (Q16_16)(-x) : x;
source\domino\dorbit.c:115:        angle = (Turn)((Turn)0x4000 - angle); /* 0.25 turn - angle */
source\domino\dorbit.c:132:    out_eval->a = (Q48_16)((I64)orb->a + ((I64)orb->da_dt * dt_s));
source\domino\dorbit.c:133:    if (out_eval->a <= 0) {
source\domino\dorbit.c:134:        out_eval->a = (Q48_16)1;
source\domino\dorbit.c:137:    out_eval->e = (Q16_16)((I64)orb->e + ((I64)orb->de_dt * dt_s));
source\domino\dorbit.c:138:    if (out_eval->e < 0) out_eval->e = 0;
source\domino\dorbit.c:139:    if (out_eval->e >= (Q16_16)(1 << 16)) out_eval->e = (Q16_16)((1 << 16) - 1);
source\domino\dorbit.c:141:    out_eval->i = dnum_turn_normalise_0_1((Turn)((I64)orb->i + ((I64)orb->di_dt * dt_s)));
source\domino\dorbit.c:142:    out_eval->Omega = dnum_turn_normalise_0_1((Turn)((I64)orb->Omega + ((I64)orb->dOmega_dt * dt_s)));
source\domino\dorbit.c:143:    out_eval->omega = dnum_turn_normalise_0_1((Turn)((I64)orb->omega + ((I64)orb->domega_dt * dt_s)));
source\domino\dorbit.c:144:    out_eval->M0 = orb->M0;
source\domino\dorbit.c:157:    a_m = (I64)(eval->a >> 16);
source\domino\dorbit.c:180:                boost--;
source\domino\dorbit.c:201:    if (t >= orb->t0) dt_s = (I64)(t - orb->t0);
source\domino\dorbit.c:202:    else dt_s = -(I64)(orb->t0 - t);
source\domino\dorbit.c:205:    mu = dbody_get_mu(orb->central);
source\domino\dorbit.c:218:        Turn f = (Turn)((I32)E - (I32)mean_anomaly - (I32)(dorbit_q16_mul(e, sinE)));
source\domino\dorbit.c:219:        Q16_16 denom = (Q16_16)((1 << 16) - dorbit_q16_mul(e, cosE));
source\domino\dorbit.c:221:        E = (Turn)((I32)E - (I32)(((I64)f << 16) / denom));
source\domino\dorbit.c:230:    Q16_16 one_minus_e_cosE = (Q16_16)((1 << 16) - dorbit_q16_mul(e, cosE));
source\domino\dorbit.c:236:    sqrt_term = dorbit_sqrt_q16((Q16_16)((1 << 16) - dorbit_q16_mul(e, e)));
source\domino\dorbit.c:238:    cos_num = (Q16_16)(cosE - e);
source\domino\dorbit.c:249:    Q16_16 one_minus_e2 = (Q16_16)((1 << 16) - dorbit_q16_mul(e, e));
source\domino\dorbit.c:261:    out->x = dorbit_q48_mul_q16(r, cos_v);
source\domino\dorbit.c:262:    out->y = dorbit_q48_mul_q16(r, sin_v);
source\domino\dorbit.c:263:    out->z = 0;
source\domino\dorbit.c:290:    if (t >= orb->t0) dt_s = (I64)(t - orb->t0);
source\domino\dorbit.c:291:    else dt_s = -(I64)(orb->t0 - t);
source\domino\dorbit.c:294:    mu = dbody_get_mu(orb->central);
source\domino\dorbit.c:309:    one_minus_e2 = (Q16_16)((1 << 16) - dorbit_q16_mul(eval.e, eval.e));
source\domino\dorbit.c:325:        out->x = dorbit_q48_mul_q16(x1, cosO) - dorbit_q48_mul_q16(y1, sinO_cosi);
source\domino\dorbit.c:326:        out->y = dorbit_q48_mul_q16(x1, sinO) + dorbit_q48_mul_q16(y1, cosO_cosi);
source\domino\dorbit.c:327:        out->z = dorbit_q48_mul_q16(y1, sini);
source\domino\content\d_blueprint.h:1:/* Generic blueprint definitions (data-only, C89). */
source\domino\content\d_blueprint.h:19:    d_tlv_blob         payload;   /* kind-specific TLV payload */
source\domino\content\d_blueprint.h:38:/* Built-in blueprint kinds */
source\domino\content\d_blueprint.h:54:/* Register built-in kinds (idempotent). */
source\domino\core\d_model.c:37:    bucket->family_id = family_id;
source\domino\core\d_model.c:38:    bucket->count = 0u;
source\domino\core\d_model.c:48:        return -1;
source\domino\core\d_model.c:50:    if (desc->family_id == 0u || desc->model_id == 0u) {
source\domino\core\d_model.c:52:        return -2;
source\domino\core\d_model.c:55:    bucket = d_model_ensure_family(desc->family_id);
source\domino\core\d_model.c:57:        return -3;
source\domino\core\d_model.c:60:    for (i = 0u; i < bucket->count; ++i) {
source\domino\core\d_model.c:61:        if (bucket->entries[i].model_id == desc->model_id) {
source\domino\core\d_model.c:63:                    (unsigned int)desc->model_id,
source\domino\core\d_model.c:64:                    (unsigned int)desc->family_id);
source\domino\core\d_model.c:65:            return -4;
source\domino\core\d_model.c:68:    if (bucket->count >= D_MODEL_MAX_PER_FAMILY) {
source\domino\core\d_model.c:69:        fprintf(stderr, "d_model_register: family %u full\n", (unsigned int)desc->family_id);
source\domino\core\d_model.c:70:        return -5;
source\domino\core\d_model.c:73:    bucket->entries[bucket->count] = *desc;
source\domino\core\d_model.c:74:    bucket->count += 1u;
source\domino\core\d_model.c:83:    return bucket->count;
source\domino\core\d_model.c:91:    if (index >= bucket->count) {
source\domino\core\d_model.c:94:    return &bucket->entries[index];
source\domino\core\d_model.c:104:    for (i = 0u; i < bucket->count; ++i) {
source\domino\core\d_model.c:105:        if (bucket->entries[i].model_id == model_id) {
source\domino\core\d_model.c:106:            return &bucket->entries[i];
source\domino\core\d_registry.c:14:    reg->entries = storage;
source\domino\core\d_registry.c:15:    reg->capacity = capacity;
source\domino\core\d_registry.c:16:    reg->count = 0u;
source\domino\core\d_registry.c:17:    reg->next_id = first_id ? first_id : 1u;
source\domino\core\d_registry.c:18:    if (reg->next_id == 0u) {
source\domino\core\d_registry.c:19:        reg->next_id = 1u;
source\domino\core\d_registry.c:25:    if (!reg || !reg->entries) {
source\domino\core\d_registry.c:29:    if (reg->count >= reg->capacity) {
source\domino\core\d_registry.c:33:    if (reg->next_id == 0u || reg->next_id == 0xFFFFFFFFu) {
source\domino\core\d_registry.c:38:    entry = &reg->entries[reg->count];
source\domino\core\d_registry.c:39:    entry->id = reg->next_id;
source\domino\core\d_registry.c:40:    entry->ptr = ptr;
source\domino\core\d_registry.c:41:    reg->count += 1u;
source\domino\core\d_registry.c:42:    reg->next_id += 1u;
source\domino\core\d_registry.c:43:    /* TODO: upgrade to open-addressing or sorted lookup if hot. */
source\domino\core\d_registry.c:44:    return entry->id;
source\domino\core\d_registry.c:50:    if (!reg || !reg->entries) {
source\domino\core\d_registry.c:54:    if (reg->count >= reg->capacity) {
source\domino\core\d_registry.c:62:    for (i = 0u; i < reg->count; ++i) {
source\domino\core\d_registry.c:63:        if (reg->entries[i].id == id) {
source\domino\core\d_registry.c:69:    entry = &reg->entries[reg->count];
source\domino\core\d_registry.c:70:    entry->id = id;
source\domino\core\d_registry.c:71:    entry->ptr = ptr;
source\domino\core\d_registry.c:72:    reg->count += 1u;
source\domino\core\d_registry.c:73:    if (id >= reg->next_id) {
source\domino\core\d_registry.c:74:        reg->next_id = id + 1u;
source\domino\core\d_registry.c:76:    return entry->id;
source\domino\core\d_registry.c:81:    if (!reg || !reg->entries) {
source\domino\core\d_registry.c:84:    for (i = 0u; i < reg->count; ++i) {
source\domino\core\d_registry.c:85:        if (reg->entries[i].id == id) {
source\domino\core\d_registry.c:86:            return reg->entries[i].ptr;
source\domino\core\d_registry.c:93:    if (!reg || !reg->entries) {
source\domino\core\d_registry.c:96:    if (index >= reg->count) {
source\domino\core\d_registry.c:99:    return &reg->entries[index];
source\domino\content\d_content.c:170:        return -1;
source\domino\content\d_content.c:174:        return -1;
source\domino\content\d_content.c:177:    g_material_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:178:    if (d_registry_add_with_id(&g_material_registry, src->id, &g_material_storage[slot]) == 0u) {
source\domino\content\d_content.c:180:        return -1;
source\domino\content\d_content.c:189:        return -1;
source\domino\content\d_content.c:193:        return -1;
source\domino\content\d_content.c:196:    g_item_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:197:    if (d_registry_add_with_id(&g_item_registry, src->id, &g_item_storage[slot]) == 0u) {
source\domino\content\d_content.c:199:        return -1;
source\domino\content\d_content.c:208:        return -1;
source\domino\content\d_content.c:212:        return -1;
source\domino\content\d_content.c:215:    g_container_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:216:    if (d_registry_add_with_id(&g_container_registry, src->id, &g_container_storage[slot]) == 0u) {
source\domino\content\d_content.c:218:        return -1;
source\domino\content\d_content.c:227:        return -1;
source\domino\content\d_content.c:231:        return -1;
source\domino\content\d_content.c:234:    g_process_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:235:    if (d_registry_add_with_id(&g_process_registry, src->id, &g_process_storage[slot]) == 0u) {
source\domino\content\d_content.c:237:        return -1;
source\domino\content\d_content.c:246:        return -1;
source\domino\content\d_content.c:250:        return -1;
source\domino\content\d_content.c:253:    g_deposit_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:254:    if (d_registry_add_with_id(&g_deposit_registry, src->id, &g_deposit_storage[slot]) == 0u) {
source\domino\content\d_content.c:256:        return -1;
source\domino\content\d_content.c:265:        return -1;
source\domino\content\d_content.c:269:        return -1;
source\domino\content\d_content.c:272:    g_structure_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:273:    if (d_registry_add_with_id(&g_structure_registry, src->id, &g_structure_storage[slot]) == 0u) {
source\domino\content\d_content.c:275:        return -1;
source\domino\content\d_content.c:284:        return -1;
source\domino\content\d_content.c:288:        return -1;
source\domino\content\d_content.c:291:    g_vehicle_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:292:    if (d_registry_add_with_id(&g_vehicle_registry, src->id, &g_vehicle_storage[slot]) == 0u) {
source\domino\content\d_content.c:294:        return -1;
source\domino\content\d_content.c:303:        return -1;
source\domino\content\d_content.c:307:        return -1;
source\domino\content\d_content.c:310:    g_spline_profile_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:311:    if (d_registry_add_with_id(&g_spline_profile_registry, src->id, &g_spline_profile_storage[slot]) == 0u) {
source\domino\content\d_content.c:313:        return -1;
source\domino\content\d_content.c:322:        return -1;
source\domino\content\d_content.c:326:        return -1;
source\domino\content\d_content.c:329:    g_job_template_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:330:    if (d_registry_add_with_id(&g_job_template_registry, src->id, &g_job_template_storage[slot]) == 0u) {
source\domino\content\d_content.c:332:        return -1;
source\domino\content\d_content.c:341:        return -1;
source\domino\content\d_content.c:345:        return -1;
source\domino\content\d_content.c:348:    g_building_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:349:    if (d_registry_add_with_id(&g_building_registry, src->id, &g_building_storage[slot]) == 0u) {
source\domino\content\d_content.c:351:        return -1;
source\domino\content\d_content.c:360:        return -1;
source\domino\content\d_content.c:364:        return -1;
source\domino\content\d_content.c:367:    g_blueprint_storage[slot].name = d_content_safe_name(src->name);
source\domino\content\d_content.c:368:    if (d_registry_add_with_id(&g_blueprint_registry, src->id, &g_blueprint_storage[slot]) == 0u) {
source\domino\content\d_content.c:370:        return -1;
source\domino\content\d_content.c:383:        return -1;
source\domino\content\d_content.c:385:    if (*offset >= blob->len) {
source\domino\content\d_content.c:386:        return 1; /* end-of-blob */
source\domino\content\d_content.c:388:    remaining = blob->len - *offset;
source\domino\content\d_content.c:390:        return -1;
source\domino\content\d_content.c:392:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\content\d_content.c:393:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\content\d_content.c:395:    if (len > blob->len - *offset) {
source\domino\content\d_content.c:396:        return -1;
source\domino\content\d_content.c:398:    payload->ptr = blob->ptr + *offset;
source\domino\content\d_content.c:399:    payload->len = len;
source\domino\content\d_content.c:411:        return -1;
source\domino\content\d_content.c:413:    if (!blob->ptr || blob->len == 0u) {
source\domino\content\d_content.c:423:            return -1;
source\domino\content\d_content.c:429:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:430:            if (d_content_schema_parse_material_v1(&payload, &mat) != 0) return -1;
source\domino\content\d_content.c:431:            if (d_content_register_material(&mat) != 0) return -1;
source\domino\content\d_content.c:436:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:437:            if (d_content_schema_parse_item_v1(&payload, &it) != 0) return -1;
source\domino\content\d_content.c:438:            if (d_content_register_item(&it) != 0) return -1;
source\domino\content\d_content.c:443:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:444:            if (d_content_schema_parse_container_v1(&payload, &ct) != 0) return -1;
source\domino\content\d_content.c:445:            if (d_content_register_container(&ct) != 0) return -1;
source\domino\content\d_content.c:450:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:451:            if (d_content_schema_parse_process_v1(&payload, &proc) != 0) return -1;
source\domino\content\d_content.c:452:            if (d_content_register_process(&proc) != 0) return -1;
source\domino\content\d_content.c:457:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:458:            if (d_content_schema_parse_deposit_v1(&payload, &dep) != 0) return -1;
source\domino\content\d_content.c:459:            if (d_content_register_deposit(&dep) != 0) return -1;
source\domino\content\d_content.c:464:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:465:            if (d_content_schema_parse_structure_v1(&payload, &st) != 0) return -1;
source\domino\content\d_content.c:466:            if (d_content_register_structure(&st) != 0) return -1;
source\domino\content\d_content.c:471:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:472:            if (d_content_schema_parse_vehicle_v1(&payload, &veh) != 0) return -1;
source\domino\content\d_content.c:473:            if (d_content_register_vehicle(&veh) != 0) return -1;
source\domino\content\d_content.c:478:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:479:            if (d_content_schema_parse_spline_v1(&payload, &sp) != 0) return -1;
source\domino\content\d_content.c:480:            if (d_content_register_spline(&sp) != 0) return -1;
source\domino\content\d_content.c:485:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:486:            if (d_content_schema_parse_job_template_v1(&payload, &jt) != 0) return -1;
source\domino\content\d_content.c:487:            if (d_content_register_job_template(&jt) != 0) return -1;
source\domino\content\d_content.c:492:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:493:            if (d_content_schema_parse_building_v1(&payload, &bld) != 0) return -1;
source\domino\content\d_content.c:494:            if (d_content_register_building(&bld) != 0) return -1;
source\domino\content\d_content.c:499:            if (d_tlv_schema_validate((d_tlv_schema_id)schema_id, 1u, &payload, (d_tlv_blob *)0) != 0) return -1;
source\domino\content\d_content.c:500:            if (d_content_schema_parse_blueprint_v1(&payload, &bp) != 0) return -1;
source\domino\content\d_content.c:501:            if (d_content_register_blueprint(&bp) != 0) return -1;
source\domino\content\d_content.c:518:        return -1;
source\domino\content\d_content.c:521:    content_blob = m->content_tlv;
source\domino\content\d_content.c:522:    if (m->content_tlv.ptr && m->content_tlv.len >= 8u) {
source\domino\content\d_content.c:523:        if (d_content_schema_parse_pack_v1(&m->content_tlv, &parsed) == 0) {
source\domino\content\d_content.c:531:        return -1;
source\domino\content\d_content.c:542:        return -1;
source\domino\content\d_content.c:545:    content_blob = m->content_tlv;
source\domino\content\d_content.c:546:    if (m->content_tlv.ptr && m->content_tlv.len >= 8u) {
source\domino\content\d_content.c:547:        if (d_content_schema_parse_mod_v1(&m->content_tlv, &parsed) == 0) {
source\domino\content\d_content.c:555:        return -1;
source\domino\content\d_content.c:637:        if (bp && bp->name && strcmp(bp->name, name) == 0) {
source\domino\content\d_content.c:712:               m && m->name ? m->name : "(null)");
source\domino\content\d_content.c:718:               it && it->name ? it->name : "(null)");
source\domino\dnumeric.c:5:/* Fixed-point conversions */
source\domino\dnumeric.c:48:        norm -= full_turn;
source\domino\dnumeric.c:60:    return dnum_turn_normalise_0_1((Turn)((I32)a - (I32)b));
source\domino\core\d_container_state.h:23:    /* If proto slot_count==0 this is bulk-only. */
source\domino\core\d_container_state.h:25:    d_container_slot    *slots; /* optional dyn array; bulk-only uses slots[0] */
source\domino\core\d_subsystem.c:14:        return -1;
source\domino\core\d_subsystem.c:16:    if (desc->subsystem_id == 0u) {
source\domino\core\d_subsystem.c:18:        return -2;
source\domino\core\d_subsystem.c:21:        if (g_subsystems[i].subsystem_id == desc->subsystem_id) {
source\domino\core\d_subsystem.c:22:            fprintf(stderr, "d_subsystem_register: duplicate id %u\n", (unsigned int)desc->subsystem_id);
source\domino\core\d_subsystem.c:23:            return -3;
source\domino\core\d_subsystem.c:28:        return -4;
source\domino\core\d_serialize_tags.h:18:    /* Reserve 0x2000+ for mod/third-party subsystems */
source\domino\dnet.c:37:    g_nodes[g_node_count - 1].id = g_node_count;
source\domino\dnet.c:38:    g_nodes[g_node_count - 1].kind = kind;
source\domino\dnet.c:53:    memset((char*)storage + (idx - 1) * element_size, 0, element_size);
source\domino\dnet.c:61:    g_power_edges[id - 1] = *def;
source\domino\dnet.c:62:    g_power_edges[id - 1].id = id;
source\domino\dnet.c:70:    g_fluid_edges[id - 1] = *def;
source\domino\dnet.c:71:    g_fluid_edges[id - 1].id = id;
source\domino\dnet.c:79:    g_gas_edges[id - 1] = *def;
source\domino\dnet.c:80:    g_gas_edges[id - 1].id = id;
source\domino\dnet.c:88:    g_heat_edges[id - 1] = *def;
source\domino\dnet.c:89:    g_heat_edges[id - 1].id = id;
source\domino\dnet.c:97:    g_signal_edges[id - 1] = *def;
source\domino\dnet.c:98:    g_signal_edges[id - 1].id = id;
source\domino\dnet.c:106:    g_data_edges[id - 1] = *def;
source\domino\dnet.c:107:    g_data_edges[id - 1].id = id;
source\domino\dnet.c:115:    g_comm_edges[id - 1] = *def;
source\domino\dnet.c:116:    g_comm_edges[id - 1].id = id;
source\domino\dnet.c:123:    return &g_nodes[id - 1];
source\domino\dnet.c:129:    return &g_power_edges[id - 1];
source\domino\dnet.c:135:    return &g_fluid_edges[id - 1];
source\domino\dnet.c:141:    return &g_gas_edges[id - 1];
source\domino\dnet.c:147:    return &g_heat_edges[id - 1];
source\domino\dnet.c:153:    return &g_signal_edges[id - 1];
source\domino\dnet.c:159:    return &g_data_edges[id - 1];
source\domino\dnet.c:165:    return &g_comm_edges[id - 1];
source\domino\dnet.c:183:        PowerW available = e->capacity;
source\domino\dnet.c:184:        PowerW loss = dnet_mul_q48_q16(available, e->loss_factor_0_1);
source\domino\dnet.c:187:        e->flow = available - loss;
source\domino\dnet.c:198:        e->flow_per_s = e->capacity_per_s - dnet_mul_q48_q16(e->capacity_per_s, e->friction_factor);
source\domino\dnet.c:209:        e->flow_per_s = e->capacity_per_s - dnet_mul_q48_q16(e->capacity_per_s, e->friction_factor);
source\domino\dnet.c:220:        e->transfer = dnet_mul_q48_q16(e->capacity, e->conductance);
source\domino\core\d_subsystem.h:30:    /* Reserve 1000+ for mods/third-party subsystems in the future. */
source\domino\core\d_subsystem.h:47:    /* Called to load subsystem-specific protos from TLV content blobs. */
source\domino\core\d_subsystem.h:56:    /* Serialization hooks â chunk-level. */
source\domino\core\d_subsystem.h:69:    /* Serialization hooks â instance/global-level. */
source\domino\core\d_subsystem.h:85:/* Access by index (0..count-1); returns NULL on out-of-range. */
source\domino\core\d_tlv_kv.h:23:        return -1;
source\domino\core\d_tlv_kv.h:25:    if (*offset >= blob->len) {
source\domino\core\d_tlv_kv.h:28:    remaining = blob->len - *offset;
source\domino\core\d_tlv_kv.h:29:    if (remaining < 8u || !blob->ptr) {
source\domino\core\d_tlv_kv.h:30:        return -1;
source\domino\core\d_tlv_kv.h:32:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\core\d_tlv_kv.h:33:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\core\d_tlv_kv.h:35:    if (len > blob->len - *offset) {
source\domino\core\d_tlv_kv.h:36:        return -1;
source\domino\core\d_tlv_kv.h:38:    payload->ptr = blob->ptr + *offset;
source\domino\core\d_tlv_kv.h:39:    payload->len = len;
source\domino\core\d_tlv_kv.h:45:    if (!payload || !out || !payload->ptr) {
source\domino\core\d_tlv_kv.h:46:        return -1;
source\domino\core\d_tlv_kv.h:48:    if (payload->len != 4u) {
source\domino\core\d_tlv_kv.h:49:        return -1;
source\domino\core\d_tlv_kv.h:51:    memcpy(out, payload->ptr, sizeof(u32));
source\domino\core\d_tlv_kv.h:56:    if (!payload || !out || !payload->ptr) {
source\domino\core\d_tlv_kv.h:57:        return -1;
source\domino\core\d_tlv_kv.h:59:    if (payload->len == 2u) {
source\domino\core\d_tlv_kv.h:60:        memcpy(out, payload->ptr, sizeof(u16));
source\domino\core\d_tlv_kv.h:63:    if (payload->len == 4u) {
source\domino\core\d_tlv_kv.h:65:        memcpy(&tmp, payload->ptr, sizeof(u32));
source\domino\core\d_tlv_kv.h:69:    return -1;
source\domino\core\d_tlv_kv.h:74:    if (!payload || !out || !payload->ptr) {
source\domino\core\d_tlv_kv.h:75:        return -1;
source\domino\core\d_tlv_kv.h:77:    if (payload->len != 4u) {
source\domino\core\d_tlv_kv.h:78:        return -1;
source\domino\core\d_tlv_kv.h:80:    memcpy(&tmp, payload->ptr, sizeof(i32));
source\domino\core\d_tlv_schema.c:22:    if (!desc || !desc->validate_fn) {
source\domino\core\d_tlv_schema.c:24:        return -1;
source\domino\core\d_tlv_schema.c:26:    if (d_tlv_schema_find(desc->schema_id, desc->version)) {
source\domino\core\d_tlv_schema.c:28:                (unsigned int)desc->schema_id,
source\domino\core\d_tlv_schema.c:29:                (unsigned int)desc->version);
source\domino\core\d_tlv_schema.c:30:        return -2;
source\domino\core\d_tlv_schema.c:34:        return -3;
source\domino\core\d_tlv_schema.c:52:        return -1;
source\domino\core\d_tlv_schema.c:54:    return schema->validate_fn(schema_id, version, in, out_upgraded);
source\domino\dworld.c:26:    wx = dworld_wrap_tile_coord(tile->x);
source\domino\dworld.c:27:    wy = dworld_wrap_tile_coord(tile->y);
source\domino\dworld.c:28:    wz = dworld_clamp_z(tile->z);
source\domino\dworld.c:31:        out_chunk->cx = (ChunkCoord)(wx >> 4);
source\domino\dworld.c:32:        out_chunk->cy = (ChunkCoord)(wy >> 4);
source\domino\dworld.c:33:        out_chunk->cz = (ChunkHeight)(((I32)wz - (I32)DOM_Z_MIN) / DOM_CHUNK_SIZE);
source\domino\dworld.c:36:        out_local->lx = (LocalCoord)(wx & (DOM_CHUNK_SIZE - 1));
source\domino\dworld.c:37:        out_local->ly = (LocalCoord)(wy & (DOM_CHUNK_SIZE - 1));
source\domino\dworld.c:38:        out_local->lz = (LocalCoord)((((I32)wz - (I32)DOM_Z_MIN) & (DOM_CHUNK_SIZE - 1)));
source\domino\dworld.c:49:    raw_x = (TileCoord)((chunk->cx << 4) | (TileCoord)local->lx);
source\domino\dworld.c:50:    raw_y = (TileCoord)((chunk->cy << 4) | (TileCoord)local->ly);
source\domino\dworld.c:51:    raw_z = (I32)((I32)chunk->cz * DOM_CHUNK_SIZE) + (I32)local->lz + (I32)DOM_Z_MIN;
source\domino\dworld.c:53:    out_tile->x = dworld_wrap_tile_coord(raw_x);
source\domino\dworld.c:54:    out_tile->y = dworld_wrap_tile_coord(raw_y);
source\domino\dworld.c:57:    out_tile->z = (TileHeight)raw_z;
source\domino\dworld.c:63:    out_pos->tile = *tile;
source\domino\dworld.c:64:    out_pos->dx = (PosUnit)0;
source\domino\dworld.c:65:    out_pos->dy = (PosUnit)0;
source\domino\dworld.c:66:    out_pos->dz = (PosUnit)0;
source\domino\dworld.c:79:    if (zz <= (TileHeight)(DOM_Z_TOP_MAX - 128)) {
source\domino\dworld.c:94:    return pos->tile.z > (TileHeight)DOM_Z_BUILD_MAX;
source\domino\dworld.c:101:    return pos->tile.z >= (TileHeight)DOM_Z_TOP_MAX;
source\domino\dtransport.c:53:    return &g_roads[id - 1];
source\domino\dtransport.c:59:    return &g_rails[id - 1];
source\domino\dtransport.c:65:    return &g_sea_lanes[id - 1];
source\domino\dtransport.c:71:    return &g_air_routes[id - 1];
source\domino\dtransport.c:78:    g_nodes[id - 1].id = id;
source\domino\dtransport.c:80:        g_nodes[id - 1].tile = *tile;
source\domino\dtransport.c:82:        memset(&g_nodes[id - 1].tile, 0, sizeof(WPosTile));
source\domino\dtransport.c:91:    g_roads[id - 1].id = id;
source\domino\dtransport.c:92:    g_roads[id - 1].a = a;
source\domino\dtransport.c:93:    g_roads[id - 1].b = b;
source\domino\dtransport.c:94:    g_roads[id - 1].attached_vehicle = 0;
source\domino\dtransport.c:102:    g_rails[id - 1].id = id;
source\domino\dtransport.c:103:    g_rails[id - 1].a = a;
source\domino\dtransport.c:104:    g_rails[id - 1].b = b;
source\domino\dtransport.c:105:    g_rails[id - 1].attached_vehicle = 0;
source\domino\dtransport.c:113:    g_sea_lanes[id - 1].id = id;
source\domino\dtransport.c:114:    g_sea_lanes[id - 1].a = a;
source\domino\dtransport.c:115:    g_sea_lanes[id - 1].b = b;
source\domino\dtransport.c:116:    g_sea_lanes[id - 1].attached_vehicle = 0;
source\domino\dtransport.c:124:    g_air_routes[id - 1].id = id;
source\domino\dtransport.c:125:    g_air_routes[id - 1].a = a;
source\domino\dtransport.c:126:    g_air_routes[id - 1].b = b;
source\domino\dtransport.c:127:    g_air_routes[id - 1].attached_vehicle = 0;
source\domino\dtransport.c:135:    e->attached_vehicle = vehicle;
source\domino\dtransport.c:143:    e->attached_vehicle = vehicle;
source\domino\dtransport.c:151:    e->attached_vehicle = vehicle;
source\domino\dtransport.c:159:    e->attached_vehicle = vehicle;
source\domino\dweather.c:18:    return (v < 0) ? -v : v;
source\domino\dweather.c:51:        if (grid->body == 0) {
source\domino\dweather.c:52:            U32 idx = (U32)(grid - g_weather_grids);
source\domino\dweather.c:54:            grid->body = body;
source\domino\dweather.c:66:    if (grid->pressure) {
source\domino\dweather.c:67:        free(grid->pressure);
source\domino\dweather.c:68:        grid->pressure = 0;
source\domino\dweather.c:70:    if (grid->temp) {
source\domino\dweather.c:71:        free(grid->temp);
source\domino\dweather.c:72:        grid->temp = 0;
source\domino\dweather.c:74:    if (grid->humidity) {
source\domino\dweather.c:75:        free(grid->humidity);
source\domino\dweather.c:76:        grid->humidity = 0;
source\domino\dweather.c:78:    if (grid->wind_u) {
source\domino\dweather.c:79:        free(grid->wind_u);
source\domino\dweather.c:80:        grid->wind_u = 0;
source\domino\dweather.c:82:    if (grid->wind_v) {
source\domino\dweather.c:83:        free(grid->wind_v);
source\domino\dweather.c:84:        grid->wind_v = 0;
source\domino\dweather.c:86:    if (grid->cloud) {
source\domino\dweather.c:87:        free(grid->cloud);
source\domino\dweather.c:88:        grid->cloud = 0;
source\domino\dweather.c:90:    grid->width = 0;
source\domino\dweather.c:91:    grid->height = 0;
source\domino\dweather.c:113:    if (!grid || grid->width == 0) return 0;
source\domino\dweather.c:114:    return (gy % grid->height) * grid->width + (gx % grid->width);
source\domino\dweather.c:123:    if (c && c->width > 0 && c->height > 0) {
source\domino\dweather.c:124:        U32 cx = (wx * c->width) / (w->width ? w->width : 1);
source\domino\dweather.c:125:        U32 cy = (wy * c->height) / (w->height ? w->height : 1);
source\domino\dweather.c:126:        U32 cidx = (cy % c->height) * c->width + (cx % c->width);
source\domino\dweather.c:127:        temp = c->mean_temp_K ? c->mean_temp_K[cidx] : 0;
source\domino\dweather.c:128:        precip = c->mean_precip ? c->mean_precip[cidx] : 0;
source\domino\dweather.c:129:        humidity = c->mean_humidity ? c->mean_humidity[cidx] : 0;
source\domino\dweather.c:136:    w->temp[idx] = temp;
source\domino\dweather.c:137:    w->pressure[idx] = (PressurePa)(101 << 16);
source\domino\dweather.c:138:    w->humidity[idx] = humidity;
source\domino\dweather.c:139:    w->wind_u[idx] = 0;
source\domino\dweather.c:140:    w->wind_v[idx] = 0;
source\domino\dweather.c:141:    w->cloud[idx] = dweather_clamp_q16(dweather_mul_q16(humidity, (Q16_16)(precip ? (precip >> 4) : 0)), 0, DWEATHER_Q16_ONE);
source\domino\dweather.c:153:    if (grid->pressure && (grid->width != width || grid->height != height)) {
source\domino\dweather.c:156:    grid->width = width;
source\domino\dweather.c:157:    grid->height = height;
source\domino\dweather.c:160:    if (!grid->pressure) grid->pressure = (PressurePa*)malloc(sizeof(PressurePa) * cells);
source\domino\dweather.c:161:    if (!grid->temp) grid->temp = (TempK*)malloc(sizeof(TempK) * cells);
source\domino\dweather.c:162:    if (!grid->humidity) grid->humidity = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dweather.c:163:    if (!grid->wind_u) grid->wind_u = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dweather.c:164:    if (!grid->wind_v) grid->wind_v = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dweather.c:165:    if (!grid->cloud) grid->cloud = (Q16_16*)malloc(sizeof(Q16_16) * cells);
source\domino\dweather.c:166:    if (!grid->pressure || !grid->temp || !grid->humidity || !grid->wind_u || !grid->wind_v || !grid->cloud) {
source\domino\dweather.c:186:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dweather.c:188:    for (gy = 0; gy < grid->height; ++gy) {
source\domino\dweather.c:189:        for (gx = 0; gx < grid->width; ++gx) {
source\domino\dweather.c:199:    PressurePa p = grid->pressure[idx];
source\domino\dweather.c:200:    PressurePa px = grid->pressure[dweather_cell_index(grid, gx + 1, gy)];
source\domino\dweather.c:201:    PressurePa py = grid->pressure[dweather_cell_index(grid, gx, gy + 1)];
source\domino\dweather.c:202:    PressurePa pmx = grid->pressure[dweather_cell_index(grid, gx + grid->width - 1, gy)];
source\domino\dweather.c:203:    PressurePa pmy = grid->pressure[dweather_cell_index(grid, gx, gy + grid->height - 1)];
source\domino\dweather.c:204:    grid->wind_u[idx] = (Q16_16)((pmx - px) >> 1);
source\domino\dweather.c:205:    grid->wind_v[idx] = (Q16_16)((pmy - py) >> 1);
source\domino\dweather.c:216:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dweather.c:221:    for (gy = 0; gy < grid->height; ++gy) {
source\domino\dweather.c:222:        for (gx = 0; gx < grid->width; ++gx) {
source\domino\dweather.c:225:            Q16_16 wind_mag = dweather_abs_q16(grid->wind_u ? grid->wind_u[cidx] : 0) + dweather_abs_q16(grid->wind_v ? grid->wind_v[cidx] : 0);
source\domino\dweather.c:226:            grid->pressure[cidx] = (PressurePa)dweather_clamp_q16((Q16_16)((grid->pressure[cidx]) + (wiggle >> 2) - (Q16_16)(1 << 11)), (Q16_16)(90 << 16), (Q16_16)(110 << 16));
source\domino\dweather.c:227:            grid->temp[cidx] = (TempK)dweather_clamp_q16((Q16_16)(grid->temp[cidx] + (wiggle >> 3)), (Q16_16)(180 << 16), (Q16_16)(360 << 16));
source\domino\dweather.c:228:            grid->humidity[cidx] = dweather_clamp_q16((Q16_16)(grid->humidity[cidx] + (wiggle >> 4)), 0, DWEATHER_Q16_ONE);
source\domino\dweather.c:229:            grid->cloud[cidx] = dweather_clamp_q16((Q16_16)(grid->cloud[cidx] + (grid->humidity[cidx] >> 3) - (wind_mag >> 6) + (wiggle >> 5)), 0, DWEATHER_Q16_ONE);
source\domino\dweather.c:233:    for (gy = 0; gy < grid->height; ++gy) {
source\domino\dweather.c:234:        for (gx = 0; gx < grid->width; ++gx) {
source\domino\dweather.c:253:    if (!grid || grid->width == 0 || grid->height == 0) return false;
source\domino\dweather.c:255:    wx = dworld_wrap_tile_coord(tile->x);
source\domino\dweather.c:256:    wy = dworld_wrap_tile_coord(tile->y);
source\domino\dweather.c:257:    gx = ((U32)wx * grid->width) >> DOM_WORLD_TILES_LOG2;
source\domino\dweather.c:258:    gy = ((U32)wy * grid->height) >> DOM_WORLD_TILES_LOG2;
source\domino\dweather.c:261:    if (out_pressure) *out_pressure = grid->pressure ? grid->pressure[idx] : 0;
source\domino\dweather.c:262:    if (out_temp) *out_temp = grid->temp ? grid->temp[idx] : 0;
source\domino\dweather.c:263:    if (out_humidity) *out_humidity = grid->humidity ? grid->humidity[idx] : 0;
source\domino\dweather.c:264:    if (out_wind_u) *out_wind_u = grid->wind_u ? grid->wind_u[idx] : 0;
source\domino\dweather.c:265:    if (out_wind_v) *out_wind_v = grid->wind_v ? grid->wind_v[idx] : 0;
source\domino\dweather.c:266:    if (out_cloud) *out_cloud = grid->cloud ? grid->cloud[idx] : 0;
source\domino\core\d_tlv_schema.h:29:/* Register a TLV schema. Returns 0 on success, non-zero on error. */
source\domino\core\d_tlv_schema.h:32:/* Validate TLV blob against schema+version. Returns 0 on success, non-zero on error. */
source\domino\dspace_graph.c:28:    return &g_routes[id - 1];
source\domino\dvehicle.c:38:    return (v < 0) ? -v : v;
source\domino\dvehicle.c:43:    return (v < 0) ? -v : v;
source\domino\dvehicle.c:58:    idx = (U32)(id - 1);
source\domino\dvehicle.c:66:    memset(&st->pose, 0, sizeof(st->pose));
source\domino\dvehicle.c:67:    st->pose.env = env;
source\domino\dvehicle.c:68:    st->body = 1; /* default body id, override via transition inputs later */
source\domino\dvehicle.c:87:    st->comp.id = (VehicleId)(idx + 1);
source\domino\dvehicle.c:88:    st->comp.agg = agg;
source\domino\dvehicle.c:89:    st->comp.env = env;
source\domino\dvehicle.c:91:    return st->comp.id;
source\domino\dvehicle.c:98:    return &st->comp;
source\domino\dvehicle.c:105:    return &st->pose;
source\domino\dvehicle.c:112:    st->pose = *pose;
source\domino\dvehicle.c:113:    st->comp.env = pose->env;
source\domino\dvehicle.c:121:    st->comp.throttle = throttle;
source\domino\dvehicle.c:122:    st->comp.yaw_cmd = yaw_cmd;
source\domino\dvehicle.c:123:    st->comp.pitch_cmd = pitch_cmd;
source\domino\dvehicle.c:124:    st->comp.roll_cmd = roll_cmd;
source\domino\dvehicle.c:132:    st->comp.flags = flags;
source\domino\dvehicle.c:148:    ori->yaw = dnum_turn_add(ori->yaw, dvehicle_cmd_turn_delta(comp->yaw_cmd, yaw_rate, ticks));
source\domino\dvehicle.c:149:    ori->pitch = dnum_turn_add(ori->pitch, dvehicle_cmd_turn_delta(comp->pitch_cmd, pitch_rate, ticks));
source\domino\dvehicle.c:150:    ori->roll = dnum_turn_add(ori->roll, dvehicle_cmd_turn_delta(comp->roll_cmd, roll_rate, ticks));
source\domino\dvehicle.c:164:        if (out_x) *out_x = (Q16_16)(-DVEHICLE_Q16_ONE);
source\domino\dvehicle.c:166:        if (out_y) *out_y = (Q16_16)(-DVEHICLE_Q16_ONE);
source\domino\dvehicle.c:182:    pos->dx += dx;
source\domino\dvehicle.c:183:    pos->dy += dy;
source\domino\dvehicle.c:184:    pos->dz += dz;
source\domino\dvehicle.c:186:    while (pos->dx >= DVEHICLE_Q16_ONE) {
source\domino\dvehicle.c:187:        pos->dx -= DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:188:        pos->tile.x = dworld_wrap_tile_coord(pos->tile.x + 1);
source\domino\dvehicle.c:190:    while (pos->dx < 0) {
source\domino\dvehicle.c:191:        pos->dx += DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:192:        pos->tile.x = dworld_wrap_tile_coord(pos->tile.x - 1);
source\domino\dvehicle.c:194:    while (pos->dy >= DVEHICLE_Q16_ONE) {
source\domino\dvehicle.c:195:        pos->dy -= DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:196:        pos->tile.y = dworld_wrap_tile_coord(pos->tile.y + 1);
source\domino\dvehicle.c:198:    while (pos->dy < 0) {
source\domino\dvehicle.c:199:        pos->dy += DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:200:        pos->tile.y = dworld_wrap_tile_coord(pos->tile.y - 1);
source\domino\dvehicle.c:203:    while (pos->dz >= DVEHICLE_Q16_ONE) {
source\domino\dvehicle.c:204:        pos->dz -= DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:205:        pos->tile.z++;
source\domino\dvehicle.c:207:    while (pos->dz < 0) {
source\domino\dvehicle.c:208:        pos->dz += DVEHICLE_Q16_ONE;
source\domino\dvehicle.c:209:        pos->tile.z--;
source\domino\dvehicle.c:211:    if (pos->tile.z < (TileHeight)DOM_Z_MIN) pos->tile.z = (TileHeight)DOM_Z_MIN;
source\domino\dvehicle.c:212:    if (pos->tile.z > (TileHeight)DOM_Z_MAX) pos->tile.z = (TileHeight)DOM_Z_MAX;
source\domino\dvehicle.c:218:    *v = dvehicle_mul_q16(*v, (Q16_16)(DVEHICLE_Q16_ONE - DVEHICLE_FRICTION_Q16));
source\domino\dvehicle.c:241:    mag = dvehicle_abs_q48(st->vel_space_x) + dvehicle_abs_q48(st->vel_space_y) + dvehicle_abs_q48(st->vel_space_z);
source\domino\dvehicle.c:243:        st->vel_space_x = (Q48_16)(((I64)st->vel_space_x * (I64)DVEHICLE_MAX_SPACE_SPEED) / mag);
source\domino\dvehicle.c:244:        st->vel_space_y = (Q48_16)(((I64)st->vel_space_y * (I64)DVEHICLE_MAX_SPACE_SPEED) / mag);
source\domino\dvehicle.c:245:        st->vel_space_z = (Q48_16)(((I64)st->vel_space_z * (I64)DVEHICLE_MAX_SPACE_SPEED) / mag);
source\domino\dvehicle.c:252:    return (Q16_16)(dvehicle_abs_q16(st->vel_x) + dvehicle_abs_q16(st->vel_y));
source\domino\dvehicle.c:262:    dvehicle_integrate_orientation(&st->comp, &st->pose.surface_or_air.ori, ticks);
source\domino\dvehicle.c:263:    dvehicle_heading_unit(st->pose.surface_or_air.ori.yaw, &hx, &hy);
source\domino\dvehicle.c:264:    acc = dvehicle_mul_q16(st->comp.throttle, DVEHICLE_BASE_ACC);
source\domino\dvehicle.c:266:    st->vel_x += dvehicle_mul_q16(acc, hx);
source\domino\dvehicle.c:267:    st->vel_y += dvehicle_mul_q16(acc, hy);
source\domino\dvehicle.c:268:    dvehicle_apply_drag(&st->vel_x);
source\domino\dvehicle.c:269:    dvehicle_apply_drag(&st->vel_y);
source\domino\dvehicle.c:270:    dvehicle_cap_speed(&st->vel_x, &st->vel_y, 0);
source\domino\dvehicle.c:271:    dvehicle_integrate_pos(&st->pose.surface_or_air.pos, st->vel_x, st->vel_y, 0, ticks);
source\domino\dvehicle.c:272:    st->pose.env = ENV_SURFACE_GRID;
source\domino\dvehicle.c:273:    st->comp.env = ENV_SURFACE_GRID;
source\domino\dvehicle.c:284:    dvehicle_integrate_orientation(&st->comp, &st->pose.water.ori, ticks);
source\domino\dvehicle.c:285:    dvehicle_heading_unit(st->pose.water.ori.yaw, &hx, &hy);
source\domino\dvehicle.c:286:    acc = dvehicle_mul_q16(st->comp.throttle, DVEHICLE_BASE_ACC >> 1);
source\domino\dvehicle.c:288:    st->vel_x += dvehicle_mul_q16(acc, hx);
source\domino\dvehicle.c:289:    st->vel_y += dvehicle_mul_q16(acc, hy);
source\domino\dvehicle.c:290:    dvehicle_apply_drag(&st->vel_x);
source\domino\dvehicle.c:291:    dvehicle_apply_drag(&st->vel_y);
source\domino\dvehicle.c:292:    dvehicle_cap_speed(&st->vel_x, &st->vel_y, 0);
source\domino\dvehicle.c:293:    dvehicle_integrate_pos(&st->pose.water.pos, st->vel_x, st->vel_y, 0, ticks);
source\domino\dvehicle.c:294:    st->pose.env = ENV_WATER_SURFACE;
source\domino\dvehicle.c:295:    st->comp.env = ENV_WATER_SURFACE;
source\domino\dvehicle.c:304:    dvehicle_integrate_orientation(&st->comp, &st->pose.water.ori, ticks);
source\domino\dvehicle.c:305:    acc = dvehicle_mul_q16(st->comp.throttle, DVEHICLE_BASE_ACC >> 1);
source\domino\dvehicle.c:307:    st->vel_z += dvehicle_mul_q16(acc, st->comp.pitch_cmd);
source\domino\dvehicle.c:308:    dvehicle_apply_drag(&st->vel_x);
source\domino\dvehicle.c:309:    dvehicle_apply_drag(&st->vel_y);
source\domino\dvehicle.c:310:    dvehicle_apply_drag(&st->vel_z);
source\domino\dvehicle.c:311:    dvehicle_cap_speed(&st->vel_x, &st->vel_y, &st->vel_z);
source\domino\dvehicle.c:312:    dvehicle_integrate_pos(&st->pose.water.pos, st->vel_x, st->vel_y, st->vel_z, ticks);
source\domino\dvehicle.c:313:    st->pose.env = ENV_WATER_SUBMERGED;
source\domino\dvehicle.c:314:    st->comp.env = ENV_WATER_SUBMERGED;
source\domino\dvehicle.c:325:    dvehicle_integrate_orientation(&st->comp, &st->pose.surface_or_air.ori, ticks);
source\domino\dvehicle.c:326:    dvehicle_heading_unit(st->pose.surface_or_air.ori.yaw, &hx, &hy);
source\domino\dvehicle.c:327:    acc = dvehicle_mul_q16(st->comp.throttle, DVEHICLE_BASE_ACC);
source\domino\dvehicle.c:329:    st->vel_x += dvehicle_mul_q16(acc, hx);
source\domino\dvehicle.c:330:    st->vel_y += dvehicle_mul_q16(acc, hy);
source\domino\dvehicle.c:331:    st->vel_z += dvehicle_mul_q16(acc, st->comp.pitch_cmd);
source\domino\dvehicle.c:332:    dvehicle_apply_drag(&st->vel_x);
source\domino\dvehicle.c:333:    dvehicle_apply_drag(&st->vel_y);
source\domino\dvehicle.c:334:    dvehicle_apply_drag(&st->vel_z);
source\domino\dvehicle.c:335:    dvehicle_cap_speed(&st->vel_x, &st->vel_y, &st->vel_z);
source\domino\dvehicle.c:336:    dvehicle_integrate_pos(&st->pose.surface_or_air.pos, st->vel_x, st->vel_y, st->vel_z, ticks);
source\domino\dvehicle.c:337:    st->pose.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:338:    st->comp.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:347:    dvehicle_integrate_orientation(&st->comp, &st->pose.high_atmo.ori, ticks);
source\domino\dvehicle.c:348:    climb = dvehicle_mul_q16(st->comp.throttle, (Q16_16)(1 << 12));
source\domino\dvehicle.c:350:    st->pose.high_atmo.alt_m += climb;
source\domino\dvehicle.c:351:    st->pose.high_atmo.lon = dnum_turn_add(st->pose.high_atmo.lon, dvehicle_cmd_turn_delta(st->comp.yaw_cmd, (Turn)(1 << 10), ticks));
source\domino\dvehicle.c:352:    st->pose.high_atmo.lat = dnum_turn_add(st->pose.high_atmo.lat, dvehicle_cmd_turn_delta(st->comp.pitch_cmd, (Turn)(1 << 10), ticks));
source\domino\dvehicle.c:353:    st->pose.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:354:    st->comp.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:362:    dvehicle_integrate_orientation(&st->comp, &st->pose.orbit.ori, ticks);
source\domino\dvehicle.c:363:    st->pose.orbit.orbit.M0 = dnum_turn_add(st->pose.orbit.orbit.M0, dvehicle_cmd_turn_delta(st->comp.throttle, (Turn)(1 << 12), ticks));
source\domino\dvehicle.c:364:    st->pose.env = ENV_ORBIT;
source\domino\dvehicle.c:365:    st->comp.env = ENV_ORBIT;
source\domino\dvehicle.c:374:    dvehicle_integrate_orientation(&st->comp, &st->pose.vacuum_local.ori, ticks);
source\domino\dvehicle.c:375:    acc = (Q48_16)(((I64)st->comp.throttle * (I64)DVEHICLE_SPACE_ACC) >> 16);
source\domino\dvehicle.c:377:    st->vel_space_x += acc;
source\domino\dvehicle.c:379:    st->pose.vacuum_local.pos.x += (Q48_16)((I64)st->vel_space_x * (I64)ticks);
source\domino\dvehicle.c:380:    st->pose.vacuum_local.pos.y += (Q48_16)((I64)st->vel_space_y * (I64)ticks);
source\domino\dvehicle.c:381:    st->pose.vacuum_local.pos.z += (Q48_16)((I64)st->vel_space_z * (I64)ticks);
source\domino\dvehicle.c:382:    st->pose.env = ENV_VACUUM_LOCAL;
source\domino\dvehicle.c:383:    st->comp.env = ENV_VACUUM_LOCAL;
source\domino\dvehicle.c:391:    switch (st->comp.env) {
source\domino\dvehicle.c:415:    if (st->comp.env != ENV_SURFACE_GRID) return false;
source\domino\dvehicle.c:416:    if (st->comp.throttle > throttle_thr && dvehicle_speed_xy(st) > (Q16_16)(1 << 14)) {
source\domino\dvehicle.c:417:        st->comp.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:418:        st->pose.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:419:        st->pose.surface_or_air.pos.tile.z += 1;
source\domino\dvehicle.c:430:    if (st->comp.env != ENV_AIR_LOCAL) return false;
source\domino\dvehicle.c:431:    alt_m = dnum_from_int32((I32)st->pose.surface_or_air.pos.tile.z);
source\domino\dvehicle.c:433:        st->comp.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:434:        st->pose.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:435:        st->pose.high_atmo.body = st->body;
source\domino\dvehicle.c:436:        st->pose.high_atmo.alt_m = alt_m;
source\domino\dvehicle.c:437:        st->pose.high_atmo.lat = dvehicle_tile_to_turn(st->pose.surface_or_air.pos.tile.y);
source\domino\dvehicle.c:438:        st->pose.high_atmo.lon = dvehicle_tile_to_turn(st->pose.surface_or_air.pos.tile.x);
source\domino\dvehicle.c:439:        st->pose.high_atmo.ori = st->pose.surface_or_air.ori;
source\domino\dvehicle.c:440:        st->vel_x = st->vel_y = st->vel_z = 0;
source\domino\dvehicle.c:450:    if (st->comp.env != ENV_HIGH_ATMO) return false;
source\domino\dvehicle.c:451:    if (st->pose.high_atmo.alt_m > (Q16_16)(2000 << 16)) {
source\domino\dvehicle.c:452:        memset(&st->pose.orbit.orbit, 0, sizeof(st->pose.orbit.orbit));
source\domino\dvehicle.c:453:        st->pose.orbit.orbit.central = st->body;
source\domino\dvehicle.c:454:        st->pose.orbit.orbit.a = (Q48_16)((I64)st->pose.high_atmo.alt_m << 16);
source\domino\dvehicle.c:455:        st->pose.orbit.orbit.e = 0;
source\domino\dvehicle.c:456:        st->pose.orbit.orbit.i = 0;
source\domino\dvehicle.c:457:        st->pose.orbit.orbit.M0 = 0;
source\domino\dvehicle.c:458:        st->pose.orbit.ori = st->pose.high_atmo.ori;
source\domino\dvehicle.c:459:        st->comp.env = ENV_ORBIT;
source\domino\dvehicle.c:460:        st->pose.env = ENV_ORBIT;
source\domino\dvehicle.c:470:    if (st->comp.env != ENV_ORBIT) return false;
source\domino\dvehicle.c:471:    if (st->pose.orbit.orbit.a < (Q48_16)((I64)(2500 << 16))) {
source\domino\dvehicle.c:472:        st->pose.high_atmo.body = st->pose.orbit.orbit.central;
source\domino\dvehicle.c:473:        st->pose.high_atmo.alt_m = (Q16_16)(st->pose.orbit.orbit.a >> 16);
source\domino\dvehicle.c:474:        st->pose.high_atmo.lat = 0;
source\domino\dvehicle.c:475:        st->pose.high_atmo.lon = 0;
source\domino\dvehicle.c:476:        st->pose.high_atmo.ori = st->pose.orbit.ori;
source\domino\dvehicle.c:477:        st->comp.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:478:        st->pose.env = ENV_HIGH_ATMO;
source\domino\dvehicle.c:488:    if (st->comp.env != ENV_HIGH_ATMO) return false;
source\domino\dvehicle.c:489:    if (st->pose.high_atmo.alt_m < (Q16_16)(256 << 16)) {
source\domino\dvehicle.c:490:        st->pose.surface_or_air.pos.tile.x = dworld_wrap_tile_coord((TileCoord)(((I64)st->pose.high_atmo.lon * (I64)DOM_WORLD_TILES) >> 16));
source\domino\dvehicle.c:491:        st->pose.surface_or_air.pos.tile.y = dworld_wrap_tile_coord((TileCoord)(((I64)st->pose.high_atmo.lat * (I64)DOM_WORLD_TILES) >> 16));
source\domino\dvehicle.c:492:        st->pose.surface_or_air.pos.tile.z = DOM_Z_BUILD_MAX;
source\domino\dvehicle.c:493:        st->pose.surface_or_air.pos.dx = 0;
source\domino\dvehicle.c:494:        st->pose.surface_or_air.pos.dy = 0;
source\domino\dvehicle.c:495:        st->pose.surface_or_air.pos.dz = 0;
source\domino\dvehicle.c:496:        st->pose.surface_or_air.ori = st->pose.high_atmo.ori;
source\domino\dvehicle.c:497:        st->vel_x = st->vel_y = st->vel_z = 0;
source\domino\dvehicle.c:498:        st->comp.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:499:        st->pose.env = ENV_AIR_LOCAL;
source\domino\dvehicle.c:509:    if (st->comp.env != ENV_AIR_LOCAL) return false;
source\domino\dvehicle.c:510:    if (st->pose.surface_or_air.pos.tile.z <= DOM_Z_BUILD_MAX) {
source\domino\dvehicle.c:511:        st->pose.surface_or_air.pos.tile.z = DOM_Z_BUILD_MAX;
source\domino\dvehicle.c:512:        st->vel_z = 0;
source\domino\dvehicle.c:513:        st->comp.env = ENV_SURFACE_GRID;
source\domino\dvehicle.c:514:        st->pose.env = ENV_SURFACE_GRID;
source\domino\core\event.c:11:    for (i = 0; i < core->event_sub_count; ++i) {
source\domino\core\event.c:12:        if (core->event_subs[i].kind == ev->kind && core->event_subs[i].fn) {
source\domino\core\event.c:13:            core->event_subs[i].fn(core, ev, core->event_subs[i].user);
source\domino\core\event.c:24:    if (core->event_sub_count >= DOM_MAX_EVENT_HANDLERS) {
source\domino\core\event.c:28:    core->event_subs[core->event_sub_count].kind = kind;
source\domino\core\event.c:29:    core->event_subs[core->event_sub_count].fn = fn;
source\domino\core\event.c:30:    core->event_subs[core->event_sub_count].user = user;
source\domino\core\event.c:31:    core->event_sub_count += 1;
source\domino\core\event.c:43:    for (i = 0; i < core->event_sub_count; ++i) {
source\domino\core\event.c:44:        if (core->event_subs[i].fn == fn &&
source\domino\core\event.c:45:            core->event_subs[i].kind == kind &&
source\domino\core\event.c:46:            core->event_subs[i].user == user) {
source\domino\core\event.c:47:            for (; i + 1 < core->event_sub_count; ++i) {
source\domino\core\event.c:48:                core->event_subs[i] = core->event_subs[i + 1];
source\domino\core\event.c:50:            core->event_sub_count -= 1;
source\domino\core\fixed.c:52:        return (u64)(-v);
source\domino\core\fixed.c:93:    out_value->hi = value->hi >> shift;
source\domino\core\fixed.c:94:    out_value->lo = (value->hi << (64 - shift)) | (value->lo >> shift);
source\domino\core\fixed.c:116:    return (q48_16)(-((i64)lo));
source\domino\core\fixed.c:172:    i32 diff = (i32)a - (i32)b;
source\domino\core\fixed.c:197:    i64 diff = (i64)a - (i64)b;
source\domino\core\fixed.c:222:    i64 diff = (i64)a - (i64)b;
source\domino\core\fixed.c:242:    if (b > 0 && a > (Q64_MAX - b)) {
source\domino\core\fixed.c:245:    if (b < 0 && a < (Q64_MIN - b)) {
source\domino\core\fixed.c:258:    return a - b;
source\domino\core\fixed.c:287:/* Cross-format helpers */
source\domino\core\fixed.c:289:    return (q16_16)((i32)v << (Q16_16_FRAC_BITS - Q4_12_FRAC_BITS));
source\domino\core\fixed.c:293:    i32 tmp = (i32)(v >> (Q16_16_FRAC_BITS - Q4_12_FRAC_BITS));
source\domino\core\fixed.c:298:    i32 tmp = (i32)(v >> (Q16_16_FRAC_BITS - Q24_8_FRAC_BITS));
source\domino\core\fixed.c:303:    i64 tmp = ((i64)v) << (Q16_16_FRAC_BITS - Q24_8_FRAC_BITS);
source\domino\dspace_env.c:14:    return (v < 0) ? -v : v;
source\domino\dspace_env.c:24:            v -= res + bit;
source\domino\dspace_env.c:63:        U64 x = (U64)(dspace_abs_q48(pos->x) >> 16);
source\domino\dspace_env.c:64:        U64 y = (U64)(dspace_abs_q48(pos->y) >> 16);
source\domino\dspace_env.c:65:        U64 z = (U64)(dspace_abs_q48(pos->z) >> 16);
source\domino\core\fs_util.c:28:        len = cap - 1u;
source\domino\core\fs_util.c:44:    if (len > 0u && dst[len - 1u] != '/' && dst[len - 1u] != '\\') {
source\domino\core\fs_util.c:114:        len = cap - 1u;
source\domino\core\fs_util.c:210:        read_count = dsys_file_read(fh, buf + total, cap - total - 1u);
source\domino\dzone.c:33:    z = &g_zones[id - 1];
source\domino\dzone.c:35:    z->id = id;
source\domino\dzone.c:42:    return &g_zones[id - 1];
source\domino\dzone.c:52:    l = &g_links[id - 1];
source\domino\dzone.c:54:    l->id = id;
source\domino\dzone.c:61:    return &g_links[id - 1];
source\domino\dzone.c:80:    if (b) return b->base_temp_K;
source\domino\dzone.c:110:    mass_from = from->atm.total_mass_kg;
source\domino\dzone.c:113:    to_mass_before = to->atm.total_mass_kg;
source\domino\dzone.c:114:    dmix_transfer_fraction(&from->atm, &to->atm, fraction);
source\domino\dzone.c:115:    new_temp_to = dzone_mix_temp(to->temp_K, to_mass_before, from->temp_K, mass_move);
source\domino\dzone.c:116:    to->temp_K = new_temp_to;
source\domino\dzone.c:128:        Zone *za = dzone_get(l->a);
source\domino\dzone.c:129:        Zone *zb = dzone_get(l->b);
source\domino\dzone.c:134:        dp = (Q16_16)(za->pressure_Pa - zb->pressure_Pa);
source\domino\dzone.c:136:        mag = dzone_mul_q16(l->flow_coeff, l->area_m2);
source\domino\dzone.c:149:        Q16_16 leak_frac = dzone_mul_q16(z->leak_factor_0_1, dt);
source\domino\dzone.c:150:        Q16_16 thermal_frac = dzone_mul_q16(z->thermal_leak_0_1, dt);
source\domino\dzone.c:151:        TempK env_temp = dzone_body_base_temp(z->body);
source\domino\dzone.c:154:            z->atm.total_mass_kg = (Q48_16)(((I64)z->atm.total_mass_kg * (I64)((1 << 16) - leak_clamped)) >> 16);
source\domino\dzone.c:155:            dmix_normalise(&z->atm);
source\domino\dzone.c:158:            TempK delta = (TempK)(((I64)(env_temp - z->temp_K) * (I64)thermal_frac) >> 16);
source\domino\dzone.c:159:            z->temp_K = (TempK)(z->temp_K + delta);
source\domino\dzone.c:161:        z->pressure_Pa = dzone_mass_to_pressure(z->atm.total_mass_kg, z->volume_m3);
source\domino\dzone.c:162:        if (z->pressure_Pa < 0) z->pressure_Pa = 0;
source\domino\dzone.c:171:    if (!dmix_add_mass(&z->atm, s, mass_delta_kg)) {
source\domino\dzone.c:174:    mass = z->atm.total_mass_kg;
source\domino\dzone.c:177:        z->temp_K = (TempK)(z->temp_K + delta_T);
source\domino\dzone.c:179:    dmix_normalise(&z->atm);
source\domino\dzone.c:188:    mass = z->atm.total_mass_kg;
source\domino\dzone.c:190:    z->temp_K = (TempK)(z->temp_K + (TempK)(energy_delta_J / mass));
source\domino\core\inst.c:32:    for (i = 0; i < core->instance_count; ++i) {
source\domino\core\inst.c:33:        if (core->instances[i].info.id == id) {
source\domino\core\inst.c:34:            return &core->instances[i];
source\domino\core\inst.c:49:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\inst.c:50:        if (strcmp(core->packages[i].info.name, name) == 0) {
source\domino\core\inst.c:51:            return core->packages[i].info.id;
source\domino\core\inst.c:66:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\inst.c:67:        if (core->packages[i].info.id == id) {
source\domino\core\inst.c:68:            return core->packages[i].info.name;
source\domino\core\inst.c:89:        memmove(s, s + start, len - start + 1u);
source\domino\core\inst.c:90:        len -= start;
source\domino\core\inst.c:92:    while (len > 0u && (s[len - 1u] == ' ' || s[len - 1u] == '\t' || s[len - 1u] == '\r' || s[len - 1u] == '\n')) {
source\domino\core\inst.c:93:        s[len - 1u] = '\0';
source\domino\core\inst.c:94:        len -= 1u;
source\domino\core\inst.c:202:        len = (size_t)(last - path);
source\domino\core\inst.c:204:            len = cap - 1u;
source\domino\core\inst.c:233:    if (!dom_fs_mkdirs(rec->info.path)) {
source\domino\core\inst.c:238:    for (i = 0u; i < rec->info.pkg_count; ++i) {
source\domino\core\inst.c:239:        pkg_name = dom_inst_package_name(core, rec->info.pkgs[i]);
source\domino\core\inst.c:247:    fh = dsys_file_open(rec->info.descriptor_path, "wb");
source\domino\core\inst.c:252:    sprintf(line, "id=%u\n", (unsigned int)rec->info.id);
source\domino\core\inst.c:257:    sprintf(line, "name=%s\n", rec->info.name);
source\domino\core\inst.c:262:    sprintf(line, "path=%s\n", rec->info.path);
source\domino\core\inst.c:267:    sprintf(line, "flags=%u\n", (unsigned int)rec->info.flags);
source\domino\core\inst.c:277:    sprintf(line, "saves_path=%s\n", rec->info.saves_path);
source\domino\core\inst.c:282:    sprintf(line, "config_path=%s\n", rec->info.config_path);
source\domino\core\inst.c:287:    sprintf(line, "logs_path=%s\n", rec->info.logs_path);
source\domino\core\inst.c:318:    out_rec->info.struct_size = sizeof(dom_instance_info);
source\domino\core\inst.c:319:    out_rec->info.struct_version = 1;
source\domino\core\inst.c:320:    dom_copy_string(out_rec->info.descriptor_path, sizeof(out_rec->info.descriptor_path), path);
source\domino\core\inst.c:353:            out_rec->info.id = (dom_instance_id)strtoul(val, NULL, 10);
source\domino\core\inst.c:355:            dom_copy_string(out_rec->info.name, sizeof(out_rec->info.name), val);
source\domino\core\inst.c:357:            dom_copy_string(out_rec->info.path, sizeof(out_rec->info.path), val);
source\domino\core\inst.c:359:            out_rec->info.flags = (uint32_t)strtoul(val, NULL, 10);
source\domino\core\inst.c:378:            dom_copy_string(out_rec->info.saves_path, sizeof(out_rec->info.saves_path), val);
source\domino\core\inst.c:380:            dom_copy_string(out_rec->info.config_path, sizeof(out_rec->info.config_path), val);
source\domino\core\inst.c:382:            dom_copy_string(out_rec->info.logs_path, sizeof(out_rec->info.logs_path), val);
source\domino\core\inst.c:388:    if (out_rec->info.path[0] == '\0') {
source\domino\core\inst.c:389:        dom_inst_dirname(path, out_rec->info.path, sizeof(out_rec->info.path));
source\domino\core\inst.c:391:    if (out_rec->info.name[0] == '\0') {
source\domino\core\inst.c:392:        dom_path_last_segment(out_rec->info.path, out_rec->info.name, sizeof(out_rec->info.name));
source\domino\core\inst.c:394:    if (out_rec->info.saves_path[0] == '\0') {
source\domino\core\inst.c:395:        dom_path_join(out_rec->info.saves_path, sizeof(out_rec->info.saves_path), out_rec->info.path, "saves");
source\domino\core\inst.c:397:    if (out_rec->info.config_path[0] == '\0') {
source\domino\core\inst.c:398:        dom_path_join(out_rec->info.config_path, sizeof(out_rec->info.config_path), out_rec->info.path, "config");
source\domino\core\inst.c:400:    if (out_rec->info.logs_path[0] == '\0') {
source\domino\core\inst.c:401:        dom_path_join(out_rec->info.logs_path, sizeof(out_rec->info.logs_path), out_rec->info.path, "logs");
source\domino\core\inst.c:404:    out_rec->info.pkg_count = 0u;
source\domino\core\inst.c:407:        for (i = 0u; i < pkg_name_count && out_rec->info.pkg_count < DOM_MAX_INSTANCE_PACKAGES; ++i) {
source\domino\core\inst.c:411:                out_rec->info.pkgs[out_rec->info.pkg_count] = pid;
source\domino\core\inst.c:412:                out_rec->info.pkg_count += 1u;
source\domino\core\inst.c:430:    core->instance_count = 0;
source\domino\core\inst.c:431:    core->next_instance_id = 1;
source\domino\core\inst.c:447:        for (i = 0u; i < inst_count && core->instance_count < DOM_MAX_INSTANCES; ++i) {
source\domino\core\inst.c:463:                rec.info.id = core->next_instance_id++;
source\domino\core\inst.c:464:            } else if (rec.info.id >= core->next_instance_id) {
source\domino\core\inst.c:465:                core->next_instance_id = rec.info.id + 1u;
source\domino\core\inst.c:468:            core->instances[core->instance_count] = rec;
source\domino\core\inst.c:469:            core->instance_count += 1u;
source\domino\core\inst.c:483:    count = core->instance_count;
source\domino\core\inst.c:489:        out[i] = core->instances[i].info;
source\domino\core\inst.c:508:    *out = rec->info;
source\domino\core\inst.c:528:    if (desc->struct_size != sizeof(dom_instance_info) ||
source\domino\core\inst.c:529:        desc->struct_version != 1) {
source\domino\core\inst.c:533:    if (core->instance_count >= DOM_MAX_INSTANCES) {
source\domino\core\inst.c:541:    if (desc->path[0] != '\0') {
source\domino\core\inst.c:542:        dom_copy_string(inst_root, sizeof(inst_root), desc->path);
source\domino\core\inst.c:545:        if (desc->name[0] != '\0') {
source\domino\core\inst.c:546:            dom_copy_string(inst_name, sizeof(inst_name), desc->name);
source\domino\core\inst.c:573:    rec.info.id = core->next_instance_id++;
source\domino\core\inst.c:574:    dom_copy_string(rec.info.name, sizeof(rec.info.name), desc->name[0] ? desc->name : "instance");
source\domino\core\inst.c:580:    rec.info.flags = desc->flags;
source\domino\core\inst.c:582:    for (i = 0u; i < desc->pkg_count && rec.info.pkg_count < DOM_MAX_INSTANCE_PACKAGES; ++i) {
source\domino\core\inst.c:583:        if (dom_inst_package_name(core, desc->pkgs[i])) {
source\domino\core\inst.c:584:            rec.info.pkgs[rec.info.pkg_count] = desc->pkgs[i];
source\domino\core\inst.c:593:    slot = &core->instances[core->instance_count];
source\domino\core\inst.c:595:    core->instance_count += 1u;
source\domino\core\inst.c:609:    if (desc->struct_size != sizeof(dom_instance_info) ||
source\domino\core\inst.c:610:        desc->struct_version != 1) {
source\domino\core\inst.c:614:    rec = dom_find_instance(core, desc->id);
source\domino\core\inst.c:620:    rec->info.flags = desc->flags;
source\domino\core\inst.c:621:    if (desc->name[0] != '\0') {
source\domino\core\inst.c:622:        dom_copy_string(rec->info.name, sizeof(rec->info.name), desc->name);
source\domino\core\inst.c:624:    if (desc->path[0] != '\0') {
source\domino\core\inst.c:625:        dom_copy_string(rec->info.path, sizeof(rec->info.path), desc->path);
source\domino\core\inst.c:628:    if (desc->saves_path[0] != '\0') {
source\domino\core\inst.c:629:        dom_copy_string(rec->info.saves_path, sizeof(rec->info.saves_path), desc->saves_path);
source\domino\core\inst.c:631:        dom_path_join(rec->info.saves_path, sizeof(rec->info.saves_path), rec->info.path, "saves");
source\domino\core\inst.c:633:    if (desc->config_path[0] != '\0') {
source\domino\core\inst.c:634:        dom_copy_string(rec->info.config_path, sizeof(rec->info.config_path), desc->config_path);
source\domino\core\inst.c:636:        dom_path_join(rec->info.config_path, sizeof(rec->info.config_path), rec->info.path, "config");
source\domino\core\inst.c:638:    if (desc->logs_path[0] != '\0') {
source\domino\core\inst.c:639:        dom_copy_string(rec->info.logs_path, sizeof(rec->info.logs_path), desc->logs_path);
source\domino\core\inst.c:641:        dom_path_join(rec->info.logs_path, sizeof(rec->info.logs_path), rec->info.path, "logs");
source\domino\core\inst.c:644:    rec->info.pkg_count = 0u;
source\domino\core\inst.c:645:    for (i = 0u; i < desc->pkg_count && rec->info.pkg_count < DOM_MAX_INSTANCE_PACKAGES; ++i) {
source\domino\core\inst.c:646:        if (dom_inst_package_name(core, desc->pkgs[i])) {
source\domino\core\inst.c:647:            rec->info.pkgs[rec->info.pkg_count] = desc->pkgs[i];
source\domino\core\inst.c:648:            rec->info.pkg_count += 1u;
source\domino\core\inst.c:653:        dom_path_join(rec->info.descriptor_path,
source\domino\core\inst.c:654:                      sizeof(rec->info.descriptor_path),
source\domino\core\inst.c:655:                      rec->info.path,
source\domino\core\inst.c:659:    (void)dom_fs_mkdirs(rec->info.path);
source\domino\core\inst.c:660:    (void)dom_fs_mkdirs(rec->info.saves_path);
source\domino\core\inst.c:661:    (void)dom_fs_mkdirs(rec->info.config_path);
source\domino\core\inst.c:662:    (void)dom_fs_mkdirs(rec->info.logs_path);
source\domino\core\inst.c:680:    idx = (uint32_t)(rec - core->instances);
source\domino\core\inst.c:682:    if (!dom_fs_remove_tree(rec->info.path)) {
source\domino\core\inst.c:686:    for (; idx + 1u < core->instance_count; ++idx) {
source\domino\core\inst.c:687:        core->instances[idx] = core->instances[idx + 1u];
source\domino\core\inst.c:689:    core->instance_count -= 1u;
source\domino\core\model_table.c:22:    if (core->table_count >= DOM_MAX_TABLES) {
source\domino\core\model_table.c:29:    def = &core->tables[core->table_count];
source\domino\core\model_table.c:30:    def->id = id;
source\domino\core\model_table.c:31:    def->col_count = col_count;
source\domino\core\model_table.c:33:        def->col_ids[i] = col_ids[i];
source\domino\core\model_table.c:35:    core->table_count += 1u;
source\domino\core\model_table.c:46:    for (i = 0u; i < core->table_count; ++i) {
source\domino\core\model_table.c:47:        if (strcmp(core->tables[i].id, id) == 0) {
source\domino\core\model_table.c:48:            return &core->tables[i];
source\domino\core\model_table.c:64:    for (i = 0u; i < core->package_count; ++i) {
source\domino\core\model_table.c:66:        kind = core->packages[i].info.kind;
source\domino\core\model_table.c:81:        return core->package_count;
source\domino\core\model_table.c:84:        return core->instance_count;
source\domino\core\model_table.c:102:    for (i = 0u; i < core->package_count; ++i) {
source\domino\core\model_table.c:104:        kind = core->packages[i].info.kind;
source\domino\core\model_table.c:109:            return &core->packages[i];
source\domino\core\model_table.c:142:    meta->struct_size = sizeof(dom_table_meta);
source\domino\core\model_table.c:143:    meta->struct_version = 1;
source\domino\core\model_table.c:144:    meta->id = def->id;
source\domino\core\model_table.c:145:    meta->row_count = dom_table_row_count(core, def->id);
source\domino\core\model_table.c:146:    meta->col_count = def->col_count;
source\domino\core\model_table.c:147:    meta->col_ids = def->col_ids;
source\domino\core\model_table.c:173:    if (col >= def->col_count) {
source\domino\core\model_table.c:177:    row_count = dom_table_row_count(core, def->id);
source\domino\core\model_table.c:182:    if (strcmp(def->id, "packages_table") == 0) {
source\domino\core\model_table.c:186:        rec = &core->packages[row];
source\domino\core\model_table.c:187:        info = &rec->info;
source\domino\core\model_table.c:191:            sprintf(tmp, "%u", (unsigned int)info->id);
source\domino\core\model_table.c:195:            dom_copy_string(buf, buf_size, info->name);
source\domino\core\model_table.c:198:            dom_copy_string(buf, buf_size, info->version);
source\domino\core\model_table.c:201:            dom_copy_string(buf, buf_size, dom_table_pkg_kind_string(info->kind));
source\domino\core\model_table.c:204:            dom_copy_string(buf, buf_size, info->install_path);
source\domino\core\model_table.c:209:    } else if (strcmp(def->id, "instances_table") == 0) {
source\domino\core\model_table.c:213:        rec = &core->instances[row];
source\domino\core\model_table.c:214:        info = &rec->info;
source\domino\core\model_table.c:218:            sprintf(tmp, "%u", (unsigned int)info->id);
source\domino\core\model_table.c:222:            dom_copy_string(buf, buf_size, info->name);
source\domino\core\model_table.c:225:            dom_copy_string(buf, buf_size, info->path);
source\domino\core\model_table.c:228:            sprintf(tmp, "0x%X", (unsigned int)info->flags);
source\domino\core\model_table.c:232:            sprintf(tmp, "%u", (unsigned int)info->pkg_count);
source\domino\core\model_table.c:241:    } else if (strcmp(def->id, "mods_table") == 0) {
source\domino\core\model_table.c:249:        info = &rec->info;
source\domino\core\model_table.c:253:            sprintf(tmp, "%u", (unsigned int)info->id);
source\domino\core\model_table.c:257:            dom_copy_string(buf, buf_size, info->name);
source\domino\core\model_table.c:260:            dom_copy_string(buf, buf_size, info->version);
source\domino\core\model_table.c:263:            dom_copy_string(buf, buf_size, dom_table_pkg_kind_string(info->kind));
source\domino\core\model_table.c:266:            dom_copy_string(buf, buf_size, info->install_path);
source\domino\gui\gui.c:44:    if (len >= cap) len = cap - 1u;
source\domino\gui\gui.c:53:    w->type = type;
source\domino\gui\gui.c:54:    w->layout = DGUI_LAYOUT_VERTICAL;
source\domino\gui\gui.c:55:    w->owner = owner;
source\domino\gui\gui.c:63:    ctx->style = dgui_style_default();
source\domino\gui\gui.c:64:    ctx->surface_w = 640;
source\domino\gui\gui.c:65:    ctx->surface_h = 360;
source\domino\gui\gui.c:72:    for (i = 0; i < ctx->focus_count; ++i) {
source\domino\gui\gui.c:73:        free(ctx->focus[i]);
source\domino\gui\gui.c:75:    if (ctx->root) free(ctx->root);
source\domino\gui\gui.c:81:    ctx->root = root;
source\domino\gui\gui.c:86:    ctx->style = style ? style : dgui_style_default();
source\domino\gui\gui.c:91:    if (w) w->layout = layout;
source\domino\gui\gui.c:97:    if (w) dgui_copy(w->text, sizeof(w->text), text);
source\domino\gui\gui.c:104:        dgui_copy(w->text, sizeof(w->text), text);
source\domino\gui\gui.c:105:        w->on_activate = cb;
source\domino\gui\gui.c:106:        w->user = user;
source\domino\gui\gui.c:119:    if (parent->child_count >= DGUI_MAX_CHILDREN) return 0;
source\domino\gui\gui.c:120:    parent->children[parent->child_count++] = child;
source\domino\gui\gui.c:127:    if (w->type == DGUI_WIDGET_BUTTON) {
source\domino\gui\gui.c:128:        if (ctx->focus_count < DGUI_MAX_WIDGETS) {
source\domino\gui\gui.c:129:            ctx->focus[ctx->focus_count++] = w;
source\domino\gui\gui.c:132:    for (i = 0; i < w->child_count; ++i) {
source\domino\gui\gui.c:133:        dgui_collect_focus(ctx, w->children[i]);
source\domino\gui\gui.c:140:    w->x = x; w->y = y; w->w = w_px; w->h = h_px;
source\domino\gui\gui.c:141:    if (w->type == DGUI_WIDGET_PANEL && w->child_count > 0) {
source\domino\gui\gui.c:142:        if (w->layout == DGUI_LAYOUT_VERTICAL) {
source\domino\gui\gui.c:143:            int slot = h_px / w->child_count;
source\domino\gui\gui.c:144:            int extra = h_px - slot * w->child_count;
source\domino\gui\gui.c:146:            for (i = 0; i < w->child_count; ++i) {
source\domino\gui\gui.c:147:                int ch = slot + ((i == w->child_count - 1) ? extra : 0);
source\domino\gui\gui.c:148:                dgui_layout_widget(w->children[i], x, cy, w_px, ch);
source\domino\gui\gui.c:152:            int slot = w_px / w->child_count;
source\domino\gui\gui.c:153:            int extra = w_px - slot * w->child_count;
source\domino\gui\gui.c:155:            for (i = 0; i < w->child_count; ++i) {
source\domino\gui\gui.c:156:                int cw = slot + ((i == w->child_count - 1) ? extra : 0);
source\domino\gui\gui.c:157:                dgui_layout_widget(w->children[i], cx, y, cw, h_px);
source\domino\gui\gui.c:167:    if (w->type == DGUI_WIDGET_PANEL) {
source\domino\gui\gui.c:169:        rp.rect.x = w->x; rp.rect.y = w->y; rp.rect.w = w->w; rp.rect.h = w->h;
source\domino\gui\gui.c:170:        rp.fill = ctx->style->panel;
source\domino\gui\gui.c:171:        rp.stroke = ctx->style->panel;
source\domino\gui\gui.c:175:    } else if (w->type == DGUI_WIDGET_LABEL) {
source\domino\gui\gui.c:177:        tp.x = w->x + ctx->style->padding;
source\domino\gui\gui.c:178:        tp.y = w->y + ctx->style->padding + 1;
source\domino\gui\gui.c:179:        tp.color = ctx->style->text;
source\domino\gui\gui.c:180:        tp.text = w->text;
source\domino\gui\gui.c:182:    } else if (w->type == DGUI_WIDGET_BUTTON) {
source\domino\gui\gui.c:185:        rp.rect.x = w->x + ctx->style->padding;
source\domino\gui\gui.c:186:        rp.rect.y = w->y + ctx->style->padding;
source\domino\gui\gui.c:187:        rp.rect.w = w->w - ctx->style->padding * 2;
source\domino\gui\gui.c:188:        rp.rect.h = w->h - ctx->style->padding * 2;
source\domino\gui\gui.c:189:        rp.fill = ctx->style->accent;
source\domino\gui\gui.c:190:        rp.stroke = ctx->style->panel;
source\domino\gui\gui.c:196:        tp.color = ctx->style->text;
source\domino\gui\gui.c:197:        tp.text = w->text;
source\domino\gui\gui.c:200:    for (i = 0; i < w->child_count; ++i) {
source\domino\gui\gui.c:201:        dgui_render_widget(ctx, w->children[i], canvas);
source\domino\gui\gui.c:208:    if (!ctx || !ctx->root || !canvas) return;
source\domino\gui\gui.c:209:    ctx->focus_count = 0;
source\domino\gui\gui.c:210:    ctx->focus_index = 0;
source\domino\gui\gui.c:211:    dgui_collect_focus(ctx, ctx->root);
source\domino\gui\gui.c:212:    w = (ctx->surface_w > 0) ? ctx->surface_w : 640;
source\domino\gui\gui.c:213:    h = (ctx->surface_h > 0) ? ctx->surface_h : 360;
source\domino\gui\gui.c:214:    dgui_layout_widget(ctx->root, 0, 0, w, h);
source\domino\gui\gui.c:215:    dgui_render_widget(ctx, ctx->root, canvas);
source\domino\gui\gui.c:220:    if (!ctx || ctx->focus_count == 0) return;
source\domino\gui\gui.c:221:    focused = ctx->focus[ctx->focus_index];
source\domino\gui\gui.c:223:        ctx->focus_index = (ctx->focus_index + 1) % ctx->focus_count;
source\domino\gui\gui.c:225:        ctx->focus_index -= 1;
source\domino\gui\gui.c:226:        if (ctx->focus_index < 0) ctx->focus_index = ctx->focus_count - 1;
source\domino\gui\gui.c:227:    } else if (keycode == 10 && focused && focused->on_activate) {
source\domino\gui\gui.c:228:        focused->on_activate(focused, focused->user);
source\domino\gui\gui.c:232:/*------------------------------------------------------------
source\domino\gui\gui.c:233: * Multi-window GUI host
source\domino\gui\gui.c:234: *------------------------------------------------------------*/
source\domino\gui\gui.c:261:    return ((uint32_t)c->a << 24) |
source\domino\gui\gui.c:262:           ((uint32_t)c->r << 16) |
source\domino\gui\gui.c:263:           ((uint32_t)c->g << 8)  |
source\domino\gui\gui.c:264:           ((uint32_t)c->b);
source\domino\gui\gui.c:290:    win->next = g_gui_windows;
source\domino\gui\gui.c:299:            *cur = win->next;
source\domino\gui\gui.c:302:        cur = &((*cur)->next);
source\domino\gui\gui.c:310:    if (!buf || !buf->data || buf->size == 0u || !out_cmds || max_cmds == 0u) {
source\domino\gui\gui.c:313:    ptr = buf->data;
source\domino\gui\gui.c:314:    end = buf->data + buf->size;
source\domino\gui\gui.c:321:        cmd_size = hdr->size;
source\domino\gui\gui.c:323:            cmd_size = (uint32_t)sizeof(dgfx_cmd_header) + (uint32_t)hdr->payload_size;
source\domino\gui\gui.c:329:        payload_size = cmd_size - (uint32_t)sizeof(dgfx_cmd_header);
source\domino\gui\gui.c:330:        out_cmds[count].opcode = hdr->opcode;
source\domino\gui\gui.c:361:    win->desc = local;
source\domino\gui\gui.c:363:    win->pipeline = d_gui_resolve_pipeline(&owns_pipeline);
source\domino\gui\gui.c:364:    win->owns_pipeline = owns_pipeline;
source\domino\gui\gui.c:365:    if (!win->pipeline) {
source\domino\gui\gui.c:370:    win->target = d_gfx_target_create(win->pipeline, local.width, local.height);
source\domino\gui\gui.c:371:    if (!win->target) {
source\domino\gui\gui.c:372:        if (win->owns_pipeline) d_gfx_pipeline_destroy(win->pipeline);
source\domino\gui\gui.c:376:    win->pass = d_gfx_pass_create(win->pipeline, win->target);
source\domino\gui\gui.c:377:    if (!win->pass) {
source\domino\gui\gui.c:378:        d_gfx_target_destroy(win->pipeline, win->target);
source\domino\gui\gui.c:379:        if (win->owns_pipeline) d_gfx_pipeline_destroy(win->pipeline);
source\domino\gui\gui.c:383:    win->canvas = dcvs_create(64u * 1024u);
source\domino\gui\gui.c:384:    win->gui = dgui_create();
source\domino\gui\gui.c:385:    if (!win->canvas || !win->gui) {
source\domino\gui\gui.c:386:        if (win->canvas) dcvs_destroy(win->canvas);
source\domino\gui\gui.c:387:        if (win->gui) dgui_destroy(win->gui);
source\domino\gui\gui.c:388:        d_gfx_pass_destroy(win->pipeline, win->pass);
source\domino\gui\gui.c:389:        d_gfx_target_destroy(win->pipeline, win->target);
source\domino\gui\gui.c:390:        if (win->owns_pipeline) d_gfx_pipeline_destroy(win->pipeline);
source\domino\gui\gui.c:400:    win->window = dsys_window_create(&sdesc);
source\domino\gui\gui.c:401:    if (!win->window) {
source\domino\gui\gui.c:402:        dcvs_destroy(win->canvas);
source\domino\gui\gui.c:403:        dgui_destroy(win->gui);
source\domino\gui\gui.c:404:        d_gfx_pass_destroy(win->pipeline, win->pass);
source\domino\gui\gui.c:405:        d_gfx_target_destroy(win->pipeline, win->target);
source\domino\gui\gui.c:406:        if (win->owns_pipeline) d_gfx_pipeline_destroy(win->pipeline);
source\domino\gui\gui.c:418:    dsys_window_destroy(win->window);
source\domino\gui\gui.c:419:    if (win->canvas) dcvs_destroy(win->canvas);
source\domino\gui\gui.c:420:    if (win->gui) dgui_destroy(win->gui);
source\domino\gui\gui.c:421:    if (win->pass) d_gfx_pass_destroy(win->pipeline, win->pass);
source\domino\gui\gui.c:422:    if (win->target) d_gfx_target_destroy(win->pipeline, win->target);
source\domino\gui\gui.c:423:    if (win->owns_pipeline && win->pipeline) {
source\domino\gui\gui.c:424:        d_gfx_pipeline_destroy(win->pipeline);
source\domino\gui\gui.c:431:    return dsys_window_should_close(win->window);
source\domino\gui\gui.c:436:    win->root = root;
source\domino\gui\gui.c:437:    if (win->gui) {
source\domino\gui\gui.c:438:        win->gui->root = root;
source\domino\gui\gui.c:439:        dgui_set_root(win->gui, root);
source\domino\gui\gui.c:445:    return win->gui;
source\domino\gui\gui.c:454:    int32_t w = win ? (int32_t)win->desc.width : 0;
source\domino\gui\gui.c:455:    int32_t h = win ? (int32_t)win->desc.height : 0;
source\domino\gui\gui.c:458:    if (!win || !win->pass || !win->canvas || !win->gui) {
source\domino\gui\gui.c:462:    dsys_window_get_size(win->window, &w, &h);
source\domino\gui\gui.c:463:    if (w <= 0) w = (int32_t)win->desc.width;
source\domino\gui\gui.c:464:    if (h <= 0) h = (int32_t)win->desc.height;
source\domino\gui\gui.c:465:    if (win->gui) {
source\domino\gui\gui.c:466:        win->gui->surface_w = (int)w;
source\domino\gui\gui.c:467:        win->gui->surface_h = (int)h;
source\domino\gui\gui.c:473:            dgui_handle_key(win->gui, iev.param1);
source\domino\gui\gui.c:478:    dcvs_reset(win->canvas);
source\domino\gui\gui.c:483:    dcvs_set_viewport(win->canvas, &vp);
source\domino\gui\gui.c:485:    clear_rgba = d_gui_pack_color(win->gui->style ? &win->gui->style->bg : NULL);
source\domino\gui\gui.c:486:    dcvs_clear(win->canvas, clear_rgba);
source\domino\gui\gui.c:487:    if (win->root) {
source\domino\gui\gui.c:488:        dgui_render(win->gui, win->canvas);
source\domino\gui\gui.c:491:    buf = dcvs_get_cmd_buffer(win->canvas);
source\domino\gui\gui.c:494:    d_gfx_pass_begin(win->pass);
source\domino\gui\gui.c:496:        d_gfx_pass_submit_ir(win->pass, cmds, cmd_count);
source\domino\gui\gui.c:498:    d_gfx_pass_end(win->pass);
source\domino\gui\gui.c:499:    dsys_window_present(win->window);
source\domino\gui\gui.c:508:    return current->next;
source\domino\gui\gui.c:517:        win = win->next;
source\domino\gui\gui.c:527:        win = win->next;
source\domino\core\mod_loader.c:20:    return core->launcher_ext_count;
source\domino\core\mod_loader.c:25:    if (!core || index >= core->launcher_ext_count) {
source\domino\core\mod_loader.c:28:    return &core->launcher_exts[index];
source\domino\core\mod_loader.c:37:    if (ext->struct_size < sizeof(dom_launcher_ext_v1) ||
source\domino\core\mod_loader.c:38:        ext->struct_version == 0u) {
source\domino\core\mod_loader.c:41:    if (core->launcher_ext_count >= DOM_MAX_LAUNCHER_EXT) {
source\domino\core\mod_loader.c:44:    dst = &core->launcher_exts[core->launcher_ext_count];
source\domino\core\mod_loader.c:46:    core->launcher_ext_count += 1u;
source\domino\input\input.c:43:    if ((g_event_tail - g_event_head) >= D_INPUT_QUEUE_CAPACITY) {
source\domino\input\input.c:66:    switch (raw->type) {
source\domino\input\input.c:69:        ev.param1 = raw->payload.key.keycode;
source\domino\input\input.c:70:        ev.param2 = raw->payload.key.repeat;
source\domino\input\input.c:72:        if (raw->payload.key.translated) {
source\domino\input\input.c:76:            ch.param1 = raw->payload.key.translated & 0xFF;
source\domino\input\input.c:82:        ev.param1 = raw->payload.key.keycode;
source\domino\input\input.c:87:        ev.param1 = (i32)(unsigned char)raw->payload.text.text[0];
source\domino\input\input.c:88:        ev.param2 = (i32)strlen(raw->payload.text.text);
source\domino\input\input.c:93:        ev.param1 = raw->payload.mouse_move.x;
source\domino\input\input.c:94:        ev.param2 = raw->payload.mouse_move.y;
source\domino\input\input.c:95:        ev.param3 = raw->payload.mouse_move.dx;
source\domino\input\input.c:96:        ev.param4 = raw->payload.mouse_move.dy;
source\domino\input\input.c:100:        ev.type = raw->payload.mouse_button.pressed ? D_INPUT_MOUSEDOWN : D_INPUT_MOUSEUP;
source\domino\input\input.c:101:        ev.param1 = raw->payload.mouse_button.button;
source\domino\input\input.c:102:        ev.param2 = raw->payload.mouse_button.x;
source\domino\input\input.c:103:        ev.param3 = raw->payload.mouse_button.y;
source\domino\input\input.c:104:        ev.param4 = raw->payload.mouse_button.clicks;
source\domino\input\input.c:109:        ev.param1 = raw->payload.mouse_wheel.delta_x;
source\domino\input\input.c:110:        ev.param2 = raw->payload.mouse_wheel.delta_y;
source\domino\input\input.c:116:        ev.param1 = raw->payload.controller.gamepad;
source\domino\input\input.c:117:        ev.param2 = raw->payload.controller.control;
source\domino\input\input.c:118:        ev.param3 = raw->payload.controller.value;
source\domino\input\input.c:119:        ev.param4 = raw->payload.controller.is_axis;
source\domino\input\input.c:129:    while ((g_event_tail - g_event_head) < D_INPUT_QUEUE_CAPACITY) {
source\domino\input\input.c:139:    while ((g_ime_tail - g_ime_head) < D_INPUT_IME_CAPACITY) {
source\domino\core\model_tree.c:40:    for (i = 0u; i < core->package_count; ++i) {
source\domino\core\model_tree.c:41:        if (core->packages[i].info.id == id) {
source\domino\core\model_tree.c:42:            return &core->packages[i];
source\domino\core\model_tree.c:58:    for (i = 0u; i < core->package_count; ++i) {
source\domino\core\model_tree.c:59:        if (core->packages[i].info.kind == kind) {
source\domino\core\model_tree.c:102:    out->struct_size = sizeof(dom_tree_node);
source\domino\core\model_tree.c:103:    out->struct_version = 1;
source\domino\core\model_tree.c:106:        out->parent = 0u;
source\domino\core\model_tree.c:107:        dom_copy_string(out->label, sizeof(out->label), "Packages");
source\domino\core\model_tree.c:108:        out->child_count = (uint32_t)DOM_KIND_NODE_COUNT;
source\domino\core\model_tree.c:114:        kind_index = (uint32_t)(id - DOM_PACKAGES_TREE_KIND_BASE);
source\domino\core\model_tree.c:115:        out->parent = DOM_PACKAGES_TREE_ROOT_ID;
source\domino\core\model_tree.c:116:        dom_copy_string(out->label, sizeof(out->label), g_package_kind_nodes[kind_index].label);
source\domino\core\model_tree.c:117:        out->child_count = dom_tree_count_kind(core, g_package_kind_nodes[kind_index].kind);
source\domino\core\model_tree.c:125:        pkg_id = (dom_package_id)(id - DOM_PACKAGES_TREE_PACKAGE_BASE);
source\domino\core\model_tree.c:131:        kind_index = dom_tree_kind_index(rec->info.kind);
source\domino\core\model_tree.c:132:        out->parent = DOM_PACKAGES_TREE_KIND_BASE + kind_index;
source\domino\core\model_tree.c:133:        dom_copy_string(out->label, sizeof(out->label), rec->info.name);
source\domino\core\model_tree.c:134:        out->child_count = 0u;
source\domino\core\model_tree.c:170:        kind_index = (uint32_t)(parent - DOM_PACKAGES_TREE_KIND_BASE);
source\domino\core\model_tree.c:174:        for (i = 0u; i < core->package_count; ++i) {
source\domino\core\model_tree.c:175:            if (core->packages[i].info.kind != kind) {
source\domino\core\model_tree.c:179:                *child_out = DOM_PACKAGES_TREE_PACKAGE_BASE + core->packages[i].info.id;
source\domino\input\ime.c:29:    while ((g_ime_tail - g_ime_head) < D_IME_QUEUE_CAPACITY) {
source\domino\input\ime.c:40:                    sizeof(g_ime_queue[slot].composition) - 1u);
source\domino\input\ime.c:41:            g_ime_queue[slot].composition[sizeof(g_ime_queue[slot].composition) - 1u] = '\0';
source\domino\input\ime.c:45:                    sizeof(g_ime_queue[slot].committed) - 1u);
source\domino\input\ime.c:46:            g_ime_queue[slot].committed[sizeof(g_ime_queue[slot].committed) - 1u] = '\0';
source\domino\core\view.c:12:    count = core->view_count;
source\domino\core\view.c:21:        out[i] = core->views[i];
source\domino\core\view.c:31:    if (!core || !desc || !desc->id || !desc->model_id) {
source\domino\core\view.c:34:    if (core->view_count >= DOM_MAX_VIEWS) {
source\domino\core\view.c:37:    dst = &core->views[core->view_count];
source\domino\core\view.c:39:    core->view_count += 1u;
source\domino\core\rng.c:14:    rng->state = (seed != 0u) ? seed : 1u;
source\domino\core\rng.c:21:    rng->state = d_rng_step(rng->state);
source\domino\core\rng.c:22:    return rng->state;
source\domino\core\rng.c:33:    return d_rng_step(rng->state);
source\domino\core\pkg.c:59:        memmove(s, s + start, len - start + 1u);
source\domino\core\pkg.c:60:        len -= start;
source\domino\core\pkg.c:62:    while (len > 0u && (s[len - 1u] == ' ' || s[len - 1u] == '\t' || s[len - 1u] == '\r' || s[len - 1u] == '\n')) {
source\domino\core\pkg.c:63:        s[len - 1u] = '\0';
source\domino\core\pkg.c:64:        len -= 1u;
source\domino\core\pkg.c:85:    out_rec->info.struct_size = sizeof(dom_package_info);
source\domino\core\pkg.c:86:    out_rec->info.struct_version = 1;
source\domino\core\pkg.c:87:    out_rec->info.kind = DOM_PKG_KIND_UNKNOWN;
source\domino\core\pkg.c:88:    dom_copy_string(out_rec->info.version, sizeof(out_rec->info.version), "0.0.0");
source\domino\core\pkg.c:89:    out_rec->dep_name_count = 0;
source\domino\core\pkg.c:122:            dom_copy_string(out_rec->info.name, sizeof(out_rec->info.name), val);
source\domino\core\pkg.c:124:            out_rec->info.kind = dom_pkg_kind_from_string(val);
source\domino\core\pkg.c:126:            dom_copy_string(out_rec->info.version, sizeof(out_rec->info.version), val);
source\domino\core\pkg.c:128:            dom_copy_string(out_rec->info.author, sizeof(out_rec->info.author), val);
source\domino\core\pkg.c:133:            while (dep && *dep && out_rec->dep_name_count < DOM_MAX_PACKAGE_DEPS) {
source\domino\core\pkg.c:141:                    dom_copy_string(out_rec->dep_names[out_rec->dep_name_count],
source\domino\core\pkg.c:142:                                    sizeof(out_rec->dep_names[out_rec->dep_name_count]),
source\domino\core\pkg.c:144:                    out_rec->dep_name_count += 1;
source\domino\core\pkg.c:149:            dom_copy_string(out_rec->info.game_version_min, sizeof(out_rec->info.game_version_min), val);
source\domino\core\pkg.c:151:            dom_copy_string(out_rec->info.game_version_max, sizeof(out_rec->info.game_version_max), val);
source\domino\core\pkg.c:157:    if (out_rec->info.name[0] == '\0') {
source\domino\core\pkg.c:158:        dom_path_last_segment(manifest_path, out_rec->info.name, sizeof(out_rec->info.name));
source\domino\core\pkg.c:160:    if (out_rec->info.version[0] == '\0') {
source\domino\core\pkg.c:161:        dom_copy_string(out_rec->info.version, sizeof(out_rec->info.version), "0.0.0");
source\domino\core\pkg.c:174:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\pkg.c:175:        if (core->packages[i].info.id == id) {
source\domino\core\pkg.c:176:            return &core->packages[i];
source\domino\core\pkg.c:189:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\pkg.c:190:        if (strcmp(core->packages[i].info.name, name) == 0) {
source\domino\core\pkg.c:191:            return &core->packages[i];
source\domino\core\pkg.c:206:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\pkg.c:207:        core->packages[i].info.dep_count = 0;
source\domino\core\pkg.c:210:    for (i = 0; i < core->package_count; ++i) {
source\domino\core\pkg.c:213:        rec = &core->packages[i];
source\domino\core\pkg.c:214:        rec->info.dep_count = 0;
source\domino\core\pkg.c:215:        for (j = 0; j < rec->dep_name_count && rec->info.dep_count < DOM_MAX_PACKAGE_DEPS; ++j) {
source\domino\core\pkg.c:217:            dep_rec = dom_pkg_find_by_name(core, rec->dep_names[j]);
source\domino\core\pkg.c:219:                rec->info.deps[rec->info.dep_count] = dep_rec->info.id;
source\domino\core\pkg.c:220:                rec->info.dep_count += 1;
source\domino\core\pkg.c:292:    if (core->package_count >= DOM_MAX_PACKAGES) {
source\domino\core\pkg.c:315:    rec.info.id = core->next_package_id++;
source\domino\core\pkg.c:321:    slot = &core->packages[core->package_count];
source\domino\core\pkg.c:323:    core->package_count += 1;
source\domino\core\pkg.c:340:    core->package_count = 0;
source\domino\core\pkg.c:341:    core->next_package_id = 1;
source\domino\core\pkg.c:360:        for (i = 0u; i < pkg_count && core->package_count < DOM_MAX_PACKAGES; ++i) {
source\domino\core\pkg.c:374:        for (i = 0u; i < author_count && core->package_count < DOM_MAX_PACKAGES; ++i) {
source\domino\core\pkg.c:389:                                                 DOM_MAX_PACKAGES - core->package_count);
source\domino\core\pkg.c:390:                for (j = 0u; j < pkg_count && core->package_count < DOM_MAX_PACKAGES; ++j) {
source\domino\core\pkg.c:402:    if (core->package_count > 0u) {
source\domino\core\pkg.c:403:        core->next_package_id = core->packages[core->package_count - 1u].info.id + 1u;
source\domino\core\pkg.c:405:        core->next_package_id = 1;
source\domino\core\pkg.c:418:    count = core->package_count;
source\domino\core\pkg.c:424:        out[i] = core->packages[i].info;
source\domino\core\pkg.c:443:    *out = rec->info;
source\domino\core\pkg.c:461:    if (core->package_count >= DOM_MAX_PACKAGES) {
source\domino\core\pkg.c:512:        *out_id = core->packages[core->package_count - 1u].info.id;
source\domino\core\pkg.c:530:    idx = (uint32_t)(rec - core->packages);
source\domino\core\pkg.c:532:    if (rec->is_official) {
source\domino\core\pkg.c:536:    if (!dom_fs_remove_tree(rec->info.install_path)) {
source\domino\core\pkg.c:540:    for (; idx + 1u < core->package_count; ++idx) {
source\domino\core\pkg.c:541:        core->packages[idx] = core->packages[idx + 1u];
source\domino\core\pkg.c:543:    core->package_count -= 1u;
source\domino\core\sim.c:16:    for (i = 0; i < core->instance_count; ++i) {
source\domino\core\sim.c:17:        if (core->instances[i].info.id == id) {
source\domino\core\sim.c:18:            return &core->instances[i];
source\domino\core\sim.c:33:    for (i = 0u; i < core->sim_state_count; ++i) {
source\domino\core\sim.c:34:        if (core->sim_states[i].id == id) {
source\domino\core\sim.c:35:            return &core->sim_states[i];
source\domino\core\sim.c:55:    if (core->sim_state_count >= DOM_MAX_SIM_STATES) {
source\domino\core\sim.c:59:    state = &core->sim_states[core->sim_state_count];
source\domino\core\sim.c:61:    state->id = id;
source\domino\core\sim.c:62:    state->ups = DOM_SIM_DEFAULT_UPS;
source\domino\core\sim.c:63:    state->dt_s = 1.0 / state->ups;
source\domino\core\sim.c:64:    state->paused = false;
source\domino\core\sim.c:65:    core->sim_state_count += 1u;
source\domino\core\sim.c:88:    if (sim_state->paused || ticks == 0u) {
source\domino\core\sim.c:95:    args.dt_s = sim_state->dt_s;
source\domino\core\sim.c:100:        sim_state->ticks += 1u;
source\domino\core\sim.c:101:        sim_state->sim_time_s += sim_state->dt_s;
source\domino\core\sim.c:107:            core->tick_counter += advanced;
source\domino\core\sim.c:148:    out->struct_size = sizeof(dom_sim_state);
source\domino\core\sim.c:149:    out->struct_version = DOM_SIM_STRUCT_VERSION;
source\domino\core\sim.c:150:    out->ticks = sim_state->ticks;
source\domino\core\sim.c:151:    out->sim_time_s = sim_state->sim_time_s;
source\domino\core\sim.c:152:    out->dt_s = sim_state->dt_s;
source\domino\core\sim.c:153:    out->ups = sim_state->ups;
source\domino\core\sim.c:154:    out->paused = sim_state->paused;
source\domino\launcher\ui_layout.c:18:    child = node->first_child;
source\domino\launcher\ui_layout.c:23:        if (child->flex > 0) {
source\domino\launcher\ui_layout.c:24:            flex_sum += child->flex;
source\domino\launcher\ui_layout.c:26:        child = child->next_sibling;
source\domino\launcher\ui_layout.c:29:    spacing = child_count > 1 ? node->gap * (child_count - 1) : 0;
source\domino\launcher\ui_layout.c:30:    available_w = node->box.w - node->pad[0] - node->pad[2] - spacing;
source\domino\launcher\ui_layout.c:31:    available_h = node->box.h - node->pad[1] - node->pad[3] - spacing;
source\domino\launcher\ui_layout.c:34:    child = node->first_child;
source\domino\launcher\ui_layout.c:38:        if (node->dir == UI_DIR_ROW) {
source\domino\launcher\ui_layout.c:39:            if (flex_sum > 0 && child->flex > 0) {
source\domino\launcher\ui_layout.c:40:                cw = (available_w * child->flex) / flex_sum;
source\domino\launcher\ui_layout.c:46:            if (child->min_w > 0 && cw < child->min_w) {
source\domino\launcher\ui_layout.c:47:                cw = child->min_w;
source\domino\launcher\ui_layout.c:49:            if (child->max_w > 0 && cw > child->max_w) {
source\domino\launcher\ui_layout.c:50:                cw = child->max_w;
source\domino\launcher\ui_layout.c:53:            if (child->min_h > 0 && ch < child->min_h) {
source\domino\launcher\ui_layout.c:54:                ch = child->min_h;
source\domino\launcher\ui_layout.c:56:            if (child->max_h > 0 && ch > child->max_h) {
source\domino\launcher\ui_layout.c:57:                ch = child->max_h;
source\domino\launcher\ui_layout.c:59:            child->box.x = node->box.x + node->pad[0] + cursor;
source\domino\launcher\ui_layout.c:60:            child->box.y = node->box.y + node->pad[1];
source\domino\launcher\ui_layout.c:61:            child->box.w = cw;
source\domino\launcher\ui_layout.c:62:            child->box.h = ch;
source\domino\launcher\ui_layout.c:63:            cursor += cw + node->gap;
source\domino\launcher\ui_layout.c:65:            if (flex_sum > 0 && child->flex > 0) {
source\domino\launcher\ui_layout.c:66:                ch = (available_h * child->flex) / flex_sum;
source\domino\launcher\ui_layout.c:72:            if (child->min_h > 0 && ch < child->min_h) {
source\domino\launcher\ui_layout.c:73:                ch = child->min_h;
source\domino\launcher\ui_layout.c:75:            if (child->max_h > 0 && ch > child->max_h) {
source\domino\launcher\ui_layout.c:76:                ch = child->max_h;
source\domino\launcher\ui_layout.c:79:            if (child->min_w > 0 && cw < child->min_w) {
source\domino\launcher\ui_layout.c:80:                cw = child->min_w;
source\domino\launcher\ui_layout.c:82:            if (child->max_w > 0 && cw > child->max_w) {
source\domino\launcher\ui_layout.c:83:                cw = child->max_w;
source\domino\launcher\ui_layout.c:85:            child->box.x = node->box.x + node->pad[0];
source\domino\launcher\ui_layout.c:86:            child->box.y = node->box.y + node->pad[1] + cursor;
source\domino\launcher\ui_layout.c:87:            child->box.w = cw;
source\domino\launcher\ui_layout.c:88:            child->box.h = ch;
source\domino\launcher\ui_layout.c:89:            cursor += ch + node->gap;
source\domino\launcher\ui_layout.c:92:        child = child->next_sibling;
source\domino\launcher\ui_layout.c:101:    root->box = ctx->viewport;
source\domino\env\d_env_volume.c:84:    return &entry->vol;
source\domino\env\d_env_volume.c:144:    if (x < v->min_x || x > v->max_x) return 0;
source\domino\env\d_env_volume.c:145:    if (y < v->min_y || y > v->max_y) return 0;
source\domino\env\d_env_volume.c:146:    if (z < v->min_z || z > v->max_z) return 0;
source\domino\env\d_env_volume.c:179:    if (denv_find_volume_entry(w, vol->id) != (denv_volume_entry *)0 && vol->id != 0u) {
source\domino\env\d_env_volume.c:192:    slot->world = w;
source\domino\env\d_env_volume.c:193:    slot->vol = tmp;
source\domino\env\d_env_volume.c:194:    slot->in_use = 1;
source\domino\env\d_env_volume.c:202:        return -1;
source\domino\env\d_env_volume.c:206:        return -1;
source\domino\env\d_env_volume.c:224:        return -1;
source\domino\env\d_env_volume.c:247:        return -1;
source\domino\env\d_env_volume.c:249:    if (edge->a == edge->b) {
source\domino\env\d_env_volume.c:250:        return -2;
source\domino\env\d_env_volume.c:252:    if (edge->a == 0u && edge->b == 0u) {
source\domino\env\d_env_volume.c:253:        return -2;
source\domino\env\d_env_volume.c:255:    if (edge->a != 0u && !denv_find_volume_entry(w, edge->a)) {
source\domino\env\d_env_volume.c:256:        return -3;
source\domino\env\d_env_volume.c:258:    if (edge->b != 0u && !denv_find_volume_entry(w, edge->b)) {
source\domino\env\d_env_volume.c:259:        return -3;
source\domino\env\d_env_volume.c:263:        return -4;
source\domino\env\d_env_volume.c:265:    slot->world = w;
source\domino\env\d_env_volume.c:266:    slot->edge = *edge;
source\domino\env\d_env_volume.c:267:    slot->in_use = 1;
source\domino\env\d_env_volume.c:330:        if (!e->in_use || e->world != w) {
source\domino\env\d_env_volume.c:333:        a_is_ext = (e->edge.a == 0u) ? 1 : 0;
source\domino\env\d_env_volume.c:334:        b_is_ext = (e->edge.b == 0u) ? 1 : 0;
source\domino\env\d_env_volume.c:335:        va = a_is_ext ? (denv_volume_entry *)0 : denv_find_volume_entry(w, e->edge.a);
source\domino\env\d_env_volume.c:336:        vb = b_is_ext ? (denv_volume_entry *)0 : denv_find_volume_entry(w, e->edge.b);
source\domino\env\d_env_volume.c:347:                if (ids[ia] == va->vol.id) break;
source\domino\env\d_env_volume.c:355:                if (ids[ib] == vb->vol.id) break;
source\domino\env\d_env_volume.c:365:        gas_k = e->edge.gas_conductance;
source\domino\env\d_env_volume.c:366:        heat_k = e->edge.heat_conductance;
source\domino\env\d_env_volume.c:369:            diff = d_q16_16_sub(vb->vol.pressure, va->vol.pressure);
source\domino\env\d_env_volume.c:374:            diff = d_q16_16_sub(vb->vol.temperature, va->vol.temperature);
source\domino\env\d_env_volume.c:379:            diff = d_q16_16_sub(vb->vol.gas0_fraction, va->vol.gas0_fraction);
source\domino\env\d_env_volume.c:384:            diff = d_q16_16_sub(vb->vol.gas1_fraction, va->vol.gas1_fraction);
source\domino\env\d_env_volume.c:389:            diff = d_q16_16_sub(vb->vol.humidity, va->vol.humidity);
source\domino\env\d_env_volume.c:394:            diff = d_q16_16_sub(vb->vol.pollutant, va->vol.pollutant);
source\domino\env\d_env_volume.c:416:            cx = (q32_32)((v->vol.min_x + v->vol.max_x) >> 1);
source\domino\env\d_env_volume.c:417:            cy = (q32_32)((v->vol.min_y + v->vol.max_y) >> 1);
source\domino\env\d_env_volume.c:418:            cz = (q32_32)((v->vol.min_z + v->vol.max_z) >> 1);
source\domino\env\d_env_volume.c:427:            diff = d_q16_16_sub(ext_p, v->vol.pressure);
source\domino\env\d_env_volume.c:431:            diff = d_q16_16_sub(ext_t, v->vol.temperature);
source\domino\env\d_env_volume.c:435:            diff = d_q16_16_sub(ext_g0, v->vol.gas0_fraction);
source\domino\env\d_env_volume.c:439:            diff = d_q16_16_sub(ext_g1, v->vol.gas1_fraction);
source\domino\env\d_env_volume.c:443:            diff = d_q16_16_sub(ext_h, v->vol.humidity);
source\domino\env\d_env_volume.c:457:        v->vol.pressure = d_q16_16_add(v->vol.pressure, d_q16_16_mul(dp[i], mult));
source\domino\env\d_env_volume.c:458:        v->vol.temperature = d_q16_16_add(v->vol.temperature, d_q16_16_mul(dt[i], mult));
source\domino\env\d_env_volume.c:459:        v->vol.gas0_fraction = d_q16_16_add(v->vol.gas0_fraction, d_q16_16_mul(dg0[i], mult));
source\domino\env\d_env_volume.c:460:        v->vol.gas1_fraction = d_q16_16_add(v->vol.gas1_fraction, d_q16_16_mul(dg1[i], mult));
source\domino\env\d_env_volume.c:461:        v->vol.humidity = d_q16_16_add(v->vol.humidity, d_q16_16_mul(dh[i], mult));
source\domino\env\d_env_volume.c:462:        v->vol.pollutant = d_q16_16_add(v->vol.pollutant, d_q16_16_mul(dpol[i], mult));
source\domino\env\d_env_volume.c:475:        return -1;
source\domino\env\d_env_volume.c:479:        out->ptr = (unsigned char *)0;
source\domino\env\d_env_volume.c:480:        out->len = 0u;
source\domino\env\d_env_volume.c:496:        out->ptr = (unsigned char *)0;
source\domino\env\d_env_volume.c:497:        out->len = 0u;
source\domino\env\d_env_volume.c:507:        return -1;
source\domino\env\d_env_volume.c:519:            memcpy(dst, &v->id, sizeof(d_env_volume_id));
source\domino\env\d_env_volume.c:521:            memcpy(dst, &v->min_x, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:522:            memcpy(dst, &v->min_y, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:523:            memcpy(dst, &v->min_z, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:524:            memcpy(dst, &v->max_x, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:525:            memcpy(dst, &v->max_y, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:526:            memcpy(dst, &v->max_z, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\env\d_env_volume.c:527:            memcpy(dst, &v->owner_struct_eid, sizeof(u32)); dst += sizeof(u32);
source\domino\env\d_env_volume.c:528:            memcpy(dst, &v->owner_vehicle_eid, sizeof(u32)); dst += sizeof(u32);
source\domino\env\d_env_volume.c:529:            memcpy(dst, &v->pressure, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:530:            memcpy(dst, &v->temperature, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:531:            memcpy(dst, &v->gas0_fraction, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:532:            memcpy(dst, &v->gas1_fraction, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:533:            memcpy(dst, &v->humidity, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:534:            memcpy(dst, &v->pollutant, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\env\d_env_volume.c:541:            memcpy(dst, &e->a, sizeof(d_env_volume_id));
source\domino\env\d_env_volume.c:543:            memcpy(dst, &e->b, sizeof(d_env_volume_id));
source\domino\env\d_env_volume.c:545:            memcpy(dst, &e->gas_conductance, sizeof(q16_16));
source\domino\env\d_env_volume.c:547:            memcpy(dst, &e->heat_conductance, sizeof(q16_16));
source\domino\env\d_env_volume.c:552:    out->ptr = buf;
source\domino\env\d_env_volume.c:553:    out->len = (u32)(dst - buf);
source\domino\env\d_env_volume.c:565:        return -1;
source\domino\env\d_env_volume.c:567:    if (in->len == 0u) {
source\domino\env\d_env_volume.c:571:    if (!in->ptr || in->len < 8u) {
source\domino\env\d_env_volume.c:572:        return -1;
source\domino\env\d_env_volume.c:577:    ptr = in->ptr;
source\domino\env\d_env_volume.c:578:    remaining = in->len;
source\domino\env\d_env_volume.c:583:    remaining -= 8u;
source\domino\env\d_env_volume.c:590:            return -1;
source\domino\env\d_env_volume.c:609:        remaining -= need;
source\domino\env\d_env_volume.c:613:            return -1;
source\domino\env\d_env_volume.c:615:        slot->world = w;
source\domino\env\d_env_volume.c:616:        slot->vol = v;
source\domino\env\d_env_volume.c:617:        slot->in_use = 1;
source\domino\env\d_env_volume.c:628:            return -1;
source\domino\env\d_env_volume.c:639:        remaining -= need;
source\domino\env\d_env_volume.c:643:            return -1;
source\domino\env\d_env_volume.c:645:        slot->world = w;
source\domino\env\d_env_volume.c:646:        slot->edge = e;
source\domino\env\d_env_volume.c:647:        slot->in_use = 1;
source\domino\replay\d_replay.h:31:    u32          determinism_mode; /* 0=off,1=record,2=playback,3=assert-only */
source\domino\replay\d_replay.h:34:    /* For RECORD: dynamic array of frames; for PLAYBACK: read-only pointer. */
source\domino\launcher\launcher_ui.c:52:    switch (ev->type) {
source\domino\launcher\launcher_ui.c:54:        g_ui.input.mouse_x = ev->data.mouse.x;
source\domino\launcher\launcher_ui.c:55:        g_ui.input.mouse_y = ev->data.mouse.y;
source\domino\launcher\launcher_ui.c:56:        g_ui.input.wheel += ev->data.mouse.wheel;
source\domino\launcher\launcher_ui.c:57:        if (ev->data.mouse.pressed) {
source\domino\launcher\launcher_ui.c:58:            g_ui.input.mouse_down = ev->data.mouse.pressed;
source\domino\launcher\launcher_ui.c:68:        g_ui.input.key_code = ev->data.key.code;
source\domino\launcher\launcher_ui.c:69:        g_ui.input.key_pressed = ev->data.key.pressed;
source\domino\launcher\launcher_ui.c:73:        strncpy(g_ui.input.text, ev->data.text, sizeof(g_ui.input.text) - 1u);
source\domino\launcher\launcher_ui.c:173:    w = g_ui.width - (g_ui.cursor_x * 2);
source\domino\launcher\launcher_ui.c:181:    bg = st->color_bg;
source\domino\launcher\launcher_ui.c:183:        bg = st->color_border;
source\domino\launcher\launcher_ui.c:186:    ui_draw_rect(x, y, w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:187:    ui_draw_rect(x, y + h - st->border_px, w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:188:    ui_draw_rect(x, y, st->border_px, h, st->color_border);
source\domino\launcher\launcher_ui.c:189:    ui_draw_rect(x + w - st->border_px, y, st->border_px, h, st->color_border);
source\domino\launcher\launcher_ui.c:190:    ui_draw_text(x + 8, y + (h / 2) - 6, st->color_fg, label ? label : "");
source\domino\launcher\launcher_ui.c:209:    w = g_ui.width - (g_ui.cursor_x * 2);
source\domino\launcher\launcher_ui.c:217:    ui_draw_rect(x, y, box, box, st->color_border);
source\domino\launcher\launcher_ui.c:219:        ui_draw_rect(x + 3, y + 3, box - 6, box - 6, st->color_accent);
source\domino\launcher\launcher_ui.c:221:        ui_draw_rect(x + 3, y + 3, box - 6, box - 6, st->color_bg);
source\domino\launcher\launcher_ui.c:223:    ui_draw_text(x + box + 6, y + 2, st->color_fg, label ? label : "");
source\domino\launcher\launcher_ui.c:243:        return -1;
source\domino\launcher\launcher_ui.c:246:    clicked_index = -1;
source\domino\launcher\launcher_ui.c:248:    w = g_ui.width - (g_ui.cursor_x * 2);
source\domino\launcher\launcher_ui.c:258:        bg = st->color_bg;
source\domino\launcher\launcher_ui.c:260:            bg = st->color_accent;
source\domino\launcher\launcher_ui.c:262:            bg = st->color_border;
source\domino\launcher\launcher_ui.c:265:        ui_draw_text(x + 8, row_y + (h / 2) - 6, st->color_fg, items[i] ? items[i] : "");
source\domino\launcher\launcher_ui.c:289:    w = g_ui.width - (g_ui.cursor_x * 2);
source\domino\launcher\launcher_ui.c:301:    ui_draw_rect(x, y, w, h, active ? st->color_border : st->color_bg);
source\domino\launcher\launcher_ui.c:302:    ui_draw_rect(x, y, w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:303:    ui_draw_rect(x, y + h - st->border_px, w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:304:    ui_draw_rect(x, y, st->border_px, h, st->color_border);
source\domino\launcher\launcher_ui.c:305:    ui_draw_rect(x + w - st->border_px, y, st->border_px, h, st->color_border);
source\domino\launcher\launcher_ui.c:306:    ui_draw_text(x + 8, y + (h / 2) - 6, st->color_fg, buf ? buf : "");
source\domino\launcher\launcher_ui.c:325:                buf[cur_len - 1] = '\0';
source\domino\launcher\launcher_ui.c:343:        g_ui.scroll_offset = -(*scroll_y);
source\domino\launcher\launcher_ui.c:366:    ui_draw_text(x, y, st->color_fg, text ? text : "");
source\domino\launcher\launcher_ui.c:382:    r->width = local.width;
source\domino\launcher\launcher_ui.c:383:    r->height = local.height;
source\domino\launcher\launcher_ui.c:384:    r->dpi = local.dpi ? local.dpi : 96;
source\domino\launcher\launcher_ui.c:385:    r->viewports = local.viewports ? local.viewports : 1;
source\domino\launcher\launcher_ui.c:386:    r->theme.color_bg = ui_color(16, 16, 20, 255);
source\domino\launcher\launcher_ui.c:387:    r->theme.color_fg = ui_color(240, 240, 240, 255);
source\domino\launcher\launcher_ui.c:388:    r->theme.color_accent = ui_color(90, 160, 255, 255);
source\domino\launcher\launcher_ui.c:389:    r->theme.color_border = ui_color(64, 64, 80, 255);
source\domino\launcher\launcher_ui.c:390:    r->theme.radius = 4;
source\domino\launcher\launcher_ui.c:391:    r->theme.border_px = 1;
source\domino\launcher\launcher_ui.c:392:    r->theme.font_id = 0;
source\domino\launcher\launcher_ui.c:393:    r->theme.icon_sheet = 0;
source\domino\launcher\launcher_ui.c:409:    r->theme = *theme;
source\domino\launcher\launcher_ui.c:420:    st = &r->theme;
source\domino\launcher\launcher_ui.c:421:    ui_draw_rect(node->box.x, node->box.y, node->box.w, node->box.h, st->color_bg);
source\domino\launcher\launcher_ui.c:422:    ui_draw_rect(node->box.x, node->box.y, node->box.w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:423:    ui_draw_rect(node->box.x, node->box.y + node->box.h - st->border_px, node->box.w, st->border_px, st->color_border);
source\domino\launcher\launcher_ui.c:424:    ui_draw_rect(node->box.x, node->box.y, st->border_px, node->box.h, st->color_border);
source\domino\launcher\launcher_ui.c:425:    ui_draw_rect(node->box.x + node->box.w - st->border_px, node->box.y, st->border_px, node->box.h, st->color_border);
source\domino\launcher\launcher_ui.c:426:    ui_draw_text(node->box.x + 4, node->box.y + 4, st->color_fg, node->id ? node->id : "");
source\domino\launcher\launcher_ui.c:427:    child = node->first_child;
source\domino\launcher\launcher_ui.c:430:        child = child->next_sibling;
source\domino\env\d_env_validate.c:26:        return -1;
source\domino\env\d_env_validate.c:34:        return -1;
source\domino\env\d_env_validate.c:36:    for (i = 0u; i < w->chunk_count; ++i) {
source\domino\env\d_env_validate.c:37:        const d_chunk *chunk = &w->chunks[i];
source\domino\env\d_env_validate.c:41:        q32_32 x = ((q32_32)chunk->cx) << Q32_32_FRAC_BITS;
source\domino\env\d_env_validate.c:42:        q32_32 y = ((q32_32)chunk->cy) << Q32_32_FRAC_BITS;
source\domino\env\d_env_validate.c:46:            fprintf(stderr, "env validate: no samples for chunk (%d,%d)\n", (int)chunk->cx, (int)chunk->cy);
source\domino\env\d_env_validate.c:47:            return -1;
source\domino\env\d_env_validate.c:52:                return -1;
source\domino\env\d_env_validate.c:69:        return -1;
source\domino\env\d_env_validate.c:75:        return -1;
source\domino\env\d_env_validate.c:88:        return -1;
source\domino\env\d_env_validate.c:97:    remaining -= 8u;
source\domino\env\d_env_validate.c:101:        return -1;
source\domino\env\d_env_validate.c:112:            return -1;
source\domino\env\d_env_validate.c:124:        remaining -= need;
source\domino\env\d_env_validate.c:128:            return -1;
source\domino\env\d_env_validate.c:132:            return -1;
source\domino\env\d_env_validate.c:136:            return -1;
source\domino\env\d_env_validate.c:149:            return -1;
source\domino\env\d_env_validate.c:155:        remaining -= need;
source\domino\env\d_env_validate.c:159:            return -1;
source\domino\env\d_env_validate.c:163:            return -1;
source\domino\env\d_env_validate.c:167:            return -1;
source\domino\env\d_env_validate.c:171:            return -1;
source\domino\env\d_env_validate.c:175:            return -1;
source\domino\env\d_env_validate.c:179:            return -1;
source\domino\env\d_env_validate.c:189:        return -1;
source\domino\env\d_env_validate.c:192:        return -1;
source\domino\env\d_env_validate.c:195:        return -1;
source\domino\env\d_env_validate.c:198:        return -1;
source\domino\replay\d_replay.c:23:    b->data = (unsigned char *)0;
source\domino\replay\d_replay.c:24:    b->length = 0u;
source\domino\replay\d_replay.c:25:    b->capacity = 0u;
source\domino\replay\d_replay.c:32:    if (b->data) {
source\domino\replay\d_replay.c:33:        free(b->data);
source\domino\replay\d_replay.c:35:    b->data = (unsigned char *)0;
source\domino\replay\d_replay.c:36:    b->length = 0u;
source\domino\replay\d_replay.c:37:    b->capacity = 0u;
source\domino\replay\d_replay.c:45:        return -1;
source\domino\replay\d_replay.c:47:    if (extra > 0xFFFFFFFFu - b->length) {
source\domino\replay\d_replay.c:48:        return -1;
source\domino\replay\d_replay.c:50:    needed = b->length + extra;
source\domino\replay\d_replay.c:51:    if (needed <= b->capacity) {
source\domino\replay\d_replay.c:54:    new_cap = b->capacity ? b->capacity : 256u;
source\domino\replay\d_replay.c:62:    new_data = (unsigned char *)realloc(b->data, new_cap);
source\domino\replay\d_replay.c:64:        return -1;
source\domino\replay\d_replay.c:66:    b->data = new_data;
source\domino\replay\d_replay.c:67:    b->capacity = new_cap;
source\domino\replay\d_replay.c:77:    memcpy(b->data + b->length, &tag, sizeof(u32));
source\domino\replay\d_replay.c:78:    b->length += 4u;
source\domino\replay\d_replay.c:79:    memcpy(b->data + b->length, &payload_len, sizeof(u32));
source\domino\replay\d_replay.c:80:    b->length += 4u;
source\domino\replay\d_replay.c:82:        memcpy(b->data + b->length, payload, payload_len);
source\domino\replay\d_replay.c:83:        b->length += payload_len;
source\domino\replay\d_replay.c:85:        return -1;
source\domino\replay\d_replay.c:123:        return -1;
source\domino\replay\d_replay.c:130:        return -1;
source\domino\replay\d_replay.c:135:        return -1;
source\domino\replay\d_replay.c:144:                return -1;
source\domino\replay\d_replay.c:149:                return -1;
source\domino\replay\d_replay.c:165:        return -1;
source\domino\replay\d_replay.c:167:    if (needed <= ctx->frame_capacity) {
source\domino\replay\d_replay.c:170:    new_cap = ctx->frame_capacity ? ctx->frame_capacity * 2u : 4u;
source\domino\replay\d_replay.c:174:    new_frames = (dreplay_frame *)realloc(ctx->frames, sizeof(dreplay_frame) * new_cap);
source\domino\replay\d_replay.c:176:        return -1;
source\domino\replay\d_replay.c:178:    if (new_cap > ctx->frame_capacity) {
source\domino\replay\d_replay.c:180:        for (i = ctx->frame_capacity; i < new_cap; ++i) {
source\domino\replay\d_replay.c:186:    ctx->frames = new_frames;
source\domino\replay\d_replay.c:187:    ctx->frame_capacity = new_cap;
source\domino\replay\d_replay.c:193:        return -1;
source\domino\replay\d_replay.c:198:    ctx->mode = DREPLAY_MODE_RECORD;
source\domino\replay\d_replay.c:199:    ctx->determinism_mode = 1u;
source\domino\replay\d_replay.c:200:    ctx->last_hash = 0u;
source\domino\replay\d_replay.c:201:    ctx->frames = (dreplay_frame *)0;
source\domino\replay\d_replay.c:202:    ctx->frame_count = 0u;
source\domino\replay\d_replay.c:203:    ctx->frame_capacity = 0u;
source\domino\replay\d_replay.c:204:    ctx->cursor = 0u;
source\domino\replay\d_replay.c:209:            return -1;
source\domino\replay\d_replay.c:217:        return -1;
source\domino\replay\d_replay.c:221:    ctx->mode = DREPLAY_MODE_PLAYBACK;
source\domino\replay\d_replay.c:222:    ctx->determinism_mode = 2u;
source\domino\replay\d_replay.c:223:    ctx->last_hash = 0u;
source\domino\replay\d_replay.c:224:    ctx->frames = frames;
source\domino\replay\d_replay.c:225:    ctx->frame_count = frame_count;
source\domino\replay\d_replay.c:226:    ctx->frame_capacity = 0u; /* mark as external / non-owned */
source\domino\replay\d_replay.c:227:    ctx->cursor = 0u;
source\domino\replay\d_replay.c:229:        return -1;
source\domino\replay\d_replay.c:238:    if (ctx->frames && ctx->frame_capacity > 0u) {
source\domino\replay\d_replay.c:239:        d_replay_free_frames(ctx->frames, ctx->frame_count);
source\domino\replay\d_replay.c:241:    ctx->frames = (dreplay_frame *)0;
source\domino\replay\d_replay.c:242:    ctx->frame_count = 0u;
source\domino\replay\d_replay.c:243:    ctx->frame_capacity = 0u;
source\domino\replay\d_replay.c:244:    ctx->cursor = 0u;
source\domino\replay\d_replay.c:245:    ctx->mode = DREPLAY_MODE_OFF;
source\domino\replay\d_replay.c:246:    ctx->determinism_mode = 0u;
source\domino\replay\d_replay.c:247:    ctx->last_hash = 0u;
source\domino\replay\d_replay.c:258:    if (!ctx || ctx->mode != DREPLAY_MODE_RECORD) {
source\domino\replay\d_replay.c:259:        return -1;
source\domino\replay\d_replay.c:262:        return -1;
source\domino\replay\d_replay.c:265:    for (i = 0u; i < ctx->frame_count; ++i) {
source\domino\replay\d_replay.c:266:        if (ctx->frames[i].tick_index == tick_index) {
source\domino\replay\d_replay.c:267:            frame = &ctx->frames[i];
source\domino\replay\d_replay.c:273:        if (d_replay_ensure_capacity(ctx, ctx->frame_count + 1u) != 0) {
source\domino\replay\d_replay.c:274:            return -1;
source\domino\replay\d_replay.c:276:        frame = &ctx->frames[ctx->frame_count];
source\domino\replay\d_replay.c:277:        ctx->frame_count += 1u;
source\domino\replay\d_replay.c:279:        d_replay_free_inputs(frame->inputs, frame->input_count);
source\domino\replay\d_replay.c:282:    frame->tick_index = tick_index;
source\domino\replay\d_replay.c:283:    frame->input_count = input_count;
source\domino\replay\d_replay.c:284:    frame->inputs = (d_net_input_frame *)0;
source\domino\replay\d_replay.c:286:        if (d_replay_clone_inputs(&frame->inputs, inputs, input_count) != 0) {
source\domino\replay\d_replay.c:287:            frame->input_count = 0u;
source\domino\replay\d_replay.c:288:            return -1;
source\domino\replay\d_replay.c:302:    if (!ctx || ctx->mode != DREPLAY_MODE_PLAYBACK || !in_out_input_count) {
source\domino\replay\d_replay.c:303:        return -1;
source\domino\replay\d_replay.c:306:        return -1;
source\domino\replay\d_replay.c:309:    if (ctx->cursor < ctx->frame_count) {
source\domino\replay\d_replay.c:310:        if (ctx->frames[ctx->cursor].tick_index == tick_index) {
source\domino\replay\d_replay.c:311:            frame = &ctx->frames[ctx->cursor];
source\domino\replay\d_replay.c:315:        for (i = 0u; i < ctx->frame_count; ++i) {
source\domino\replay\d_replay.c:316:            if (ctx->frames[i].tick_index == tick_index) {
source\domino\replay\d_replay.c:317:                frame = &ctx->frames[i];
source\domino\replay\d_replay.c:318:                ctx->cursor = i;
source\domino\replay\d_replay.c:325:        return -2;
source\domino\replay\d_replay.c:327:    if (!out_inputs || *in_out_input_count < frame->input_count) {
source\domino\replay\d_replay.c:328:        *in_out_input_count = frame->input_count;
source\domino\replay\d_replay.c:329:        return -3;
source\domino\replay\d_replay.c:332:    for (i = 0u; i < frame->input_count; ++i) {
source\domino\replay\d_replay.c:333:        out_inputs[i] = frame->inputs[i];
source\domino\replay\d_replay.c:335:    *in_out_input_count = frame->input_count;
source\domino\replay\d_replay.c:337:    if (ctx->cursor < ctx->frame_count && ctx->frames[ctx->cursor].tick_index == tick_index) {
source\domino\replay\d_replay.c:338:        ctx->cursor += 1u;
source\domino\replay\d_replay.c:350:        return -1;
source\domino\replay\d_replay.c:352:    if (!ctx->frames && ctx->frame_count > 0u) {
source\domino\replay\d_replay.c:353:        return -1;
source\domino\replay\d_replay.c:357:    for (i = 0u; i < ctx->frame_count; ++i) {
source\domino\replay\d_replay.c:358:        const dreplay_frame *frame = &ctx->frames[i];
source\domino\replay\d_replay.c:365:        for (j = 0u; j < frame->input_count; ++j) {
source\domino\replay\d_replay.c:366:            if (frame->inputs[j].payload_size > 0xFFFFFFFFu - (payload_len + 12u)) {
source\domino\replay\d_replay.c:368:                return -1;
source\domino\replay\d_replay.c:370:            payload_len += 12u + frame->inputs[j].payload_size;
source\domino\replay\d_replay.c:376:            return -1;
source\domino\replay\d_replay.c:379:        memcpy(payload + offset, &frame->tick_index, sizeof(u32));
source\domino\replay\d_replay.c:381:        memcpy(payload + offset, &frame->input_count, sizeof(u32));
source\domino\replay\d_replay.c:384:        for (j = 0u; j < frame->input_count; ++j) {
source\domino\replay\d_replay.c:385:            memcpy(payload + offset, &frame->inputs[j].tick_index, sizeof(u32));
source\domino\replay\d_replay.c:387:            memcpy(payload + offset, &frame->inputs[j].player_id, sizeof(u32));
source\domino\replay\d_replay.c:389:            memcpy(payload + offset, &frame->inputs[j].payload_size, sizeof(u32));
source\domino\replay\d_replay.c:391:            if (frame->inputs[j].payload_size > 0u) {
source\domino\replay\d_replay.c:392:                memcpy(payload + offset, frame->inputs[j].payload, frame->inputs[j].payload_size);
source\domino\replay\d_replay.c:393:                offset += frame->inputs[j].payload_size;
source\domino\replay\d_replay.c:400:            return -1;
source\domino\replay\d_replay.c:405:    out->ptr = builder.data;
source\domino\replay\d_replay.c:406:    out->len = builder.length;
source\domino\replay\d_replay.c:420:        return -1;
source\domino\replay\d_replay.c:426:    while (offset + 8u <= in->len) {
source\domino\replay\d_replay.c:430:        memcpy(&tag, in->ptr + offset, sizeof(u32));
source\domino\replay\d_replay.c:431:        memcpy(&len, in->ptr + offset + 4u, sizeof(u32));
source\domino\replay\d_replay.c:433:        if (len > in->len - offset) {
source\domino\replay\d_replay.c:435:            return -1;
source\domino\replay\d_replay.c:439:            const unsigned char *p = in->ptr + offset;
source\domino\replay\d_replay.c:446:                return -1;
source\domino\replay\d_replay.c:452:            remaining -= 8u;
source\domino\replay\d_replay.c:459:                    return -1;
source\domino\replay\d_replay.c:468:                    return -1;
source\domino\replay\d_replay.c:476:                remaining -= 12u;
source\domino\replay\d_replay.c:481:                    return -1;
source\domino\replay\d_replay.c:488:                        return -1;
source\domino\replay\d_replay.c:492:                    remaining -= frame.inputs[j].payload_size;
source\domino\replay\d_replay.c:508:                    return -1;
source\domino\replay\d_replay.c:520:    out_ctx->mode = DREPLAY_MODE_PLAYBACK;
source\domino\replay\d_replay.c:521:    out_ctx->determinism_mode = 2u;
source\domino\replay\d_replay.c:522:    out_ctx->last_hash = 0u;
source\domino\replay\d_replay.c:523:    out_ctx->frames = frames;
source\domino\replay\d_replay.c:524:    out_ctx->frame_count = frame_count;
source\domino\replay\d_replay.c:525:    out_ctx->frame_capacity = frame_cap;
source\domino\replay\d_replay.c:526:    out_ctx->cursor = 0u;
source\domino\replay\d_replay.c:538:        return -1;
source\domino\replay\d_replay.c:540:    out->ptr = (unsigned char *)0;
source\domino\replay\d_replay.c:541:    out->len = 0u;
source\domino\env\d_env_field.h:79:/* Reserved field ids for built-in atmosphere model. */
source\domino\env\d_env_field.h:88:/* Built-in model id for default atmosphere. */
source\domino\launcher\launcher_data.c:15:static int              g_active_profile = -1;
source\domino\launcher\launcher_data.c:32:        len = cap - 1u;
source\domino\launcher\launcher_data.c:47:    if (len > 0u && dst[len - 1u] != '/' && dst[len - 1u] != '\\') {
source\domino\launcher\launcher_data.c:104:        read_count = dsys_file_read(fh, buf + total, cap - total - 1u);
source\domino\launcher\launcher_data.c:122:        return -1;
source\domino\launcher\launcher_data.c:126:        return -1;
source\domino\launcher\launcher_data.c:132:        return -1;
source\domino\launcher\launcher_data.c:143:    cfg->width = 960;
source\domino\launcher\launcher_data.c:144:    cfg->height = 540;
source\domino\launcher\launcher_data.c:145:    cfg->soft_only = 1;
source\domino\launcher\launcher_data.c:146:    launcher_path_copy(cfg->theme, sizeof(cfg->theme), "default");
source\domino\launcher\launcher_data.c:147:    if (!dsys_get_path(DSYS_PATH_USER_CONFIG, cfg->pref_path, sizeof(cfg->pref_path))) {
source\domino\launcher\launcher_data.c:148:        launcher_path_copy(cfg->pref_path, sizeof(cfg->pref_path), ".");
source\domino\launcher\launcher_data.c:161:        return -1;
source\domino\launcher\launcher_data.c:164:    launcher_path_join(path, sizeof(path), cfg->pref_path, "launcher.cfg");
source\domino\launcher\launcher_data.c:167:        return -1;
source\domino\launcher\launcher_data.c:177:            cfg->width = atoi(line + 6);
source\domino\launcher\launcher_data.c:179:            cfg->height = atoi(line + 7);
source\domino\launcher\launcher_data.c:181:            cfg->soft_only = atoi(line + 10);
source\domino\launcher\launcher_data.c:183:            launcher_path_copy(cfg->theme, sizeof(cfg->theme), line + 6);
source\domino\launcher\launcher_data.c:185:            launcher_path_copy(cfg->pref_path, sizeof(cfg->pref_path), line + 10);
source\domino\launcher\launcher_data.c:199:        return -1;
source\domino\launcher\launcher_data.c:201:    launcher_path_join(path, sizeof(path), cfg->pref_path, "launcher.cfg");
source\domino\launcher\launcher_data.c:204:                cfg->width,
source\domino\launcher\launcher_data.c:205:                cfg->height,
source\domino\launcher\launcher_data.c:206:                cfg->soft_only,
source\domino\launcher\launcher_data.c:207:                cfg->theme,
source\domino\launcher\launcher_data.c:208:                cfg->pref_path);
source\domino\launcher\launcher_data.c:210:        return -1;
source\domino\launcher\launcher_data.c:212:    text[sizeof(text) - 1u] = '\0';
source\domino\launcher\launcher_data.c:237:            launcher_path_copy(out->id, sizeof(out->id), line + 3);
source\domino\launcher\launcher_data.c:239:            launcher_path_copy(out->name, sizeof(out->name), line + 5);
source\domino\launcher\launcher_data.c:241:            launcher_path_copy(out->install_path, sizeof(out->install_path), line + 13);
source\domino\launcher\launcher_data.c:243:            launcher_path_copy(out->modset, sizeof(out->modset), line + 7);
source\domino\launcher\launcher_data.c:258:    g_active_profile = -1;
source\domino\launcher\launcher_data.c:312:        return -1;
source\domino\launcher\launcher_data.c:331:    if (!p || p->id[0] == '\0') {
source\domino\launcher\launcher_data.c:332:        return -1;
source\domino\launcher\launcher_data.c:339:    launcher_path_copy(filename, sizeof(filename), p->id);
source\domino\launcher\launcher_data.c:348:                p->id,
source\domino\launcher\launcher_data.c:349:                p->name,
source\domino\launcher\launcher_data.c:350:                p->install_path,
source\domino\launcher\launcher_data.c:351:                p->modset);
source\domino\launcher\launcher_data.c:353:        return -1;
source\domino\launcher\launcher_data.c:355:    text[sizeof(text) - 1u] = '\0';
source\domino\launcher\launcher_data.c:414:        return -1;
source\domino\launcher\launcher_data.c:434:    return -1;
source\domino\launcher\launcher_data.c:446:        for (i = 0; i < g_mod_count - 1; ++i) {
source\domino\launcher\launcher_data.c:465:        return -1;
source\domino\launcher\launcher_data.c:476:    p->handle = dsys_process_spawn(&desc);
source\domino\launcher\launcher_data.c:477:    if (!p->handle) {
source\domino\launcher\launcher_data.c:478:        p->running = 0;
source\domino\launcher\launcher_data.c:479:        p->pid = -1;
source\domino\launcher\launcher_data.c:480:        return -1;
source\domino\launcher\launcher_data.c:482:    launcher_path_copy(p->cmdline, sizeof(p->cmdline), exe);
source\domino\launcher\launcher_data.c:486:        clen = strlen(p->cmdline);
source\domino\launcher\launcher_data.c:488:        if (clen + 1u + alen < sizeof(p->cmdline)) {
source\domino\launcher\launcher_data.c:489:            p->cmdline[clen] = ' ';
source\domino\launcher\launcher_data.c:490:            memcpy(p->cmdline + clen + 1u, args, alen);
source\domino\launcher\launcher_data.c:491:            p->cmdline[clen + 1u + alen] = '\0';
source\domino\launcher\launcher_data.c:495:        launcher_path_copy(p->cwd, sizeof(p->cwd), cwd);
source\domino\launcher\launcher_data.c:497:        p->cwd[0] = '\0';
source\domino\launcher\launcher_data.c:499:    p->running = 1;
source\domino\launcher\launcher_data.c:500:    p->exit_code = 0;
source\domino\launcher\launcher_data.c:501:    p->pid = 0;
source\domino\launcher\launcher_data.c:508:    if (!p || !p->handle) {
source\domino\launcher\launcher_data.c:509:        return -1;
source\domino\launcher\launcher_data.c:511:    if (!p->running) {
source\domino\launcher\launcher_data.c:512:        return p->exit_code;
source\domino\launcher\launcher_data.c:514:    res = dsys_process_wait(p->handle);
source\domino\launcher\launcher_data.c:516:        p->running = 0;
source\domino\launcher\launcher_data.c:517:        p->exit_code = res;
source\domino\launcher\launcher_data.c:519:    return p->running ? -1 : p->exit_code;
source\domino\launcher\launcher_data.c:525:        return -1;
source\domino\launcher\launcher_data.c:527:    if (p->handle) {
source\domino\launcher\launcher_data.c:528:        dsys_process_destroy(p->handle);
source\domino\launcher\launcher_data.c:529:        p->handle = NULL;
source\domino\launcher\launcher_data.c:531:    p->running = 0;
source\domino\hydro\d_hydro_validate.c:14:        return -1;
source\domino\hydro\d_hydro_validate.c:25:    if (!payload || payload->len == 0u) {
source\domino\hydro\d_hydro_validate.c:28:    if (!payload->ptr || payload->len < 4u) {
source\domino\hydro\d_hydro_validate.c:29:        return -1;
source\domino\hydro\d_hydro_validate.c:31:    ptr = payload->ptr;
source\domino\hydro\d_hydro_validate.c:32:    remaining = payload->len;
source\domino\hydro\d_hydro_validate.c:35:    remaining -= 4u;
source\domino\hydro\d_hydro_validate.c:38:        return -1;
source\domino\hydro\d_hydro_validate.c:41:        return -1;
source\domino\hydro\d_hydro_validate.c:60:            return -1;
source\domino\hydro\d_hydro_validate.c:70:        return -1;
source\domino\hydro\d_hydro_validate.c:72:    for (i = 0u; i < w->chunk_count; ++i) {
source\domino\hydro\d_hydro_validate.c:82:        if (d_serialize_save_chunk_all((d_world *)w, (d_chunk *)&w->chunks[i], &blob) != 0) {
source\domino\hydro\d_hydro_validate.c:84:            return -1;
source\domino\hydro\d_hydro_validate.c:97:                    return -1;
source\domino\hydro\d_hydro_validate.c:104:            return -1;
source\domino\hydro\d_hydro_validate.c:114:        return -1;
source\domino\hydro\d_hydro_validate.c:117:        return -1;
source\domino\hydro\d_hydro_validate.c:120:        return -1;
source\domino\pkg\repo.c:8:/* Minimal manifest example for reference (posix-x86_64):
source\domino\pkg\repo.c:102:    len = (size_t)(end - start);
source\domino\pkg\repo.c:140:        size_t len = (size_t)(pos - start);
source\domino\pkg\repo.c:141:        if (len >= sizeof(buf)) len = sizeof(buf) - 1;
source\domino\pkg\repo.c:170:    rlen = fread(buffer, 1, max_len - 1, f);
source\domino\pkg\repo.c:178:    const char* platform_dir = "posix-x86_64";
source\domino\pkg\repo.c:191:    /* DOMINIUM_HOME/repo/products/dominium_game/0.0.1/core-0.0.1/<platform>/product.json */
source\domino\pkg\repo.c:194:                         "%s/repo/products/dominium_game/0.0.1/core-0.0.1/%s/product.json",
source\domino\pkg\repo.c:205:    if (!dom_json_extract_string(json, "product_id", out_info->product_id, sizeof(out_info->product_id))) return D_FALSE;
source\domino\pkg\repo.c:206:    if (!dom_json_extract_string(json, "product_version", out_info->product_version, sizeof(out_info->product_version))) return D_FALSE;
source\domino\pkg\repo.c:207:    if (!dom_json_extract_string(json, "core_version", out_info->core_version, sizeof(out_info->core_version))) return D_FALSE;
source\domino\pkg\repo.c:208:    if (!dom_json_extract_string(json, "exec_rel_path", out_info->exec_rel_path, sizeof(out_info->exec_rel_path))) return D_FALSE;
source\domino\pkg\repo.c:211:        out_info->role = dom_parse_role(tmp);
source\domino\pkg\repo.c:213:        out_info->role = DOM_PRODUCT_ROLE_UNKNOWN;
source\domino\pkg\repo.c:217:        out_info->os_family = dom_parse_os_family(tmp);
source\domino\pkg\repo.c:219:        out_info->os_family = DOM_OS_UNKNOWN;
source\domino\pkg\repo.c:223:        out_info->arch = dom_parse_arch(tmp);
source\domino\pkg\repo.c:225:        out_info->arch = DOM_ARCH_UNKNOWN;
source\domino\pkg\repo.c:229:    if (!dom_json_extract_u16(json, "save_format_version", &out_info->compat.save_format_version)) return D_FALSE;
source\domino\pkg\repo.c:230:    if (!dom_json_extract_u16(json, "pack_format_version", &out_info->compat.pack_format_version)) return D_FALSE;
source\domino\pkg\repo.c:231:    if (!dom_json_extract_u16(json, "net_protocol_version", &out_info->compat.net_protocol_version)) return D_FALSE;
source\domino\pkg\repo.c:232:    if (!dom_json_extract_u16(json, "replay_format_version", &out_info->compat.replay_format_version)) return D_FALSE;
source\domino\pkg\repo.c:233:    if (!dom_json_extract_u16(json, "launcher_proto_version", &out_info->compat.launcher_proto_version)) return D_FALSE;
source\domino\pkg\repo.c:234:    if (!dom_json_extract_u16(json, "tools_proto_version", &out_info->compat.tools_proto_version)) return D_FALSE;
source\domino\hydro\d_hydro.h:61:/* Built-in model ids. */
source\domino\env\d_env.c:52:    if (!vt || vt->model_id == 0u) {
source\domino\env\d_env.c:53:        return -1;
source\domino\env\d_env.c:56:        if (g_env_models[i].model_id == vt->model_id) {
source\domino\env\d_env.c:57:            return -2;
source\domino\env\d_env.c:61:        return -3;
source\domino\env\d_env.c:66:    desc.model_id = vt->model_id;
source\domino\env\d_env.c:72:        return -4;
source\domino\env\d_env.c:87:    if (entry->fields) {
source\domino\env\d_env.c:88:        free(entry->fields);
source\domino\env\d_env.c:90:    entry->fields = (d_env_field_cell *)0;
source\domino\env\d_env.c:91:    entry->field_count = 0u;
source\domino\env\d_env.c:92:    entry->field_capacity = 0u;
source\domino\env\d_env.c:99:        return -1;
source\domino\env\d_env.c:102:        return -1;
source\domino\env\d_env.c:104:    if (capacity <= entry->field_capacity) {
source\domino\env\d_env.c:107:    new_fields = (d_env_field_cell *)realloc(entry->fields, capacity * sizeof(d_env_field_cell));
source\domino\env\d_env.c:109:        return -1;
source\domino\env\d_env.c:111:    old_cap = entry->field_capacity;
source\domino\env\d_env.c:112:    entry->fields = new_fields;
source\domino\env\d_env.c:113:    entry->field_capacity = capacity;
source\domino\env\d_env.c:114:    if (entry->field_capacity > old_cap) {
source\domino\env\d_env.c:116:        for (i = old_cap; i < entry->field_capacity; ++i) {
source\domino\env\d_env.c:117:            memset(&entry->fields[i], 0, sizeof(d_env_field_cell));
source\domino\env\d_env.c:127:    if (entry->field_count >= entry->field_capacity) {
source\domino\env\d_env.c:128:        if (denv_reserve_fields(entry, entry->field_count + 1u) != 0) {
source\domino\env\d_env.c:132:    memset(&entry->fields[entry->field_count], 0, sizeof(d_env_field_cell));
source\domino\env\d_env.c:133:    entry->field_count += 1u;
source\domino\env\d_env.c:134:    return &entry->fields[entry->field_count - 1u];
source\domino\env\d_env.c:139:    if (!entry || !entry->fields) {
source\domino\env\d_env.c:142:    for (i = 0u; i < entry->field_count; ++i) {
source\domino\env\d_env.c:143:        if (entry->fields[i].desc.field_id == field_id) {
source\domino\env\d_env.c:144:            return &entry->fields[i];
source\domino\env\d_env.c:164:    if (entry->field_count != 0u) {
source\domino\env\d_env.c:174:        cell->desc.field_id = k_fields[i];
source\domino\env\d_env.c:175:        cell->desc.model_id = D_ENV_MODEL_ATMOSPHERE_DEFAULT;
source\domino\env\d_env.c:176:        cell->desc.flags = 0u;
source\domino\env\d_env.c:177:        vt = denv_model_lookup(cell->desc.model_id);
source\domino\env\d_env.c:178:        if (vt && vt->init_chunk) {
source\domino\env\d_env.c:179:            vt->init_chunk(w, chunk, cell, (const d_tlv_blob *)0);
source\domino\env\d_env.c:181:        if (vt && vt->compute_base) {
source\domino\env\d_env.c:182:            vt->compute_base((const d_world *)w, (const d_chunk *)chunk, cell);
source\domino\env\d_env.c:216:        signed_unit = (i32)(period_ticks - phase);
source\domino\env\d_env.c:218:    /* signed_unit in [0..half]; map to [-1..+1] with midpoint at half/2. */
source\domino\env\d_env.c:219:    signed_unit = (signed_unit * 2) - (i32)half;
source\domino\env\d_env.c:246:    h = denv_hash_u32(w ? w->meta.seed : 0u, chunk->cx, chunk->cy);
source\domino\env\d_env.c:249:    switch (cell->desc.field_id) {
source\domino\env\d_env.c:253:        cell->values[0] = base;
source\domino\env\d_env.c:254:        cell->values[3] = base; /* store baseline */
source\domino\env\d_env.c:259:        cell->values[0] = base;
source\domino\env\d_env.c:260:        cell->values[3] = base;
source\domino\env\d_env.c:263:        cell->values[0] = denv_q16_from_ratio(21, 100);
source\domino\env\d_env.c:264:        cell->values[3] = cell->values[0];
source\domino\env\d_env.c:267:        cell->values[0] = denv_q16_from_ratio(4, 10000);
source\domino\env\d_env.c:268:        cell->values[3] = cell->values[0];
source\domino\env\d_env.c:271:        cell->values[0] = denv_q16_from_ratio(1, 2);
source\domino\env\d_env.c:272:        cell->values[3] = cell->values[0];
source\domino\env\d_env.c:276:        cell->values[0] = 0;
source\domino\env\d_env.c:277:        cell->values[3] = 0;
source\domino\env\d_env.c:296:    h = denv_hash_u32(w ? w->meta.seed : 0u, chunk->cx, chunk->cy);
source\domino\env\d_env.c:299:    switch (cell->desc.field_id) {
source\domino\env\d_env.c:303:        cell->values[3] = base;
source\domino\env\d_env.c:308:        cell->values[3] = base;
source\domino\env\d_env.c:311:        cell->values[3] = denv_q16_from_ratio(21, 100);
source\domino\env\d_env.c:314:        cell->values[3] = denv_q16_from_ratio(4, 10000);
source\domino\env\d_env.c:317:        cell->values[3] = denv_q16_from_ratio(1, 2);
source\domino\env\d_env.c:321:        cell->values[3] = 0;
source\domino\env\d_env.c:345:    seed_lo = (u32)(w->meta.seed & 0xFFFFFFFFu);
source\domino\env\d_env.c:346:    t = w->tick_count + seed_lo;
source\domino\env\d_env.c:350:    switch (cell->desc.field_id) {
source\domino\env\d_env.c:352:        desired = d_q16_16_add(cell->values[3], denv_triangle_wave(t, 24000u, d_q16_16_from_int(8)));
source\domino\env\d_env.c:353:        v = cell->values[0];
source\domino\env\d_env.c:356:        cell->values[0] = v;
source\domino\env\d_env.c:359:        desired = cell->values[3];
source\domino\env\d_env.c:360:        v = cell->values[0];
source\domino\env\d_env.c:363:        cell->values[0] = v;
source\domino\env\d_env.c:368:        desired = cell->values[3];
source\domino\env\d_env.c:369:        v = cell->values[0];
source\domino\env\d_env.c:372:        cell->values[0] = v;
source\domino\env\d_env.c:413:    entry->world = w;
source\domino\env\d_env.c:414:    entry->chunk = chunk;
source\domino\env\d_env.c:422:        return -1;
source\domino\env\d_env.c:426:        return -1;
source\domino\env\d_env.c:428:    if (entry->zone_count == 0u) {
source\domino\env\d_env.c:429:        entry->zones = (denv_zone_state *)malloc(sizeof(denv_zone_state));
source\domino\env\d_env.c:430:        if (!entry->zones) {
source\domino\env\d_env.c:431:            return -1;
source\domino\env\d_env.c:433:        memset(entry->zones, 0, sizeof(denv_zone_state));
source\domino\env\d_env.c:434:        entry->zone_count = 1u;
source\domino\env\d_env.c:435:        entry->zones[0].id = (denv_zone_id)chunk->chunk_id;
source\domino\env\d_env.c:436:        entry->zones[0].temperature = d_q16_16_from_int(15);
source\domino\env\d_env.c:437:        entry->zones[0].pressure = d_q16_16_from_int(101);
source\domino\env\d_env.c:438:        entry->zones[0].humidity = 0;
source\domino\env\d_env.c:439:        entry->zones[0].gas_mix[0] = 0;
source\domino\env\d_env.c:440:        entry->zones[0].gas_mix[1] = 0;
source\domino\env\d_env.c:441:        entry->zones[0].gas_mix[2] = 0;
source\domino\env\d_env.c:442:        entry->zones[0].gas_mix[3] = 0;
source\domino\env\d_env.c:443:        entry->zones[0].pollution = 0;
source\domino\env\d_env.c:444:        entry->zones[0].light_level = 0;
source\domino\env\d_env.c:445:        entry->zones[0].extra.ptr = (unsigned char *)0;
source\domino\env\d_env.c:446:        entry->zones[0].extra.len = 0u;
source\domino\env\d_env.c:448:    entry->portal_count = 0u;
source\domino\env\d_env.c:449:    entry->portals = (denv_portal *)0;
source\domino\env\d_env.c:451:    if (entry->field_capacity == 0u) {
source\domino\env\d_env.c:453:            return -1;
source\domino\env\d_env.c:485:        if (entry->world != w) {
source\domino\env\d_env.c:488:        if (!entry->fields || entry->field_count == 0u) {
source\domino\env\d_env.c:507:        if (p) old_p[i] = p->values[0];
source\domino\env\d_env.c:508:        if (t) old_t[i] = t->values[0];
source\domino\env\d_env.c:517:        if (!entry || !entry->chunk) {
source\domino\env\d_env.c:522:        nbr_chunk = d_world_find_chunk(w, entry->chunk->cx + 1, entry->chunk->cy);
source\domino\env\d_env.c:528:                        i64 diff_p = (i64)old_p[i] - (i64)old_p[j];
source\domino\env\d_env.c:529:                        i64 diff_t = (i64)old_t[i] - (i64)old_t[j];
source\domino\env\d_env.c:534:                        delta_p[i] -= tp; delta_p[j] += tp;
source\domino\env\d_env.c:535:                        delta_t[i] -= tt; delta_t[j] += tt;
source\domino\env\d_env.c:543:        nbr_chunk = d_world_find_chunk(w, entry->chunk->cx, entry->chunk->cy + 1);
source\domino\env\d_env.c:549:                        i64 diff_p = (i64)old_p[i] - (i64)old_p[j];
source\domino\env\d_env.c:550:                        i64 diff_t = (i64)old_t[i] - (i64)old_t[j];
source\domino\env\d_env.c:555:                        delta_p[i] -= tp; delta_p[j] += tp;
source\domino\env\d_env.c:556:                        delta_t[i] -= tt; delta_t[j] += tt;
source\domino\env\d_env.c:568:            p->values[0] = denv_q16_from_i64_clamp((i64)old_p[i] + delta_p[i]);
source\domino\env\d_env.c:571:            t->values[0] = denv_q16_from_i64_clamp((i64)old_t[i] + delta_t[i]);
source\domino\env\d_env.c:585:        if (entry->world != w) {
source\domino\env\d_env.c:588:        if (!entry->fields || entry->field_count == 0u) {
source\domino\env\d_env.c:591:        for (f = 0u; f < entry->field_count; ++f) {
source\domino\env\d_env.c:592:            d_env_field_cell *cell = &entry->fields[f];
source\domino\env\d_env.c:593:            const d_env_model_vtable *vt = denv_model_lookup(cell->desc.model_id);
source\domino\env\d_env.c:594:            if (vt && vt->tick) {
source\domino\env\d_env.c:595:                vt->tick(w, entry->chunk, cell, ticks);
source\domino\env\d_env.c:604:        if (entry->world != w) {
source\domino\env\d_env.c:607:        if (entry->zone_count > 0u && entry->zones) {
source\domino\env\d_env.c:611:            if (p) entry->zones[0].pressure = p->values[0];
source\domino\env\d_env.c:612:            if (t) entry->zones[0].temperature = t->values[0];
source\domino\env\d_env.c:613:            if (h) entry->zones[0].humidity = h->values[0];
source\domino\env\d_env.c:654:    if (!entry || !entry->fields || entry->field_count == 0u) {
source\domino\env\d_env.c:664:    for (i = 0u; i < entry->field_count && out_count < max_samples; ++i) {
source\domino\env\d_env.c:665:        d_env_field_cell *cell = &entry->fields[i];
source\domino\env\d_env.c:666:        const d_env_model_vtable *vt = denv_model_lookup(cell->desc.model_id);
source\domino\env\d_env.c:669:        if (vt && vt->compute_base) {
source\domino\env\d_env.c:670:            vt->compute_base(w, chunk, cell);
source\domino\env\d_env.c:673:        out_samples[out_count].field_id = cell->desc.field_id;
source\domino\env\d_env.c:674:        out_samples[out_count].model_id = cell->desc.model_id;
source\domino\env\d_env.c:676:            out_samples[out_count].values[j] = cell->values[j];
source\domino\env\d_env.c:679:            switch (cell->desc.field_id) {
source\domino\env\d_env.c:681:                out_samples[out_count].values[0] = vol->pressure;
source\domino\env\d_env.c:684:                out_samples[out_count].values[0] = vol->temperature;
source\domino\env\d_env.c:687:                out_samples[out_count].values[0] = vol->gas0_fraction;
source\domino\env\d_env.c:690:                out_samples[out_count].values[0] = vol->gas1_fraction;
source\domino\env\d_env.c:693:                out_samples[out_count].values[0] = vol->humidity;
source\domino\env\d_env.c:740:        return -1;
source\domino\env\d_env.c:744:        out->ptr = (unsigned char *)0;
source\domino\env\d_env.c:745:        out->len = 0u;
source\domino\env\d_env.c:751:    total += entry->zone_count * (sizeof(denv_zone_state) - sizeof(d_tlv_blob) + sizeof(u32));
source\domino\env\d_env.c:752:    total += entry->portal_count * (sizeof(denv_portal) - sizeof(d_tlv_blob) + sizeof(u32));
source\domino\env\d_env.c:753:    for (i = 0u; i < entry->zone_count; ++i) {
source\domino\env\d_env.c:754:        total += entry->zones[i].extra.len;
source\domino\env\d_env.c:756:    for (i = 0u; i < entry->portal_count; ++i) {
source\domino\env\d_env.c:757:        total += entry->portals[i].extra.len;
source\domino\env\d_env.c:760:    /* Field cells appended after portals (field_count + fixed-size cells). */
source\domino\env\d_env.c:762:    if (entry->field_count > 0u && entry->fields) {
source\domino\env\d_env.c:764:        total += entry->field_count * field_size;
source\domino\env\d_env.c:769:        return -1;
source\domino\env\d_env.c:773:    memcpy(dst, &entry->zone_count, sizeof(u32));
source\domino\env\d_env.c:775:    memcpy(dst, &entry->portal_count, sizeof(u32));
source\domino\env\d_env.c:778:    for (i = 0u; i < entry->zone_count; ++i) {
source\domino\env\d_env.c:779:        u32 extra_len = entry->zones[i].extra.len;
source\domino\env\d_env.c:780:        memcpy(dst, &entry->zones[i].id, sizeof(denv_zone_id));
source\domino\env\d_env.c:782:        memcpy(dst, &entry->zones[i].temperature, sizeof(q16_16));
source\domino\env\d_env.c:784:        memcpy(dst, &entry->zones[i].pressure, sizeof(q16_16));
source\domino\env\d_env.c:786:        memcpy(dst, &entry->zones[i].humidity, sizeof(q16_16));
source\domino\env\d_env.c:788:        memcpy(dst, entry->zones[i].gas_mix, sizeof(q16_16) * 4u);
source\domino\env\d_env.c:790:        memcpy(dst, &entry->zones[i].pollution, sizeof(q16_16));
source\domino\env\d_env.c:792:        memcpy(dst, &entry->zones[i].light_level, sizeof(q16_16));
source\domino\env\d_env.c:796:        if (extra_len > 0u && entry->zones[i].extra.ptr) {
source\domino\env\d_env.c:797:            memcpy(dst, entry->zones[i].extra.ptr, extra_len);
source\domino\env\d_env.c:802:    for (i = 0u; i < entry->portal_count; ++i) {
source\domino\env\d_env.c:803:        u32 extra_len = entry->portals[i].extra.len;
source\domino\env\d_env.c:804:        memcpy(dst, &entry->portals[i].a, sizeof(denv_zone_id));
source\domino\env\d_env.c:806:        memcpy(dst, &entry->portals[i].b, sizeof(denv_zone_id));
source\domino\env\d_env.c:808:        memcpy(dst, &entry->portals[i].area, sizeof(q16_16));
source\domino\env\d_env.c:810:        memcpy(dst, &entry->portals[i].permeability, sizeof(q16_16));
source\domino\env\d_env.c:814:        if (extra_len > 0u && entry->portals[i].extra.ptr) {
source\domino\env\d_env.c:815:            memcpy(dst, entry->portals[i].extra.ptr, extra_len);
source\domino\env\d_env.c:821:        u32 field_count = entry->field_count;
source\domino\env\d_env.c:825:            u16 fid = entry->fields ? entry->fields[i].desc.field_id : 0u;
source\domino\env\d_env.c:826:            u16 mid = entry->fields ? entry->fields[i].desc.model_id : 0u;
source\domino\env\d_env.c:827:            u16 flg = entry->fields ? entry->fields[i].desc.flags : 0u;
source\domino\env\d_env.c:833:                q16_16 v = entry->fields ? entry->fields[i].values[j] : 0;
source\domino\env\d_env.c:840:    out->ptr = buf;
source\domino\env\d_env.c:841:    out->len = (u32)(dst - buf);
source\domino\env\d_env.c:860:        return -1;
source\domino\env\d_env.c:862:    if (in->len == 0u) {
source\domino\env\d_env.c:865:    if (!in->ptr || in->len < 8u) {
source\domino\env\d_env.c:866:        return -1;
source\domino\env\d_env.c:869:    ptr = in->ptr;
source\domino\env\d_env.c:870:    remaining = in->len;
source\domino\env\d_env.c:876:    remaining -= 8u;
source\domino\env\d_env.c:880:        return -1;
source\domino\env\d_env.c:882:    if (entry->zones) {
source\domino\env\d_env.c:884:        for (z = 0u; z < entry->zone_count; ++z) {
source\domino\env\d_env.c:885:            if (entry->zones[z].extra.ptr) {
source\domino\env\d_env.c:886:                free(entry->zones[z].extra.ptr);
source\domino\env\d_env.c:889:        free(entry->zones);
source\domino\env\d_env.c:891:    if (entry->portals) {
source\domino\env\d_env.c:893:        for (p = 0u; p < entry->portal_count; ++p) {
source\domino\env\d_env.c:894:            if (entry->portals[p].extra.ptr) {
source\domino\env\d_env.c:895:                free(entry->portals[p].extra.ptr);
source\domino\env\d_env.c:898:        free(entry->portals);
source\domino\env\d_env.c:900:    if (entry->fields) {
source\domino\env\d_env.c:901:        free(entry->fields);
source\domino\env\d_env.c:903:    entry->zones = (denv_zone_state *)0;
source\domino\env\d_env.c:904:    entry->zone_count = 0u;
source\domino\env\d_env.c:905:    entry->portals = (denv_portal *)0;
source\domino\env\d_env.c:906:    entry->portal_count = 0u;
source\domino\env\d_env.c:907:    entry->fields = (d_env_field_cell *)0;
source\domino\env\d_env.c:908:    entry->field_count = 0u;
source\domino\env\d_env.c:909:    entry->field_capacity = 0u;
source\domino\env\d_env.c:912:        entry->zones = (denv_zone_state *)malloc(sizeof(denv_zone_state) * zone_count);
source\domino\env\d_env.c:913:        if (!entry->zones) {
source\domino\env\d_env.c:914:            return -1;
source\domino\env\d_env.c:916:        memset(entry->zones, 0, sizeof(denv_zone_state) * zone_count);
source\domino\env\d_env.c:917:        entry->zone_count = zone_count;
source\domino\env\d_env.c:921:                return -1;
source\domino\env\d_env.c:923:            memcpy(&entry->zones[i].id, ptr, sizeof(denv_zone_id));
source\domino\env\d_env.c:925:            memcpy(&entry->zones[i].temperature, ptr, sizeof(q16_16));
source\domino\env\d_env.c:927:            memcpy(&entry->zones[i].pressure, ptr, sizeof(q16_16));
source\domino\env\d_env.c:929:            memcpy(&entry->zones[i].humidity, ptr, sizeof(q16_16));
source\domino\env\d_env.c:931:            memcpy(entry->zones[i].gas_mix, ptr, sizeof(q16_16) * 4u);
source\domino\env\d_env.c:933:            memcpy(&entry->zones[i].pollution, ptr, sizeof(q16_16));
source\domino\env\d_env.c:935:            memcpy(&entry->zones[i].light_level, ptr, sizeof(q16_16));
source\domino\env\d_env.c:939:            remaining -= sizeof(denv_zone_id) + (sizeof(q16_16) * 8u) + sizeof(u32);
source\domino\env\d_env.c:940:            entry->zones[i].extra.len = extra_len;
source\domino\env\d_env.c:942:                entry->zones[i].extra.ptr = (unsigned char *)malloc(extra_len);
source\domino\env\d_env.c:943:                if (!entry->zones[i].extra.ptr) {
source\domino\env\d_env.c:944:                    return -1;
source\domino\env\d_env.c:947:                    return -1;
source\domino\env\d_env.c:949:                memcpy(entry->zones[i].extra.ptr, ptr, extra_len);
source\domino\env\d_env.c:951:                remaining -= extra_len;
source\domino\env\d_env.c:953:                entry->zones[i].extra.ptr = (unsigned char *)0;
source\domino\env\d_env.c:959:        entry->portals = (denv_portal *)malloc(sizeof(denv_portal) * portal_count);
source\domino\env\d_env.c:960:        if (!entry->portals) {
source\domino\env\d_env.c:961:            return -1;
source\domino\env\d_env.c:963:        memset(entry->portals, 0, sizeof(denv_portal) * portal_count);
source\domino\env\d_env.c:964:        entry->portal_count = portal_count;
source\domino\env\d_env.c:968:                return -1;
source\domino\env\d_env.c:970:            memcpy(&entry->portals[i].a, ptr, sizeof(denv_zone_id));
source\domino\env\d_env.c:972:            memcpy(&entry->portals[i].b, ptr, sizeof(denv_zone_id));
source\domino\env\d_env.c:974:            memcpy(&entry->portals[i].area, ptr, sizeof(q16_16));
source\domino\env\d_env.c:976:            memcpy(&entry->portals[i].permeability, ptr, sizeof(q16_16));
source\domino\env\d_env.c:980:            remaining -= (sizeof(denv_zone_id) * 2u) + (sizeof(q16_16) * 2u) + sizeof(u32);
source\domino\env\d_env.c:981:            entry->portals[i].extra.len = extra_len;
source\domino\env\d_env.c:983:                entry->portals[i].extra.ptr = (unsigned char *)malloc(extra_len);
source\domino\env\d_env.c:984:                if (!entry->portals[i].extra.ptr) {
source\domino\env\d_env.c:985:                    return -1;
source\domino\env\d_env.c:988:                    return -1;
source\domino\env\d_env.c:990:                memcpy(entry->portals[i].extra.ptr, ptr, extra_len);
source\domino\env\d_env.c:992:                remaining -= extra_len;
source\domino\env\d_env.c:994:                entry->portals[i].extra.ptr = (unsigned char *)0;
source\domino\env\d_env.c:1002:        remaining -= 4u;
source\domino\env\d_env.c:1005:                return -1;
source\domino\env\d_env.c:1007:            entry->fields = (d_env_field_cell *)malloc(sizeof(d_env_field_cell) * field_count);
source\domino\env\d_env.c:1008:            if (!entry->fields) {
source\domino\env\d_env.c:1009:                return -1;
source\domino\env\d_env.c:1011:            memset(entry->fields, 0, sizeof(d_env_field_cell) * field_count);
source\domino\env\d_env.c:1012:            entry->field_capacity = field_count;
source\domino\env\d_env.c:1013:            entry->field_count = field_count;
source\domino\env\d_env.c:1021:                    return -1;
source\domino\env\d_env.c:1026:                remaining -= (u32)sizeof(u16) * 3u;
source\domino\env\d_env.c:1027:                entry->fields[i].desc.field_id = fid;
source\domino\env\d_env.c:1028:                entry->fields[i].desc.model_id = mid;
source\domino\env\d_env.c:1029:                entry->fields[i].desc.flags = flg;
source\domino\env\d_env.c:1031:                    memcpy(&entry->fields[i].values[j], ptr, sizeof(q16_16));
source\domino\env\d_env.c:1033:                    remaining -= sizeof(q16_16);
source\domino\env\d_env.c:1039:    if (entry->field_capacity == 0u) {
source\domino\env\d_env.c:1041:            return -1;
source\domino\launcher\launcher.c:42:        if (p && p->name[0] != '\0') {
source\domino\launcher\launcher.c:43:            out_names[i] = p->name;
source\domino\launcher\launcher.c:45:            out_names[i] = p->id;
source\domino\launcher\launcher.c:62:    switch (ev->type) {
source\domino\launcher\launcher.c:68:        uie.data.mouse.x = ev->payload.mouse_move.x;
source\domino\launcher\launcher.c:69:        uie.data.mouse.y = ev->payload.mouse_move.y;
source\domino\launcher\launcher.c:70:        uie.data.mouse.dx = ev->payload.mouse_move.dx;
source\domino\launcher\launcher.c:71:        uie.data.mouse.dy = ev->payload.mouse_move.dy;
source\domino\launcher\launcher.c:72:        g_pointer_x = ev->payload.mouse_move.x;
source\domino\launcher\launcher.c:73:        g_pointer_y = ev->payload.mouse_move.y;
source\domino\launcher\launcher.c:80:        g_pointer_down = ev->payload.mouse_button.pressed ? 1 : 0;
source\domino\launcher\launcher.c:83:        uie.data.mouse.button = ev->payload.mouse_button.button;
source\domino\launcher\launcher.c:89:        uie.data.mouse.wheel = ev->payload.mouse_wheel.delta_y;
source\domino\launcher\launcher.c:97:        uie.data.key.code = ev->payload.key.key;
source\domino\launcher\launcher.c:99:        uie.data.key.pressed = ev->type == DSYS_EVENT_KEY_DOWN ? 1 : 0;
source\domino\launcher\launcher.c:104:        strncpy(uie.data.text, ev->payload.text.text, sizeof(uie.data.text) - 1u);
source\domino\launcher\launcher.c:105:        uie.data.text[sizeof(uie.data.text) - 1u] = '\0';
source\domino\launcher\launcher.c:154:        ui_label("active_profile", p->install_path, &style);
source\domino\launcher\launcher.c:165:    if (launch_clicked && p && p->install_path[0] != '\0') {
source\domino\launcher\launcher.c:168:        (void)launcher_process_spawn(&g_launcher.active_proc, p->install_path, args, NULL);
source\domino\launcher\launcher.c:196:        return -1;
source\domino\launcher\launcher.c:206:        return -1;
source\domino\launcher\launcher.c:221:        return -1;
source\domino\launcher\launcher.c:232:            g_launcher.selected_profile = count - 1;
source\domino\hydro\d_hydro.c:43:    if (!vt || vt->model_id == 0u) {
source\domino\hydro\d_hydro.c:44:        return -1;
source\domino\hydro\d_hydro.c:47:        if (g_hydro_models[i].model_id == vt->model_id) {
source\domino\hydro\d_hydro.c:48:            return -2;
source\domino\hydro\d_hydro.c:52:        return -3;
source\domino\hydro\d_hydro.c:58:    desc.model_id = vt->model_id;
source\domino\hydro\d_hydro.c:64:        return -4;
source\domino\hydro\d_hydro.c:98:    entry->world = w;
source\domino\hydro\d_hydro.c:99:    entry->chunk = chunk;
source\domino\hydro\d_hydro.c:113:        entry->cells[i].surface_height = 0;
source\domino\hydro\d_hydro.c:114:        entry->cells[i].depth = 0;
source\domino\hydro\d_hydro.c:115:        entry->cells[i].velocity_x = 0;
source\domino\hydro\d_hydro.c:116:        entry->cells[i].velocity_y = 0;
source\domino\hydro\d_hydro.c:117:        entry->cells[i].flags = 0;
source\domino\hydro\d_hydro.c:145:        if (entry->world != w) {
source\domino\hydro\d_hydro.c:150:            q16_16 d = entry->cells[k].depth;
source\domino\hydro\d_hydro.c:189:    diff = (i64)ha - (i64)hb;
source\domino\hydro\d_hydro.c:199:        q16_16 need = (q16_16)(-transfer);
source\domino\hydro\d_hydro.c:201:            transfer = (q16_16)(-hb);
source\domino\hydro\d_hydro.c:211:    g_surface_delta[a_off] -= (i64)transfer;
source\domino\hydro\d_hydro.c:231:        if (entry->world != w || !entry->chunk) {
source\domino\hydro\d_hydro.c:243:                    d_chunk *nbr_chunk = d_world_find_chunk(w, entry->chunk->cx + 1, entry->chunk->cy);
source\domino\hydro\d_hydro.c:246:                        u32 j = (u32)(nbr - g_hydro_chunks);
source\domino\hydro\d_hydro.c:257:                    d_chunk *nbr_chunk = d_world_find_chunk(w, entry->chunk->cx, entry->chunk->cy + 1);
source\domino\hydro\d_hydro.c:260:                        u32 j = (u32)(nbr - g_hydro_chunks);
source\domino\hydro\d_hydro.c:279:        if (entry->world != w) {
source\domino\hydro\d_hydro.c:290:            entry->cells[k].depth = depth;
source\domino\hydro\d_hydro.c:291:            entry->cells[k].surface_height = depth;
source\domino\hydro\d_hydro.c:292:            entry->cells[k].velocity_x = dhydro_q16_from_i64_clamp(g_surface_velx[base + k]);
source\domino\hydro\d_hydro.c:293:            entry->cells[k].velocity_y = dhydro_q16_from_i64_clamp(g_surface_vely[base + k]);
source\domino\hydro\d_hydro.c:312:        if (entry->world != w || !entry->chunk) {
source\domino\hydro\d_hydro.c:317:        sx = ((q32_32)entry->chunk->cx) << Q32_32_FRAC_BITS;
source\domino\hydro\d_hydro.c:318:        sy = ((q32_32)entry->chunk->cy) << Q32_32_FRAC_BITS;
source\domino\hydro\d_hydro.c:341:                    surface_total += (i64)entry->cells[cell_idx].depth;
source\domino\hydro\d_hydro.c:344:                diff = reservoir_total - surface_total;
source\domino\hydro\d_hydro.c:374:                        entry->cells[cell_idx].depth = d_q16_16_add(entry->cells[cell_idx].depth, add);
source\domino\hydro\d_hydro.c:375:                        entry->cells[cell_idx].surface_height = entry->cells[cell_idx].depth;
source\domino\hydro\d_hydro.c:377:                        cells_left -= 1;
source\domino\hydro\d_hydro.c:379:                    delta[0] = (q16_16)(-(target - remaining));
source\domino\hydro\d_hydro.c:384:                    i64 want_i64 = (-diff) >> 6;
source\domino\hydro\d_hydro.c:402:                        d = entry->cells[cell_idx].depth;
source\domino\hydro\d_hydro.c:407:                        entry->cells[cell_idx].depth = d_q16_16_sub(d, take);
source\domino\hydro\d_hydro.c:408:                        entry->cells[cell_idx].surface_height = entry->cells[cell_idx].depth;
source\domino\hydro\d_hydro.c:410:                        cells_left -= 1;
source\domino\hydro\d_hydro.c:412:                    delta[0] = (q16_16)(target - remaining);
source\domino\hydro\d_hydro.c:430:        u32 tick_seed = (u32)(w->tick_count + t);
source\domino\hydro\d_hydro.c:442:    /* Handled by the subsystem-level deterministic world tick. */
source\domino\hydro\d_hydro.c:478:    *out_cell = entry->cells[idx];
source\domino\hydro\d_hydro.c:497:    if (vt && vt->init_chunk) {
source\domino\hydro\d_hydro.c:498:        vt->init_chunk((d_world *)w, (d_chunk *)chunk, &params);
source\domino\hydro\d_hydro.c:519:        return -1;
source\domino\hydro\d_hydro.c:534:        if (vt && vt->init_chunk) {
source\domino\hydro\d_hydro.c:535:            vt->init_chunk(w, chunk, &params);
source\domino\hydro\d_hydro.c:539:    if (vt && vt->sample) {
source\domino\hydro\d_hydro.c:540:        vt->sample((const d_world *)w, (const d_chunk *)chunk, x, y, z, out_cell);
source\domino\hydro\d_hydro.c:560:        return -1;
source\domino\hydro\d_hydro.c:564:        out->ptr = (unsigned char *)0;
source\domino\hydro\d_hydro.c:565:        out->len = 0u;
source\domino\hydro\d_hydro.c:572:        return -1;
source\domino\hydro\d_hydro.c:583:        memcpy(dst, &entry->cells[i].surface_height, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\hydro\d_hydro.c:584:        memcpy(dst, &entry->cells[i].depth, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\hydro\d_hydro.c:585:        memcpy(dst, &entry->cells[i].velocity_x, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\hydro\d_hydro.c:586:        memcpy(dst, &entry->cells[i].velocity_y, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\hydro\d_hydro.c:587:        memcpy(dst, &entry->cells[i].flags, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\hydro\d_hydro.c:590:    out->ptr = buf;
source\domino\hydro\d_hydro.c:591:    out->len = (u32)(dst - buf);
source\domino\hydro\d_hydro.c:607:        return -1;
source\domino\hydro\d_hydro.c:609:    if (in->len == 0u) {
source\domino\hydro\d_hydro.c:612:    if (!in->ptr || in->len < 4u) {
source\domino\hydro\d_hydro.c:613:        return -1;
source\domino\hydro\d_hydro.c:616:    ptr = in->ptr;
source\domino\hydro\d_hydro.c:617:    remaining = in->len;
source\domino\hydro\d_hydro.c:620:    remaining -= 4u;
source\domino\hydro\d_hydro.c:622:        return -1;
source\domino\hydro\d_hydro.c:625:        return -1;
source\domino\hydro\d_hydro.c:630:        return -1;
source\domino\hydro\d_hydro.c:634:        memcpy(&entry->cells[i].surface_height, ptr, sizeof(q16_16)); ptr += sizeof(q16_16);
source\domino\hydro\d_hydro.c:635:        memcpy(&entry->cells[i].depth, ptr, sizeof(q16_16)); ptr += sizeof(q16_16);
source\domino\hydro\d_hydro.c:636:        memcpy(&entry->cells[i].velocity_x, ptr, sizeof(q16_16)); ptr += sizeof(q16_16);
source\domino\hydro\d_hydro.c:637:        memcpy(&entry->cells[i].velocity_y, ptr, sizeof(q16_16)); ptr += sizeof(q16_16);
source\domino\hydro\d_hydro.c:638:        memcpy(&entry->cells[i].flags, ptr, sizeof(q16_16)); ptr += sizeof(q16_16);
source\domino\hydro\d_hydro.c:646:        return -1;
source\domino\hydro\d_hydro.c:648:    out->ptr = (unsigned char *)0;
source\domino\hydro\d_hydro.c:649:    out->len = 0u;
source\domino\render\canvas.c:19:    required = c->buf.size + add_bytes;
source\domino\render\canvas.c:20:    if (required <= c->buf.capacity) {
source\domino\render\canvas.c:24:    new_cap = c->buf.capacity ? c->buf.capacity : 256u;
source\domino\render\canvas.c:29:    new_data = (uint8_t *)realloc(c->buf.data, new_cap);
source\domino\render\canvas.c:34:    c->buf.data = new_data;
source\domino\render\canvas.c:35:    c->buf.capacity = new_cap;
source\domino\render\canvas.c:47:    c->buf.data = NULL;
source\domino\render\canvas.c:48:    c->buf.size = 0u;
source\domino\render\canvas.c:49:    c->buf.capacity = 0u;
source\domino\render\canvas.c:52:        c->buf.data = (uint8_t *)malloc(initial_capacity);
source\domino\render\canvas.c:53:        if (!c->buf.data) {
source\domino\render\canvas.c:57:        c->buf.capacity = initial_capacity;
source\domino\render\canvas.c:68:    if (c->buf.data) {
source\domino\render\canvas.c:69:        free(c->buf.data);
source\domino\render\canvas.c:79:    c->buf.size = 0u;
source\domino\render\canvas.c:87:    return &c->buf;
source\domino\render\canvas.c:112:    dst = c->buf.data + c->buf.size;
source\domino\render\canvas.c:122:    c->buf.size += total;
source\domino\render\canvas.c:185:    buf->size = 0u;
source\domino\render\canvas.c:197:    if (!buf || !buf->data) {
source\domino\render\canvas.c:205:    if (buf->size + total > buf->capacity) {
source\domino\render\canvas.c:213:    dst = buf->data + buf->size;
source\domino\render\canvas.c:223:    buf->size += total;
source\domino\render\backend_soft_proxies.c:6: * hardware-specific paths are brought up later. */
source\domino\render\backend_soft_proxies.c:8:/* Windows and platform-specific backends */
source\domino\net\d_net.h:33: * High-level net API:
source\domino\net\d_net.h:34: * For this prompt, only a lockstep-friendly interface is implemented.
source\domino\net\d_net.h:41:    /* Implementation-private fields in d_net.c */
source\domino\net\d_net.h:52: * For a simple lockstep model, this echoes local input as authoritative in single-player.
source\domino\render\backend_detect.c:13:    info->backend = backend;
source\domino\render\backend_detect.c:14:    info->supported = supported;
source\domino\render\backend_detect.c:15:    info->name[0] = '\0';
source\domino\render\backend_detect.c:16:    info->detail[0] = '\0';
source\domino\render\backend_detect.c:19:        if (len >= sizeof(info->name)) len = sizeof(info->name) - 1u;
source\domino\render\backend_detect.c:20:        memcpy(info->name, name, len);
source\domino\render\backend_detect.c:21:        info->name[len] = '\0';
source\domino\render\backend_detect.c:25:        if (len >= sizeof(info->detail)) len = sizeof(info->detail) - 1u;
source\domino\render\backend_detect.c:26:        memcpy(info->detail, detail, len);
source\domino\render\backend_detect.c:27:        info->detail[len] = '\0';
source\domino\render\backend_detect.c:44:    if (count < max_count) d_gfx_backend_info_set(&out_list[count++], D_GFX_BACKEND_METAL, 1, "Metal", "Compile-time availability");
source\domino\world\d_world_terrain.c:21:    u32 mask = (1u << shift) - 1u;
source\domino\world\d_world_terrain.c:25:    /* floor division for negatives: -ceil(|v|/2^shift) */
source\domino\world\d_world_terrain.c:27:        u32 av = (u32)(-v);
source\domino\world\d_world_terrain.c:29:        return -(i32)((av >> shift) + add);
source\domino\world\d_world_terrain.c:38:        q32_32 nv = (q32_32)(-v);
source\domino\world\d_world_terrain.c:44:        return -ip;
source\domino\world\d_world_terrain.c:51:    /* [-128..127] scaled to ~[-32..+31.75] meters in Q16.16 */
source\domino\world\d_world_terrain.c:52:    r -= 128;
source\domino\world\d_world_terrain.c:81:        return -1;
source\domino\world\d_world_terrain.c:86:    frac_x = (u32)(x - (((q32_32)x_floor) << Q32_32_FRAC_BITS));
source\domino\world\d_world_terrain.c:87:    frac_y = (u32)(y - (((q32_32)y_floor) << Q32_32_FRAC_BITS));
source\domino\world\d_world_terrain.c:91:    rem_x = x_floor - (cell_x * (i32)DWTERRAIN_CELL_SIZE);
source\domino\world\d_world_terrain.c:92:    rem_y = y_floor - (cell_y * (i32)DWTERRAIN_CELL_SIZE);
source\domino\world\d_world_terrain.c:101:    h00 = dwterrain_height_corner_q16(w->meta.seed, cell_x, cell_y);
source\domino\world\d_world_terrain.c:102:    h10 = dwterrain_height_corner_q16(w->meta.seed, cell_x + 1, cell_y);
source\domino\world\d_world_terrain.c:103:    h01 = dwterrain_height_corner_q16(w->meta.seed, cell_x, cell_y + 1);
source\domino\world\d_world_terrain.c:104:    h11 = dwterrain_height_corner_q16(w->meta.seed, cell_x + 1, cell_y + 1);
source\domino\world\d_world_terrain.c:106:    hx0 = (q16_16)((i64)h00 + (i64)dwterrain_q16_mul((q16_16)(h10 - h00), tx));
source\domino\world\d_world_terrain.c:107:    hx1 = (q16_16)((i64)h01 + (i64)dwterrain_q16_mul((q16_16)(h11 - h01), tx));
source\domino\world\d_world_terrain.c:108:    hxy = (q16_16)((i64)hx0 + (i64)dwterrain_q16_mul((q16_16)(hx1 - hx0), ty));
source\domino\world\d_world_terrain.c:110:    z = ((q32_32)hxy) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\net\d_net.c:18:        return -1;
source\domino\net\d_net.c:20:    out->ptr = (unsigned char *)0;
source\domino\net\d_net.c:21:    out->len = 0u;
source\domino\net\d_net.c:73:        return -1;
source\domino\net\d_net.c:79:    ctx->profile_id = profile_id;
source\domino\net\d_net.c:80:    ctx->local_player_id = 0u;
source\domino\net\d_net.c:81:    ctx->peer_count = 0u;
source\domino\net\d_net.c:89:    ctx->profile_id = 0u;
source\domino\net\d_net.c:90:    ctx->local_player_id = 0u;
source\domino\net\d_net.c:91:    ctx->peer_count = 0u;
source\domino\net\d_net.c:104:        return -1;
source\domino\net\d_net.c:107:        return -2;
source\domino\net\d_net.c:115:        return -3;
source\domino\world\d_worldgen.h:20:    /* Null-terminated list of provider_ids this provider depends on. */
source\domino\world\d_worldgen.c:14:    if (!prov || prov->id == 0u) {
source\domino\world\d_worldgen.c:16:        return -1;
source\domino\world\d_worldgen.c:19:        if (g_providers[i].id == prov->id) {
source\domino\world\d_worldgen.c:20:            fprintf(stderr, "d_worldgen_register: duplicate id %u\n", (unsigned int)prov->id);
source\domino\world\d_worldgen.c:21:            return -2;
source\domino\world\d_worldgen.c:26:        return -3;
source\domino\world\d_worldgen.c:38:    dep = prov->depends_on;
source\domino\world\d_worldgen.c:70:        return -1;
source\domino\world\d_worldgen.c:89:            if (prov->populate_chunk) {
source\domino\world\d_worldgen.c:90:                prov->populate_chunk(w, chunk);
source\domino\world\d_worldgen.c:98:            return -1;
source\domino\world\d_world.h:17:    q16_16 vertical_min;     /* e.g. -2000m */
source\domino\world\d_world.h:30:    /* Subsystems can attach their own per-chunk indices via their internal tables. */
source\domino\job\d_job.h:29:    d_tlv_blob         params;    /* additional parameters; template-specific */
source\domino\job\d_job.h:32:/* Generic flag bits (engine-level only). */
source\domino\world\d_world.c:15:        return -1;
source\domino\world\d_world.c:17:    if (capacity <= w->chunk_capacity) {
source\domino\world\d_world.c:20:    new_chunks = (d_chunk *)realloc(w->chunks, capacity * sizeof(d_chunk));
source\domino\world\d_world.c:22:        return -1;
source\domino\world\d_world.c:24:    old_cap = w->chunk_capacity;
source\domino\world\d_world.c:25:    w->chunks = new_chunks;
source\domino\world\d_world.c:26:    w->chunk_capacity = capacity;
source\domino\world\d_world.c:27:    if (w->chunk_capacity > old_cap) {
source\domino\world\d_world.c:29:        for (i = old_cap; i < w->chunk_capacity; ++i) {
source\domino\world\d_world.c:30:            memset(&w->chunks[i], 0, sizeof(d_chunk));
source\domino\world\d_world.c:45:        if (desc && desc->init_instance) {
source\domino\world\d_world.c:46:            desc->init_instance(w);
source\domino\world\d_world.c:65:    w->meta = *meta;
source\domino\world\d_world.c:66:    w->worldgen_seed = meta->seed;
source\domino\world\d_world.c:67:    w->chunks = (d_chunk *)0;
source\domino\world\d_world.c:68:    w->chunk_count = 0u;
source\domino\world\d_world.c:69:    w->chunk_capacity = 0u;
source\domino\world\d_world.c:70:    w->width = 0u;
source\domino\world\d_world.c:71:    w->height = 0u;
source\domino\world\d_world.c:72:    w->tick_count = 0u;
source\domino\world\d_world.c:73:    w->tile_type = (u16 *)0;
source\domino\world\d_world.c:74:    w->tile_height = (q24_8 *)0;
source\domino\world\d_world.c:75:    d_rng_seed(&w->rng, w->worldgen_seed);
source\domino\world\d_world.c:91:    if (w->tile_type) {
source\domino\world\d_world.c:92:        free(w->tile_type);
source\domino\world\d_world.c:93:        w->tile_type = (u16 *)0;
source\domino\world\d_world.c:95:    if (w->tile_height) {
source\domino\world\d_world.c:96:        free(w->tile_height);
source\domino\world\d_world.c:97:        w->tile_height = (q24_8 *)0;
source\domino\world\d_world.c:99:    if (w->chunks) {
source\domino\world\d_world.c:100:        free(w->chunks);
source\domino\world\d_world.c:101:        w->chunks = (d_chunk *)0;
source\domino\world\d_world.c:108:    if (!w || !w->chunks) {
source\domino\world\d_world.c:111:    for (i = 0u; i < w->chunk_count; ++i) {
source\domino\world\d_world.c:112:        if (w->chunks[i].cx == cx && w->chunks[i].cy == cy) {
source\domino\world\d_world.c:113:            return &w->chunks[i];
source\domino\world\d_world.c:133:    if (w->chunk_count == 0xFFFFFFFFu) {
source\domino\world\d_world.c:136:    if (w->chunk_count >= w->chunk_capacity) {
source\domino\world\d_world.c:137:        new_cap = w->chunk_capacity ? (w->chunk_capacity * 2u) : 8u;
source\domino\world\d_world.c:144:    chunk = &w->chunks[w->chunk_count];
source\domino\world\d_world.c:146:    new_id = w->chunk_count + 1u;
source\domino\world\d_world.c:147:    chunk->chunk_id = new_id;
source\domino\world\d_world.c:148:    chunk->cx = cx;
source\domino\world\d_world.c:149:    chunk->cy = cy;
source\domino\world\d_world.c:150:    chunk->flags = 0u;
source\domino\world\d_world.c:151:    w->chunk_count += 1u;
source\domino\world\d_world.c:155:        w->chunk_count -= 1u;
source\domino\world\d_world.c:165:        return -1;
source\domino\job\d_job.c:31:    return ((q32_32)v) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\job\d_job.c:40:        return -1;
source\domino\job\d_job.c:43:    out->min_v = (q16_16)0x80000000;
source\domino\job\d_job.c:44:    out->max_v = (q16_16)0x7FFFFFFF;
source\domino\job\d_job.c:45:    if (!in || !in->ptr || in->len == 0u) {
source\domino\job\d_job.c:52:            (void)d_tlv_kv_read_u16(&payload, &out->field_id);
source\domino\job\d_job.c:55:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_v);
source\domino\job\d_job.c:58:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_v);
source\domino\job\d_job.c:64:    if (out->max_v < out->min_v) {
source\domino\job\d_job.c:65:        q16_16 tmp = out->min_v; out->min_v = out->max_v; out->max_v = tmp;
source\domino\job\d_job.c:80:    if (!params || !params->ptr || params->len == 0u) {
source\domino\job\d_job.c:105:        if (samples[i].field_id == req->field_id) {
source\domino\job\d_job.c:107:            if (v < req->min_v || v > req->max_v) {
source\domino\job\d_job.c:148:    slot->world = w;
source\domino\job\d_job.c:149:    slot->inst.id = g_job_next_id++;
source\domino\job\d_job.c:150:    slot->inst.template_id = template_id;
source\domino\job\d_job.c:151:    slot->inst.flags = 0u;
source\domino\job\d_job.c:152:    slot->inst.subject_entity_id = 0u;
source\domino\job\d_job.c:153:    slot->inst.target_entity_id = 0u;
source\domino\job\d_job.c:154:    slot->inst.target_x = x;
source\domino\job\d_job.c:155:    slot->inst.target_y = y;
source\domino\job\d_job.c:156:    slot->inst.target_z = z;
source\domino\job\d_job.c:157:    slot->inst.params.ptr = (unsigned char *)0;
source\domino\job\d_job.c:158:    slot->inst.params.len = 0u;
source\domino\job\d_job.c:159:    slot->in_use = 1;
source\domino\job\d_job.c:160:    return slot->inst.id;
source\domino\job\d_job.c:169:        return -1;
source\domino\job\d_job.c:171:    if (entry->inst.params.ptr) {
source\domino\job\d_job.c:172:        free(entry->inst.params.ptr);
source\domino\job\d_job.c:199:            req_count = djob_collect_env_reqs(&tmpl->params, reqs, 8u);
source\domino\job\d_job.c:231:        return -1;
source\domino\job\d_job.c:233:    out->ptr = (unsigned char *)0;
source\domino\job\d_job.c:234:    out->len = 0u;
source\domino\job\d_job.c:257:        return -1;
source\domino\job\d_job.c:270:        out->ptr = (unsigned char *)0;
source\domino\job\d_job.c:271:        out->len = 0u;
source\domino\job\d_job.c:276:        return -1;
source\domino\job\d_job.c:310:    out->ptr = buf;
source\domino\job\d_job.c:311:    out->len = (u32)(dst - buf);
source\domino\job\d_job.c:322:        return -1;
source\domino\job\d_job.c:324:    if (in->len == 0u) {
source\domino\job\d_job.c:327:    if (!in->ptr || in->len < 4u) {
source\domino\job\d_job.c:328:        return -1;
source\domino\job\d_job.c:331:    ptr = in->ptr;
source\domino\job\d_job.c:332:    remaining = in->len;
source\domino\job\d_job.c:335:    remaining -= 4u;
source\domino\job\d_job.c:344:            return -1;
source\domino\job\d_job.c:365:        remaining -= sizeof(d_job_instance_id) + sizeof(d_job_template_id) + sizeof(u32) * 4u + sizeof(q16_16) * 3u;
source\domino\job\d_job.c:371:                return -1;
source\domino\job\d_job.c:375:                return -1;
source\domino\job\d_job.c:379:            remaining -= params_len;
source\domino\job\d_job.c:392:            return -1;
source\domino\job\d_job.c:395:        entry->world = w;
source\domino\job\d_job.c:396:        entry->inst = inst;
source\domino\job\d_job.c:397:        entry->in_use = 1;
source\domino\job\d_job.c:418:    /* No job-specific model family yet. */
source\domino\mod\instance.c:19:        char c = s[len - 1];
source\domino\mod\instance.c:21:            s[len - 1] = '\0';
source\domino\mod\instance.c:22:            --len;
source\domino\mod\instance.c:47:    len = (size_t)(p - start);
source\domino\mod\instance.c:48:    if (len >= cap) len = cap - 1;
source\domino\mod\instance.c:80:            len = (size_t)(p - start);
source\domino\mod\instance.c:81:            if (len >= sizeof(entries[0])) len = sizeof(entries[0]) - 1;
source\domino\mod\instance.c:98:    if (!path || !out) return -1;
source\domino\mod\instance.c:100:    if (!f) return -1;
source\domino\mod\instance.c:116:    strncpy(inst.root_path, path, sizeof(inst.root_path) - 1);
source\domino\mod\instance.c:117:    inst.root_path[sizeof(inst.root_path) - 1] = '\0';
source\domino\mod\instance.c:126:    if (!path || !inst) return -1;
source\domino\mod\instance.c:128:    if (!f) return -1;
source\domino\mod\instance.c:129:    fprintf(f, "id = \"%s\"\n", inst->id);
source\domino\mod\instance.c:130:    fprintf(f, "label = \"%s\"\n", inst->label);
source\domino\mod\instance.c:131:    fprintf(f, "product_id = \"%s\"\n", inst->product_id);
source\domino\mod\instance.c:133:            inst->product_version.major,
source\domino\mod\instance.c:134:            inst->product_version.minor,
source\domino\mod\instance.c:135:            inst->product_version.patch);
source\domino\mod\instance.c:137:    for (i = 0; i < inst->mod_count; ++i) {
source\domino\mod\instance.c:138:        fprintf(f, "\"%s\"%s", inst->mods_enabled[i],
source\domino\mod\instance.c:139:                (i + 1 < inst->mod_count) ? ", " : "");
source\domino\mod\instance.c:143:    for (i = 0; i < inst->pack_count; ++i) {
source\domino\mod\instance.c:144:        fprintf(f, "\"%s\"%s", inst->packs_enabled[i],
source\domino\mod\instance.c:145:                (i + 1 < inst->pack_count) ? ", " : "");
source\domino\mod\instance.c:157:    if (!err || !err->message) return;
source\domino\mod\instance.c:158:    err->message[0] = '\0';
source\domino\mod\instance.c:160:        strncpy(err->message, prefix, sizeof(err->message) - 1);
source\domino\mod\instance.c:161:        err->message[sizeof(err->message) - 1] = '\0';
source\domino\mod\instance.c:163:    len = strlen(err->message);
source\domino\mod\instance.c:164:    if (id && len + 1 < sizeof(err->message)) {
source\domino\mod\instance.c:165:        if (len > 0 && err->message[len - 1] != ' ') {
source\domino\mod\instance.c:166:            err->message[len++] = ' ';
source\domino\mod\instance.c:167:            err->message[len] = '\0';
source\domino\mod\instance.c:169:        strncat(err->message, id, sizeof(err->message) - len - 1);
source\domino\mod\instance.c:179:        memset(out_err->message, 0, sizeof(out_err->message));
source\domino\mod\instance.c:181:    if (!reg || !inst) return -1;
source\domino\mod\instance.c:182:    for (i = 0; i < inst->mod_count; ++i) {
source\domino\mod\instance.c:183:        const domino_package_desc* pkg = domino_package_registry_find(reg, inst->mods_enabled[i]);
source\domino\mod\instance.c:185:            domino_set_error(out_err, "Missing mod:", inst->mods_enabled[i]);
source\domino\mod\instance.c:186:            return -1;
source\domino\mod\instance.c:190:    for (i = 0; i < inst->pack_count; ++i) {
source\domino\mod\instance.c:191:        const domino_package_desc* pkg = domino_package_registry_find(reg, inst->packs_enabled[i]);
source\domino\mod\instance.c:193:            domino_set_error(out_err, "Missing pack:", inst->packs_enabled[i]);
source\domino\mod\instance.c:194:            return -1;
source\domino\world\d_serialize.c:19:    b->data = (unsigned char *)0;
source\domino\world\d_serialize.c:20:    b->length = 0u;
source\domino\world\d_serialize.c:21:    b->capacity = 0u;
source\domino\world\d_serialize.c:28:    if (b->data) {
source\domino\world\d_serialize.c:29:        free(b->data);
source\domino\world\d_serialize.c:31:    b->data = (unsigned char *)0;
source\domino\world\d_serialize.c:32:    b->length = 0u;
source\domino\world\d_serialize.c:33:    b->capacity = 0u;
source\domino\world\d_serialize.c:41:        return -1;
source\domino\world\d_serialize.c:43:    if (extra > 0xFFFFFFFFu - b->length) {
source\domino\world\d_serialize.c:44:        return -1;
source\domino\world\d_serialize.c:46:    needed = b->length + extra;
source\domino\world\d_serialize.c:47:    if (needed <= b->capacity) {
source\domino\world\d_serialize.c:50:    new_cap = b->capacity ? b->capacity : 256u;
source\domino\world\d_serialize.c:58:    new_data = (unsigned char *)realloc(b->data, new_cap);
source\domino\world\d_serialize.c:60:        return -1;
source\domino\world\d_serialize.c:62:    b->data = new_data;
source\domino\world\d_serialize.c:63:    b->capacity = new_cap;
source\domino\world\d_serialize.c:73:    memcpy(b->data + b->length, &tag, sizeof(u32));
source\domino\world\d_serialize.c:74:    b->length += 4u;
source\domino\world\d_serialize.c:75:    memcpy(b->data + b->length, &payload_len, sizeof(u32));
source\domino\world\d_serialize.c:76:    b->length += 4u;
source\domino\world\d_serialize.c:78:        memcpy(b->data + b->length, payload, payload_len);
source\domino\world\d_serialize.c:79:        b->length += payload_len;
source\domino\world\d_serialize.c:81:        return -1;
source\domino\world\d_serialize.c:128:        return -1;
source\domino\world\d_serialize.c:144:            if (!desc->save_chunk) {
source\domino\world\d_serialize.c:149:            rc = desc->save_chunk(w, chunk, &payload);
source\domino\world\d_serialize.c:151:            if (!desc->save_instance) {
source\domino\world\d_serialize.c:156:            rc = desc->save_instance(w, &payload);
source\domino\world\d_serialize.c:164:        tag = d_tag_for_subsystem(desc->subsystem_id);
source\domino\world\d_serialize.c:166:            fprintf(stderr, "d_serialize: unknown tag for subsystem %u\n", (unsigned int)desc->subsystem_id);
source\domino\world\d_serialize.c:168:            return -1;
source\domino\world\d_serialize.c:171:            fprintf(stderr, "d_serialize: subsystem %u returned null payload\n", (unsigned int)desc->subsystem_id);
source\domino\world\d_serialize.c:173:            return -1;
source\domino\world\d_serialize.c:182:    out->ptr = builder.data;
source\domino\world\d_serialize.c:183:    out->len = builder.length;
source\domino\world\d_serialize.c:190:        return -1;
source\domino\world\d_serialize.c:192:    if (!in->ptr || in->len == 0u) {
source\domino\world\d_serialize.c:197:    while (offset < in->len) {
source\domino\world\d_serialize.c:198:        u32 remaining = in->len - offset;
source\domino\world\d_serialize.c:208:            return -1;
source\domino\world\d_serialize.c:211:        memcpy(&tag, in->ptr + offset, sizeof(u32));
source\domino\world\d_serialize.c:212:        memcpy(&len, in->ptr + offset + 4u, sizeof(u32));
source\domino\world\d_serialize.c:215:        if (len > in->len - offset) {
source\domino\world\d_serialize.c:217:            return -1;
source\domino\world\d_serialize.c:220:        payload.ptr = (unsigned char *)(in->ptr + offset);
source\domino\world\d_serialize.c:234:            if (!desc->load_chunk) {
source\domino\world\d_serialize.c:239:                rc = desc->load_chunk(w, chunk, &payload_view);
source\domino\world\d_serialize.c:242:            if (!desc->load_instance) {
source\domino\world\d_serialize.c:247:                rc = desc->load_instance(w, &payload_view);
source\domino\world\d_litho_validate.c:16:    if (!payload || payload->len == 0u) {
source\domino\world\d_litho_validate.c:19:    if (!payload->ptr || payload->len < 4u) {
source\domino\world\d_litho_validate.c:20:        return -1;
source\domino\world\d_litho_validate.c:23:    ptr = payload->ptr;
source\domino\world\d_litho_validate.c:24:    remaining = payload->len;
source\domino\world\d_litho_validate.c:28:    remaining -= 4u;
source\domino\world\d_litho_validate.c:31:        return -1;
source\domino\world\d_litho_validate.c:39:            return -1;
source\domino\world\d_litho_validate.c:43:        remaining -= sizeof(u16);
source\domino\world\d_litho_validate.c:46:            return -1;
source\domino\world\d_litho_validate.c:51:            return -1;
source\domino\world\d_litho_validate.c:60:            remaining -= sizeof(d_material_id) + sizeof(q16_16);
source\domino\world\d_litho_validate.c:64:                return -1;
source\domino\world\d_litho_validate.c:75:        return -1;
source\domino\world\d_litho_validate.c:77:    for (i = 0u; i < w->chunk_count; ++i) {
source\domino\world\d_litho_validate.c:86:        if (d_serialize_save_chunk_all((d_world *)w, (d_chunk *)&w->chunks[i], &blob) != 0) {
source\domino\world\d_litho_validate.c:88:            return -1;
source\domino\world\d_litho_validate.c:100:                    return -1;
source\domino\world\d_litho_validate.c:107:            return -1;
source\domino\world\d_litho_validate.c:116:        return -1;
source\domino\world\d_litho_validate.c:120:        return -1;
source\domino\world\d_litho.c:62:    entry->world = w;
source\domino\world\d_litho.c:63:    entry->chunk = chunk;
source\domino\world\d_litho.c:75:    /* Pick among solid-tagged materials, fall back to first. */
source\domino\world\d_litho.c:84:            if ((m->tags & D_TAG_MATERIAL_SOLID) == 0u) {
source\domino\world\d_litho.c:88:                picked = m->id;
source\domino\world\d_litho.c:98:        return m0 ? m0->id : 0u;
source\domino\world\d_litho.c:114:            u32 h = dlitho_hash_u32(w->meta.seed, chunk->cx, chunk->cy, x, y);
source\domino\world\d_litho.c:116:            d_world_layers *col = &entry->columns[y * D_LITHO_GRID_RES + x];
source\domino\world\d_litho.c:118:            col->layer_count = 1u;
source\domino\world\d_litho.c:119:            col->layers[0].material_id = top;
source\domino\world\d_litho.c:120:            col->layers[0].thickness = d_q16_16_from_int(1024);
source\domino\world\d_litho.c:143:        return -1;
source\domino\world\d_litho.c:171:    *out_layers = entry->columns[idx];
source\domino\world\d_litho.c:188:        return -1;
source\domino\world\d_litho.c:192:        out->ptr = (unsigned char *)0;
source\domino\world\d_litho.c:193:        out->len = 0u;
source\domino\world\d_litho.c:201:        return -1;
source\domino\world\d_litho.c:212:        u16 lc = entry->columns[i].layer_count;
source\domino\world\d_litho.c:217:            d_material_id mid = entry->columns[i].layers[l].material_id;
source\domino\world\d_litho.c:218:            q16_16 th = entry->columns[i].layers[l].thickness;
source\domino\world\d_litho.c:224:    out->ptr = buf;
source\domino\world\d_litho.c:225:    out->len = (u32)(dst - buf);
source\domino\world\d_litho.c:241:        return -1;
source\domino\world\d_litho.c:243:    if (in->len == 0u) {
source\domino\world\d_litho.c:246:    if (!in->ptr || in->len < 4u) {
source\domino\world\d_litho.c:247:        return -1;
source\domino\world\d_litho.c:250:    ptr = in->ptr;
source\domino\world\d_litho.c:251:    remaining = in->len;
source\domino\world\d_litho.c:254:    remaining -= 4u;
source\domino\world\d_litho.c:256:        return -1;
source\domino\world\d_litho.c:261:        return -1;
source\domino\world\d_litho.c:269:            return -1;
source\domino\world\d_litho.c:273:        remaining -= sizeof(u16);
source\domino\world\d_litho.c:274:        entry->columns[i].layer_count = lc;
source\domino\world\d_litho.c:276:            memcpy(&entry->columns[i].layers[l].material_id, ptr, sizeof(d_material_id));
source\domino\world\d_litho.c:278:            memcpy(&entry->columns[i].layers[l].thickness, ptr, sizeof(q16_16));
source\domino\world\d_litho.c:280:            remaining -= sizeof(d_material_id) + sizeof(q16_16);
source\domino\world\d_litho.c:290:        return -1;
source\domino\world\d_litho.c:292:    out->ptr = (unsigned char *)0;
source\domino\world\d_litho.c:293:    out->len = 0u;
source\domino\mod\host\mod_stub.c:8:    ctx->placeholder = 0;
source\domino\mod\package_registry.c:26:        char c = dst[i - 1];
source\domino\mod\package_registry.c:40:    memset(reg->packages, 0, sizeof(reg->packages));
source\domino\mod\package_registry.c:41:    reg->package_count = 0;
source\domino\mod\package_registry.c:63:    reg->sys = sys;
source\domino\mod\package_registry.c:70:    if (!reg || !desc || !desc->id[0]) return -1;
source\domino\mod\package_registry.c:71:    for (i = 0; i < reg->package_count; ++i) {
source\domino\mod\package_registry.c:72:        if (strcmp(reg->packages[i].id, desc->id) == 0) {
source\domino\mod\package_registry.c:73:            if (domino_semver_compare(&reg->packages[i].version, &desc->version) < 0) {
source\domino\mod\package_registry.c:74:                reg->packages[i] = *desc;
source\domino\mod\package_registry.c:79:    if (reg->package_count >= DOMINO_MAX_PACKAGES) {
source\domino\mod\package_registry.c:80:        return -1;
source\domino\mod\package_registry.c:82:    reg->packages[reg->package_count++] = *desc;
source\domino\mod\package_registry.c:95:    if (!reg || !reg->sys) return -1;
source\domino\mod\package_registry.c:97:    it = domino_sys_dir_open(reg->sys, container_path);
source\domino\mod\package_registry.c:99:    while (domino_sys_dir_next(reg->sys, it, entry_name, sizeof(entry_name), &is_dir)) {
source\domino\mod\package_registry.c:116:                strncpy(desc.id, entry_name, sizeof(desc.id) - 1);
source\domino\mod\package_registry.c:117:                desc.id[sizeof(desc.id) - 1] = '\0';
source\domino\mod\package_registry.c:124:        strncpy(desc.path, pkg_path, sizeof(desc.path) - 1);
source\domino\mod\package_registry.c:125:        desc.path[sizeof(desc.path) - 1] = '\0';
source\domino\mod\package_registry.c:128:    domino_sys_dir_close(reg->sys, it);
source\domino\mod\package_registry.c:137:    if (!reg || !roots || root_count == 0) return -1;
source\domino\mod\package_registry.c:138:    if (!reg->sys) return -1;
source\domino\mod\package_registry.c:154:    if (!reg || !fn) return -1;
source\domino\mod\package_registry.c:155:    for (i = 0; i < reg->package_count; ++i) {
source\domino\mod\package_registry.c:156:        if (fn(&reg->packages[i], user) != 0) {
source\domino\mod\package_registry.c:168:    for (i = 0; i < reg->package_count; ++i) {
source\domino\mod\package_registry.c:169:        if (strcmp(reg->packages[i].id, id) == 0) {
source\domino\mod\package_registry.c:170:            return &reg->packages[i];
source\domino\render\dx\dx9\dom_render_dx9.c:40:    out_caps->supports_textures = 1;
source\domino\render\dx\dx9\dom_render_dx9.c:41:    out_caps->supports_blending = 1;
source\domino\render\dx\dx9\dom_render_dx9.c:42:    out_caps->supports_linear_filter = 1;
source\domino\render\dx\dx9\dom_render_dx9.c:43:    out_caps->supports_aniso = 0;
source\domino\render\dx\dx9\dom_render_dx9.c:51:    r->config = *cfg;
source\domino\render\dx\dx9\dom_render_dx9.c:52:    r->mode = cfg->mode;
source\domino\render\dx\dx9\dom_render_dx9.c:53:    r->width = cfg->width;
source\domino\render\dx\dx9\dom_render_dx9.c:54:    r->height = cfg->height;
source\domino\render\dx\dx9\dom_render_dx9.c:56:    hwnd = (HWND)cfg->platform_window;
source\domino\render\dx\dx9\dom_render_dx9.c:57:    st->d3d = Direct3DCreate9(D3D_SDK_VERSION);
source\domino\render\dx\dx9\dom_render_dx9.c:58:    if (!st->d3d) {
source\domino\render\dx\dx9\dom_render_dx9.c:63:    memset(&st->pp, 0, sizeof(st->pp));
source\domino\render\dx\dx9\dom_render_dx9.c:64:    st->pp.Windowed = TRUE;
source\domino\render\dx\dx9\dom_render_dx9.c:65:    st->pp.SwapEffect = D3DSWAPEFFECT_DISCARD;
source\domino\render\dx\dx9\dom_render_dx9.c:66:    st->pp.BackBufferFormat = D3DFMT_X8R8G8B8;
source\domino\render\dx\dx9\dom_render_dx9.c:67:    st->pp.BackBufferWidth = r->width;
source\domino\render\dx\dx9\dom_render_dx9.c:68:    st->pp.BackBufferHeight = r->height;
source\domino\render\dx\dx9\dom_render_dx9.c:69:    st->pp.PresentationInterval = D3DPRESENT_INTERVAL_IMMEDIATE;
source\domino\render\dx\dx9\dom_render_dx9.c:72:        st->d3d,
source\domino\render\dx\dx9\dom_render_dx9.c:77:        &st->pp,
source\domino\render\dx\dx9\dom_render_dx9.c:78:        &st->device);
source\domino\render\dx\dx9\dom_render_dx9.c:80:    if (FAILED(hr) || !st->device) {
source\domino\render\dx\dx9\dom_render_dx9.c:81:        IDirect3D9_Release(st->d3d);
source\domino\render\dx\dx9\dom_render_dx9.c:86:    r->backend_state = st;
source\domino\render\dx\dx9\dom_render_dx9.c:93:    if (!r || !r->backend_state) {
source\domino\render\dx\dx9\dom_render_dx9.c:96:    st = (DomRenderDX9State *)r->backend_state;
source\domino\render\dx\dx9\dom_render_dx9.c:97:    if (st->device) {
source\domino\render\dx\dx9\dom_render_dx9.c:98:        IDirect3DDevice9_Release(st->device);
source\domino\render\dx\dx9\dom_render_dx9.c:100:    if (st->d3d) {
source\domino\render\dx\dx9\dom_render_dx9.c:101:        IDirect3D9_Release(st->d3d);
source\domino\render\dx\dx9\dom_render_dx9.c:104:    r->backend_state = 0;
source\domino\render\dx\dx9\dom_render_dx9.c:112:    if (!r || !r->backend_state) {
source\domino\render\dx\dx9\dom_render_dx9.c:116:    st = (DomRenderDX9State *)r->backend_state;
source\domino\render\dx\dx9\dom_render_dx9.c:117:    st->pp.BackBufferWidth = w;
source\domino\render\dx\dx9\dom_render_dx9.c:118:    st->pp.BackBufferHeight = h;
source\domino\render\dx\dx9\dom_render_dx9.c:120:    if (!st->device) {
source\domino\render\dx\dx9\dom_render_dx9.c:124:    hr = IDirect3DDevice9_Reset(st->device, &st->pp);
source\domino\render\dx\dx9\dom_render_dx9.c:153:    float x0 = (float)rc->rect.x;
source\domino\render\dx\dx9\dom_render_dx9.c:154:    float y0 = (float)rc->rect.y;
source\domino\render\dx\dx9\dom_render_dx9.c:155:    float x1 = (float)(rc->rect.x + rc->rect.w);
source\domino\render\dx\dx9\dom_render_dx9.c:156:    float y1 = (float)(rc->rect.y + rc->rect.h);
source\domino\render\dx\dx9\dom_render_dx9.c:157:    D3DCOLOR c = (D3DCOLOR)rc->color;
source\domino\render\dx\dx9\dom_render_dx9.c:168:    if (poly->count < 2) {
source\domino\render\dx\dx9\dom_render_dx9.c:171:    for (i = 0; i < poly->count; ++i) {
source\domino\render\dx\dx9\dom_render_dx9.c:172:        DomVec2i a = poly->pts[i];
source\domino\render\dx\dx9\dom_render_dx9.c:173:        DomVec2i b = poly->pts[(i + 1u) % poly->count];
source\domino\render\dx\dx9\dom_render_dx9.c:174:        dom_dx9_draw_line(dev, (float)a.x, (float)a.y, (float)b.x, (float)b.y, (D3DCOLOR)poly->color);
source\domino\render\dx\dx9\dom_render_dx9.c:198:    if (!r || !r->backend_state) {
source\domino\render\dx\dx9\dom_render_dx9.c:205:    st = (DomRenderDX9State *)r->backend_state;
source\domino\render\dx\dx9\dom_render_dx9.c:206:    if (!st->device) {
source\domino\render\dx\dx9\dom_render_dx9.c:210:    IDirect3DDevice9_Clear(st->device, 0, NULL, D3DCLEAR_TARGET, (D3DCOLOR)r->state.clear_color, 1.0f, 0);
source\domino\render\dx\dx9\dom_render_dx9.c:212:    if (FAILED(IDirect3DDevice9_BeginScene(st->device))) {
source\domino\render\dx\dx9\dom_render_dx9.c:216:    IDirect3DDevice9_SetFVF(st->device, DOM_DX9_FVF);
source\domino\render\dx\dx9\dom_render_dx9.c:220:        switch (cmd->type) {
source\domino\render\dx\dx9\dom_render_dx9.c:222:            dom_dx9_draw_line(st->device,
source\domino\render\dx\dx9\dom_render_dx9.c:223:                              (float)cmd->u.line.x0, (float)cmd->u.line.y0,
source\domino\render\dx\dx9\dom_render_dx9.c:224:                              (float)cmd->u.line.x1, (float)cmd->u.line.y1,
source\domino\render\dx\dx9\dom_render_dx9.c:225:                              (D3DCOLOR)cmd->u.line.color);
source\domino\render\dx\dx9\dom_render_dx9.c:228:            dom_dx9_draw_rect(st->device, &cmd->u.rect);
source\domino\render\dx\dx9\dom_render_dx9.c:231:            dom_dx9_draw_poly(st->device, &cmd->u.poly);
source\domino\render\dx\dx9\dom_render_dx9.c:235:            /* Vector-only path draws placeholders instead of sampling textures. */
source\domino\render\dx\dx9\dom_render_dx9.c:236:            if (r->mode == DOM_RENDER_MODE_VECTOR_ONLY || !r->caps.supports_textures) {
source\domino\render\dx\dx9\dom_render_dx9.c:237:                dom_dx9_draw_placeholder_sprite(st->device,
source\domino\render\dx\dx9\dom_render_dx9.c:238:                                                cmd->u.sprite.x,
source\domino\render\dx\dx9\dom_render_dx9.c:239:                                                cmd->u.sprite.y,
source\domino\render\dx\dx9\dom_render_dx9.c:240:                                                (D3DCOLOR)r->state.default_color);
source\domino\render\dx\dx9\dom_render_dx9.c:244:            dom_dx9_draw_placeholder_sprite(st->device,
source\domino\render\dx\dx9\dom_render_dx9.c:245:                                            cmd->u.sprite.x,
source\domino\render\dx\dx9\dom_render_dx9.c:246:                                            cmd->u.sprite.y,
source\domino\render\dx\dx9\dom_render_dx9.c:247:                                            (D3DCOLOR)r->state.default_color);
source\domino\render\dx\dx9\dom_render_dx9.c:255:    IDirect3DDevice9_EndScene(st->device);
source\domino\render\dx\dx9\dom_render_dx9.c:261:    if (!r || !r->backend_state) {
source\domino\render\dx\dx9\dom_render_dx9.c:264:    st = (DomRenderDX9State *)r->backend_state;
source\domino\render\dx\dx9\dom_render_dx9.c:265:    if (!st->device) {
source\domino\render\dx\dx9\dom_render_dx9.c:268:    IDirect3DDevice9_Present(st->device, NULL, NULL, NULL, NULL);
source\domino\mod\domino_semver.c:11:    if (!str || !out_value) return -1;
source\domino\mod\domino_semver.c:13:        value = value * 10 + (*p - '0');
source\domino\mod\domino_semver.c:17:    if (digits == 0) return -1;
source\domino\mod\domino_semver.c:19:    return (int)(p - str);
source\domino\mod\domino_semver.c:26:    if (!str || !out) return -1;
source\domino\mod\domino_semver.c:29:    len1 = domino_parse_component(p, &out->major);
source\domino\mod\domino_semver.c:30:    if (len1 <= 0 || p[len1] != '.') return -1;
source\domino\mod\domino_semver.c:32:    len2 = domino_parse_component(p, &out->minor);
source\domino\mod\domino_semver.c:33:    if (len2 <= 0 || p[len2] != '.') return -1;
source\domino\mod\domino_semver.c:35:    if (domino_parse_component(p, &out->patch) <= 0) return -1;
source\domino\mod\domino_semver.c:42:    if (a->major != b->major) return (a->major < b->major) ? -1 : 1;
source\domino\mod\domino_semver.c:43:    if (a->minor != b->minor) return (a->minor < b->minor) ? -1 : 1;
source\domino\mod\domino_semver.c:44:    if (a->patch != b->patch) return (a->patch < b->patch) ? -1 : 1;
source\domino\mod\domino_semver.c:52:    if (range->has_min) {
source\domino\mod\domino_semver.c:53:        if (domino_semver_compare(v, &range->min_version) < 0) return 0;
source\domino\mod\domino_semver.c:55:    if (range->has_max) {
source\domino\mod\domino_semver.c:56:        if (domino_semver_compare(v, &range->max_version) > 0) return 0;
source\domino\mod\manifest_io.c:20:        char c = s[len - 1];
source\domino\mod\manifest_io.c:22:            s[len - 1] = '\0';
source\domino\mod\manifest_io.c:23:            --len;
source\domino\mod\manifest_io.c:47:    len = (size_t)(p - start);
source\domino\mod\manifest_io.c:48:    if (len >= cap) len = cap - 1;
source\domino\mod\manifest_io.c:68:        value = value * 10 + (*p - '0');
source\domino\mod\manifest_io.c:83:    if (!path || !out) return -1;
source\domino\mod\manifest_io.c:85:    if (!f) return -1;
source\domino\mod\manifest_io.c:103:    if (!desc.id[0]) return -1;
source\domino\content\d_content_extra.h:1:/* Shared TLV parameter tags for data-driven content (C89). */
source\domino\content\d_content_extra.h:37:    /* Generic spline/pipe attachment ports (domain-agnostic). */
source\domino\content\d_content_extra.h:59:#define D_TLV_ENV_EDGE_A                  0x01u  /* u16 (1-based local volume index) */
source\domino\content\d_content_extra.h:60:#define D_TLV_ENV_EDGE_B                  0x02u  /* u16 (1-based local volume index, 0 = exterior) */
source\domino\view\d_view.h:45: * - Fills cmd_buffer with dgfx IR commands for the given world and view.
source\domino\view\d_view.h:46: * - Does NOT submit or present; that is done by a higher layer.
source\domino\content\d_content.h:63:    /* Optional terrain/environment parameters (unit interpretation is model-specific). */
source\domino\content\d_content.h:87:    u16    slot_count;   /* 0 = bulk-only; >0 = slot-based */
source\domino\content\d_content.h:89:    /* Generic packing behavior; interpretation is data-driven. */
source\domino\content\d_content.h:111:    d_tlv_blob   model_params;  /* per-model param blob */
source\domino\view\d_view.c:31:    out->x = d_view_q16_mul_int(view->vp_x, width);
source\domino\view\d_view.c:32:    out->y = d_view_q16_mul_int(view->vp_y, height);
source\domino\view\d_view.c:33:    out->w = d_view_q16_mul_int(view->vp_w, width);
source\domino\view\d_view.c:34:    out->h = d_view_q16_mul_int(view->vp_h, height);
source\domino\view\d_view.c:35:    if (out->w <= 0) out->w = width;
source\domino\view\d_view.c:36:    if (out->h <= 0) out->h = height;
source\domino\view\d_view.c:69:            if (i != g_view_count - 1u) {
source\domino\view\d_view.c:70:                g_views[i] = g_views[g_view_count - 1u];
source\domino\view\d_view.c:72:            g_view_count -= 1u;
source\domino\view\d_view.c:76:    return -1;
source\domino\view\d_view.c:98:    if (!view || !frame || !frame->cmd_buffer) {
source\domino\view\d_view.c:99:        return -1;
source\domino\view\d_view.c:102:    frame->view = view;
source\domino\view\d_view.c:103:    frame->cmd_buffer->count = 0u;
source\domino\view\d_view.c:109:    d_gfx_cmd_clear(frame->cmd_buffer, clear_color);
source\domino\view\d_view.c:112:    d_gfx_cmd_set_viewport(frame->cmd_buffer, &vp);
source\domino\view\d_view.c:115:        cam.pos_x = view->camera.pos_x;
source\domino\view\d_view.c:116:        cam.pos_y = view->camera.pos_y;
source\domino\view\d_view.c:117:        cam.pos_z = view->camera.pos_z;
source\domino\view\d_view.c:118:        cam.dir_x = view->camera.dir_x;
source\domino\view\d_view.c:119:        cam.dir_y = view->camera.dir_y;
source\domino\view\d_view.c:120:        cam.dir_z = view->camera.dir_z;
source\domino\view\d_view.c:121:        cam.up_x = view->camera.up_x;
source\domino\view\d_view.c:122:        cam.up_y = view->camera.up_y;
source\domino\view\d_view.c:123:        cam.up_z = view->camera.up_z;
source\domino\view\d_view.c:124:        cam.fov = view->camera.fov;
source\domino\view\d_view.c:125:        d_gfx_cmd_set_camera(frame->cmd_buffer, &cam);
source\domino\content\d_content_schema.h:23:/* Field tags per schema (all 32-bit tags). */
source\domino\content\d_content_validate.c:45:        if (!m || m->id == 0u || !validate_name(m->name)) {
source\domino\content\d_content_validate.c:47:            return -1;
source\domino\content\d_content_validate.c:49:        if (m->permeability < 0 || m->permeability > d_q16_16_from_int(1)) {
source\domino\content\d_content_validate.c:50:            fprintf(stderr, "content validate: material %u permeability out of range\n", (unsigned)m->id);
source\domino\content\d_content_validate.c:51:            return -1;
source\domino\content\d_content_validate.c:53:        if (m->porosity < 0 || m->porosity > d_q16_16_from_int(1)) {
source\domino\content\d_content_validate.c:54:            fprintf(stderr, "content validate: material %u porosity out of range\n", (unsigned)m->id);
source\domino\content\d_content_validate.c:55:            return -1;
source\domino\content\d_content_validate.c:57:        if (m->thermal_conductivity < 0) {
source\domino\content\d_content_validate.c:58:            fprintf(stderr, "content validate: material %u thermal_conductivity negative\n", (unsigned)m->id);
source\domino\content\d_content_validate.c:59:            return -1;
source\domino\content\d_content_validate.c:61:        if (m->erosion_resistance < 0) {
source\domino\content\d_content_validate.c:62:            fprintf(stderr, "content validate: material %u erosion_resistance negative\n", (unsigned)m->id);
source\domino\content\d_content_validate.c:63:            return -1;
source\domino\content\d_content_validate.c:74:        if (!it || it->id == 0u || !validate_name(it->name)) {
source\domino\content\d_content_validate.c:76:            return -1;
source\domino\content\d_content_validate.c:78:        if (it->material_id != 0u && !d_content_get_material(it->material_id)) {
source\domino\content\d_content_validate.c:80:                    (unsigned)it->id, (unsigned)it->material_id);
source\domino\content\d_content_validate.c:81:            return -1;
source\domino\content\d_content_validate.c:92:        if (!dep || dep->id == 0u || !validate_name(dep->name)) {
source\domino\content\d_content_validate.c:94:            return -1;
source\domino\content\d_content_validate.c:96:        if (dep->material_id != 0u && !d_content_get_material(dep->material_id)) {
source\domino\content\d_content_validate.c:98:                    (unsigned)dep->id, (unsigned)dep->material_id);
source\domino\content\d_content_validate.c:99:            return -1;
source\domino\content\d_content_validate.c:110:        if (!st || st->id == 0u || !validate_name(st->name)) {
source\domino\content\d_content_validate.c:112:            return -1;
source\domino\content\d_content_validate.c:123:        if (!p || p->id == 0u || !validate_name(p->name)) {
source\domino\content\d_content_validate.c:125:            return -1;
source\domino\content\d_content_validate.c:136:        if (!c || c->id == 0u || !validate_name(c->name)) {
source\domino\content\d_content_validate.c:138:            return -1;
source\domino\content\d_content_validate.c:140:        if (c->max_volume < 0 || c->max_mass < 0) {
source\domino\content\d_content_validate.c:141:            fprintf(stderr, "content validate: container %u has negative limits\n", (unsigned)c->id);
source\domino\content\d_content_validate.c:142:            return -1;
source\domino\content\d_content_validate.c:153:        if (!sp || sp->id == 0u || !validate_name(sp->name)) {
source\domino\content\d_content_validate.c:155:            return -1;
source\domino\content\d_content_validate.c:157:        if (sp->base_speed < 0 || sp->max_grade < 0 || sp->capacity < 0) {
source\domino\content\d_content_validate.c:158:            fprintf(stderr, "content validate: spline profile %u has negative fields\n", (unsigned)sp->id);
source\domino\content\d_content_validate.c:159:            return -1;
source\domino\content\d_content_validate.c:170:        if (!bp || bp->id == 0u || !validate_name(bp->name)) {
source\domino\content\d_content_validate.c:172:            return -1;
source\domino\content\d_content_validate.c:179:    if (validate_materials() != 0) return -1;
source\domino\content\d_content_validate.c:180:    if (validate_items() != 0) return -1;
source\domino\content\d_content_validate.c:181:    if (validate_containers() != 0) return -1;
source\domino\content\d_content_validate.c:182:    if (validate_processes() != 0) return -1;
source\domino\content\d_content_validate.c:183:    if (validate_deposits() != 0) return -1;
source\domino\content\d_content_validate.c:184:    if (validate_structures() != 0) return -1;
source\domino\content\d_content_validate.c:185:    if (validate_spline_profiles() != 0) return -1;
source\domino\content\d_content_validate.c:186:    if (validate_blueprints() != 0) return -1;
source\domino\content\d_content_schema.c:16:        return -1;
source\domino\content\d_content_schema.c:18:    if (*offset >= blob->len) {
source\domino\content\d_content_schema.c:19:        return 1; /* end-of-blob */
source\domino\content\d_content_schema.c:22:    remaining = blob->len - *offset;
source\domino\content\d_content_schema.c:24:        return -1;
source\domino\content\d_content_schema.c:27:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\content\d_content_schema.c:28:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\content\d_content_schema.c:30:    if (len > blob->len - *offset) {
source\domino\content\d_content_schema.c:31:        return -1;
source\domino\content\d_content_schema.c:34:    payload->ptr = blob->ptr + *offset;
source\domino\content\d_content_schema.c:35:    payload->len = len;
source\domino\content\d_content_schema.c:43:        return -1;
source\domino\content\d_content_schema.c:45:    if (payload->len != 4u || payload->ptr == (unsigned char *)0) {
source\domino\content\d_content_schema.c:46:        return -1;
source\domino\content\d_content_schema.c:48:    memcpy(out, payload->ptr, sizeof(u32));
source\domino\content\d_content_schema.c:55:        return -1;
source\domino\content\d_content_schema.c:57:    if (payload->ptr == (unsigned char *)0) {
source\domino\content\d_content_schema.c:58:        return -1;
source\domino\content\d_content_schema.c:60:    if (payload->len == 2u) {
source\domino\content\d_content_schema.c:61:        memcpy(out, payload->ptr, sizeof(u16));
source\domino\content\d_content_schema.c:64:    if (payload->len == 4u) {
source\domino\content\d_content_schema.c:66:        memcpy(&tmp, payload->ptr, sizeof(u32));
source\domino\content\d_content_schema.c:70:    return -1;
source\domino\content\d_content_schema.c:77:        return -1;
source\domino\content\d_content_schema.c:79:    if (payload->len != 4u || payload->ptr == (unsigned char *)0) {
source\domino\content\d_content_schema.c:80:        return -1;
source\domino\content\d_content_schema.c:82:    memcpy(&tmp, payload->ptr, sizeof(i32));
source\domino\content\d_content_schema.c:92:    if (!payload || payload->ptr == (unsigned char *)0) {
source\domino\content\d_content_schema.c:95:    if (payload->len == 0u) {
source\domino\content\d_content_schema.c:99:    if (payload->ptr[payload->len - 1u] != '\0') {
source\domino\content\d_content_schema.c:105:    return (const char *)payload->ptr;
source\domino\content\d_content_schema.c:111:    if (!payload || payload->len == 0u) {
source\domino\content\d_content_schema.c:131:        return -1;
source\domino\content\d_content_schema.c:141:            return -1;
source\domino\content\d_content_schema.c:146:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:151:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:154:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:157:            if (d_content_schema_read_q16_16(&payload, &tmp.density) != 0) return -1;
source\domino\content\d_content_schema.c:160:            if (d_content_schema_read_q16_16(&payload, &tmp.hardness) != 0) return -1;
source\domino\content\d_content_schema.c:163:            if (d_content_schema_read_q16_16(&payload, &tmp.melting_point) != 0) return -1;
source\domino\content\d_content_schema.c:166:            if (d_content_schema_read_q16_16(&payload, &tmp.permeability) != 0) return -1;
source\domino\content\d_content_schema.c:169:            if (d_content_schema_read_q16_16(&payload, &tmp.porosity) != 0) return -1;
source\domino\content\d_content_schema.c:172:            if (d_content_schema_read_q16_16(&payload, &tmp.thermal_conductivity) != 0) return -1;
source\domino\content\d_content_schema.c:175:            if (d_content_schema_read_q16_16(&payload, &tmp.erosion_resistance) != 0) return -1;
source\domino\content\d_content_schema.c:184:        return -1;
source\domino\content\d_content_schema.c:200:        return -1;
source\domino\content\d_content_schema.c:210:            return -1;
source\domino\content\d_content_schema.c:215:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:220:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:223:            if (d_content_schema_read_u32(&payload, &tmp.material_id) != 0) return -1;
source\domino\content\d_content_schema.c:226:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:229:            if (d_content_schema_read_q16_16(&payload, &tmp.unit_mass) != 0) return -1;
source\domino\content\d_content_schema.c:232:            if (d_content_schema_read_q16_16(&payload, &tmp.unit_volume) != 0) return -1;
source\domino\content\d_content_schema.c:240:        return -1;
source\domino\content\d_content_schema.c:256:        return -1;
source\domino\content\d_content_schema.c:266:            return -1;
source\domino\content\d_content_schema.c:271:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:276:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:279:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:282:            if (d_content_schema_read_q16_16(&payload, &tmp.max_volume) != 0) return -1;
source\domino\content\d_content_schema.c:285:            if (d_content_schema_read_q16_16(&payload, &tmp.max_mass) != 0) return -1;
source\domino\content\d_content_schema.c:288:            if (d_content_schema_read_u16(&payload, &tmp.slot_count) != 0) return -1;
source\domino\content\d_content_schema.c:291:            if (d_content_schema_read_u16(&payload, &tmp.packing_mode) != 0) return -1;
source\domino\content\d_content_schema.c:302:        return -1;
source\domino\content\d_content_schema.c:318:        return -1;
source\domino\content\d_content_schema.c:328:            return -1;
source\domino\content\d_content_schema.c:333:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:338:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:341:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:352:        return -1;
source\domino\content\d_content_schema.c:368:        return -1;
source\domino\content\d_content_schema.c:378:            return -1;
source\domino\content\d_content_schema.c:383:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:388:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:391:            if (d_content_schema_read_u32(&payload, &tmp.material_id) != 0) return -1;
source\domino\content\d_content_schema.c:394:            if (d_content_schema_read_u16(&payload, &tmp.model_id) != 0) return -1;
source\domino\content\d_content_schema.c:397:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:408:        return -1;
source\domino\content\d_content_schema.c:424:        return -1;
source\domino\content\d_content_schema.c:434:            return -1;
source\domino\content\d_content_schema.c:439:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:444:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:447:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:464:        return -1;
source\domino\content\d_content_schema.c:480:        return -1;
source\domino\content\d_content_schema.c:490:            return -1;
source\domino\content\d_content_schema.c:495:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:500:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:503:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:514:        return -1;
source\domino\content\d_content_schema.c:530:        return -1;
source\domino\content\d_content_schema.c:540:            return -1;
source\domino\content\d_content_schema.c:545:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:550:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:553:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:559:            if (d_content_schema_read_u16(&payload, &tmp.type) != 0) return -1;
source\domino\content\d_content_schema.c:562:            if (d_content_schema_read_u16(&payload, &tmp.flags) != 0) return -1;
source\domino\content\d_content_schema.c:565:            if (d_content_schema_read_q16_16(&payload, &tmp.base_speed) != 0) return -1;
source\domino\content\d_content_schema.c:568:            if (d_content_schema_read_q16_16(&payload, &tmp.max_grade) != 0) return -1;
source\domino\content\d_content_schema.c:571:            if (d_content_schema_read_q16_16(&payload, &tmp.capacity) != 0) return -1;
source\domino\content\d_content_schema.c:579:        return -1;
source\domino\content\d_content_schema.c:595:        return -1;
source\domino\content\d_content_schema.c:605:            return -1;
source\domino\content\d_content_schema.c:610:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:615:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:618:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:629:        return -1;
source\domino\content\d_content_schema.c:645:        return -1;
source\domino\content\d_content_schema.c:655:            return -1;
source\domino\content\d_content_schema.c:660:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:665:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:668:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:682:        return -1;
source\domino\content\d_content_schema.c:698:        return -1;
source\domino\content\d_content_schema.c:708:            return -1;
source\domino\content\d_content_schema.c:713:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:718:            if (!have_name) return -1;
source\domino\content\d_content_schema.c:721:            if (d_content_schema_read_u32(&payload, &tmp.tags) != 0) return -1;
source\domino\content\d_content_schema.c:732:        return -1;
source\domino\content\d_content_schema.c:748:        return -1;
source\domino\content\d_content_schema.c:758:            return -1;
source\domino\content\d_content_schema.c:763:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:767:            if (d_content_schema_read_u32(&payload, &tmp.version) != 0) return -1;
source\domino\content\d_content_schema.c:785:        return -1;
source\domino\content\d_content_schema.c:801:        return -1;
source\domino\content\d_content_schema.c:811:            return -1;
source\domino\content\d_content_schema.c:816:            if (d_content_schema_read_u32(&payload, &tmp.id) != 0) return -1;
source\domino\content\d_content_schema.c:820:            if (d_content_schema_read_u32(&payload, &tmp.version) != 0) return -1;
source\domino\content\d_content_schema.c:841:        return -1;
source\domino\content\d_content_schema.c:856:        return -1;
source\domino\content\d_content_schema.c:869:        return -1;
source\domino\content\d_content_schema.c:882:        return -1;
source\domino\content\d_content_schema.c:895:        return -1;
source\domino\content\d_content_schema.c:908:        return -1;
source\domino\content\d_content_schema.c:921:        return -1;
source\domino\content\d_content_schema.c:934:        return -1;
source\domino\content\d_content_schema.c:947:        return -1;
source\domino\content\d_content_schema.c:960:        return -1;
source\domino\content\d_content_schema.c:973:        return -1;
source\domino\content\d_content_schema.c:986:        return -1;
source\domino\content\d_content_schema.c:999:        return -1;
source\domino\content\d_content_schema.c:1012:        return -1;
source\domino\render\api\gfx_stub.c:9:    if (cfg) dev->config = *cfg;
source\domino\render\api\gfx_stub.c:11:        dev->config.width  = 0;
source\domino\render\api\gfx_stub.c:12:        dev->config.height = 0;
source\domino\render\api\gfx_stub.c:13:        dev->config.flags  = 0;
source\domino\render\api\gfx_stub.c:15:    dev->impl = NULL;
source\domino\render\api\dom_render_api.c:32:    s->clear_color = 0xFF000000;   /* opaque black */
source\domino\render\api\dom_render_api.c:33:    s->default_color = 0xFFFFFFFF; /* white */
source\domino\render\api\dom_render_api.c:34:    s->default_sprite = 0;
source\domino\render\api\dom_render_api.c:49:    return dom_render_cmd_push(&r->cmd, cmd);
source\domino\render\api\dom_render_api.c:70:    r->backend = backend;
source\domino\render\api\dom_render_api.c:71:    r->config = local_cfg;
source\domino\render\api\dom_render_api.c:72:    r->mode = local_cfg.mode;
source\domino\render\api\dom_render_api.c:73:    r->width = local_cfg.width;
source\domino\render\api\dom_render_api.c:74:    r->height = local_cfg.height;
source\domino\render\api\dom_render_api.c:75:    r->platform_window = local_cfg.platform_window;
source\domino\render\api\dom_render_api.c:76:    dom_render_state_init(&r->state);
source\domino\render\api\dom_render_api.c:77:    dom_render_cmd_init(&r->cmd);
source\domino\render\api\dom_render_api.c:79:    r->api = dom_render_get_backend(backend);
source\domino\render\api\dom_render_api.c:80:    if (!r->api || !r->api->init) {
source\domino\render\api\dom_render_api.c:84:    memset(&r->caps, 0, sizeof(r->caps));
source\domino\render\api\dom_render_api.c:89:    caps_ptr = out_caps ? out_caps : &r->caps;
source\domino\render\api\dom_render_api.c:90:    err = r->api->init(r, &local_cfg, caps_ptr);
source\domino\render\api\dom_render_api.c:92:        r->caps = *out_caps;
source\domino\render\api\dom_render_api.c:99:    if (!r || !r->api || !r->api->shutdown) {
source\domino\render\api\dom_render_api.c:102:    r->api->shutdown(r);
source\domino\render\api\dom_render_api.c:103:    r->backend_state = 0;
source\domino\render\api\dom_render_api.c:111:    r->width = width;
source\domino\render\api\dom_render_api.c:112:    r->height = height;
source\domino\render\api\dom_render_api.c:113:    r->config.width = width;
source\domino\render\api\dom_render_api.c:114:    r->config.height = height;
source\domino\render\api\dom_render_api.c:115:    if (r->api && r->api->resize) {
source\domino\render\api\dom_render_api.c:116:        r->api->resize(r, width, height);
source\domino\render\api\dom_render_api.c:125:    r->state.clear_color = clear_color;
source\domino\render\api\dom_render_api.c:126:    dom_render_cmd_init(&r->cmd);
source\domino\render\api\dom_render_api.c:138:    return dom_render_cmd_push(&r->cmd, &cmd);
source\domino\render\api\dom_render_api.c:178:    return dom_render_cmd_push(&r->cmd, &cmd);
source\domino\render\api\dom_render_api.c:194:    return dom_render_cmd_push(&r->cmd, &cmd);
source\domino\render\api\dom_render_api.c:217:        len = DOM_CMD_TEXT_MAX - 1u;
source\domino\render\api\dom_render_api.c:221:    return dom_render_cmd_push(&r->cmd, &cmd);
source\domino\render\api\dom_render_api.c:231:    if (!r || !r->api || !r->api->submit) {
source\domino\render\api\dom_render_api.c:236:        submit_cmds = r->cmd.cmds;
source\domino\render\api\dom_render_api.c:237:        submit_count = r->cmd.count;
source\domino\render\api\dom_render_api.c:243:    r->api->submit(r, submit_cmds, submit_count);
source\domino\render\api\dom_render_api.c:249:    if (!r || !r->api || !r->api->present) {
source\domino\render\api\dom_render_api.c:252:    r->api->present(r);
source\domino\render\api\dom_render_api.c:269:    err = dom_render_create(r, cfg->backend, cfg, out_caps);
source\domino\render\api\dom_render_api.h:14: * - Backend-agnostic command buffer.
source\domino\render\api\dom_render_api.h:15: * - Supports vector-only or full (textured) modes per config.
source\domino\render\api\dom_render_api.h:18:/* ------------------------------------------------------------
source\domino\render\api\dom_render_api.h:20: * ------------------------------------------------------------ */
source\domino\render\api\dom_render_api.h:50:    dom_render_backend backend; /* compile-time choice, but tracked for completeness */
source\domino\render\api\dom_render_api.h:68:/* ------------------------------------------------------------
source\domino\render\api\dom_render_api.h:70: * ------------------------------------------------------------ */
source\domino\render\api\dom_render_api.h:75:/* ------------------------------------------------------------
source\domino\render\api\dom_render_api.h:77: * ------------------------------------------------------------ */
source\domino\render\api\dom_render_api.h:95:/* ------------------------------------------------------------
source\domino\render\api\dom_render_api.h:97: * ------------------------------------------------------------ */
source\domino\render\api\dom_render_api.h:134:/* New canonical renderer API wrapper (malloc-owning) */
source\domino\render\api\dom_render_api.h:143:/* ------------------------------------------------------------
source\domino\render\api\dom_render_api.h:145: * ------------------------------------------------------------ */
source\domino\render\api\domino_gfx_core.c:9:/*------------------------------------------------------------
source\domino\render\api\domino_gfx_core.c:11: *------------------------------------------------------------*/
source\domino\render\api\domino_gfx_core.c:16:/*------------------------------------------------------------
source\domino\render\api\domino_gfx_core.c:18: *------------------------------------------------------------*/
source\domino\render\api\domino_gfx_core.c:53:        return -1;
source\domino\render\api\domino_gfx_core.c:67:    if (desc && desc->backend != DOMINO_GFX_BACKEND_AUTO) {
source\domino\render\api\domino_gfx_core.c:68:        return desc->backend;
source\domino\render\api\domino_gfx_core.c:74:/*------------------------------------------------------------
source\domino\render\api\domino_gfx_core.c:76: *------------------------------------------------------------*/
source\domino\render\api\domino_gfx_core.c:83:    if (!out_dev) return -1;
source\domino\render\api\domino_gfx_core.c:118:    if (dev->vt && dev->vt->destroy) {
source\domino\render\api\domino_gfx_core.c:119:        dev->vt->destroy(dev);
source\domino\render\api\domino_gfx_core.c:125:    if (!dev || !dev->vt || !dev->vt->begin_frame) return -1;
source\domino\render\api\domino_gfx_core.c:126:    return dev->vt->begin_frame(dev);
source\domino\render\api\domino_gfx_core.c:131:    if (!dev || !dev->vt || !dev->vt->end_frame) return -1;
source\domino\render\api\domino_gfx_core.c:132:    return dev->vt->end_frame(dev);
source\domino\render\api\domino_gfx_core.c:138:    if (!dev || !dev->vt || !dev->vt->clear) return -1;
source\domino\render\api\domino_gfx_core.c:139:    return dev->vt->clear(dev, r, g, b, a);
source\domino\render\api\domino_gfx_core.c:146:    if (!dev || !dev->vt || !dev->vt->draw_rect) return -1;
source\domino\render\api\domino_gfx_core.c:147:    return dev->vt->draw_rect(dev, rect, r, g, b, a);
source\domino\render\api\domino_gfx_core.c:154:    if (!dev || !dev->vt || !dev->vt->tex_create) return -1;
source\domino\render\api\domino_gfx_core.c:155:    return dev->vt->tex_create(dev, desc, out_tex);
source\domino\render\api\domino_gfx_core.c:161:    /* Texture destruction is backend-specific; stored on the object */
source\domino\render\api\domino_gfx_core.c:170:    if (!tex) return -1;
source\domino\render\api\domino_gfx_core.c:172:    return -1;
source\domino\render\api\domino_gfx_core.c:180:    if (!dev || !dev->vt || !dev->vt->draw_texture) return -1;
source\domino\render\api\domino_gfx_core.c:181:    return dev->vt->draw_texture(dev, tex, dst_rect, src_uv);
source\domino\render\api\domino_gfx_core.c:190:    if (!dev || !dev->vt || !dev->vt->draw_text) return -1;
source\domino\render\api\domino_gfx_core.c:191:    return dev->vt->draw_text(dev, font, x, y, text, r, g, b, a);
source\domino\render\CMakeLists.txt:130:        "-framework Carbon"
source\domino\render\CMakeLists.txt:131:        "-framework CoreGraphics"
source\domino\render\CMakeLists.txt:132:        "-framework CoreFoundation"
source\domino\render\CMakeLists.txt:133:        "-framework Metal"
source\domino\render\CMakeLists.txt:134:        "-framework QuartzCore"
source\domino\render\CMakeLists.txt:135:        "-framework AppKit"
source\domino\render\CMakeLists.txt:136:        "-framework OpenGL"
source\domino\render\gdi\gdi_gfx.h:9:/* Forward-declare Windows types without pulling windows.h into headers */
source\domino\vehicle\d_vehicle_validate.c:17:        return -1;
source\domino\vehicle\d_vehicle_validate.c:34:        return -1;
source\domino\vehicle\d_vehicle_validate.c:50:        return -1;
source\domino\vehicle\d_vehicle_validate.c:65:        return -1;
source\domino\vehicle\d_vehicle_validate.c:68:        return -1;
source\domino\vehicle\d_vehicle_validate.c:71:        return -1;
source\domino\vehicle\d_vehicle_validate.c:74:        return -1;
source\domino\vehicle\d_vehicle_validate.c:77:        return -1;
source\domino\vehicle\d_vehicle_validate.c:90:        return -1;
source\domino\vehicle\d_vehicle_validate.c:92:    if (!proto->params.ptr || proto->params.len == 0u) {
source\domino\vehicle\d_vehicle_validate.c:97:    while ((rc = d_tlv_kv_next(&proto->params, &offset, &tag, &payload)) == 0) {
source\domino\vehicle\d_vehicle_validate.c:100:                return -1;
source\domino\vehicle\d_vehicle_validate.c:108:        return -1;
source\domino\vehicle\d_vehicle_validate.c:116:    while ((rc = d_tlv_kv_next(&proto->params, &offset, &tag, &payload)) == 0) {
source\domino\vehicle\d_vehicle_validate.c:119:                return -1;
source\domino\vehicle\d_vehicle_validate.c:124:        return -1;
source\domino\vehicle\d_vehicle_validate.c:139:            fprintf(stderr, "vehicle validate: invalid volume params in proto %u\n", (unsigned)p->id);
source\domino\vehicle\d_vehicle_validate.c:140:            return -1;
source\domino\render\gl2\gl2_gfx.h:12:    void*        native_window;/* platform-specific native handle */
source\domino\render\xga\xga_hw.c:6:/* Stub VRAM buffer to mirror writes in non-XGA environments. */
source\domino\render\xga\xga_hw.c:73:        if (copy_w > mode->width)  copy_w = mode->width;
source\domino\render\xga\xga_hw.c:74:        if (copy_h > mode->height) copy_h = mode->height;
source\domino\render\gdi\gdi_gfx.c:33:    g_gdi.native_window = desc->native_window;
source\domino\render\gdi\gdi_gfx.c:34:    g_gdi.width = (desc->width > 0) ? desc->width : 640;
source\domino\render\gdi\gdi_gfx.c:35:    g_gdi.height = (desc->height > 0) ? desc->height : 480;
source\domino\render\gdi\gdi_gfx.c:36:    g_gdi.fullscreen = desc->fullscreen ? 1 : 0;
source\domino\render\mda\mda_hw.h:17:   - threshold src pixels to 1-bit (on/off)
source\domino\render\mda\mda_hw.h:18:   - pack 8 pixels into 1 byte
source\domino\render\mda\mda_hw.h:19:   - apply MDA memory layout (interlaced row addressing)
source\domino\render\gl2\gl2_gfx.c:437:            p_glGetShaderInfoLog(sh, (GLsizei)sizeof(log) - 1, &len, log);
source\domino\render\gl2\gl2_gfx.c:476:            p_glGetProgramInfoLog(prog, (GLsizei)sizeof(log) - 1, &len, log);
source\domino\render\gl2\gl2_gfx.c:608:        g_gl2.u_2d_mvp = -1;
source\domino\render\gl2\gl2_gfx.c:609:        g_gl2.u_2d_color = -1;
source\domino\render\gl2\gl2_gfx.c:610:        g_gl2.u_2d_tex = -1;
source\domino\render\gl2\gl2_gfx.c:611:        g_gl2.u_lines_mvp = -1;
source\domino\render\gl2\gl2_gfx.c:612:        g_gl2.u_lines_color = -1;
source\domino\render\gl2\gl2_gfx.c:613:        g_gl2.u_3d_view = -1;
source\domino\render\gl2\gl2_gfx.c:614:        g_gl2.u_3d_proj = -1;
source\domino\render\gl2\gl2_gfx.c:615:        g_gl2.u_3d_world = -1;
source\domino\render\gl2\gl2_gfx.c:669:    if (!desc || !desc->window) {
source\domino\render\gl2\gl2_gfx.c:675:    g_gl2.window = desc->window;
source\domino\render\gl2\gl2_gfx.c:676:    g_gl2.native_window = dsys_window_get_native_handle(desc->window);
source\domino\render\gl2\gl2_gfx.c:680:    g_gl2.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\gl2\gl2_gfx.c:681:    g_gl2.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\gl2\gl2_gfx.c:683:    g_gl2.vsync = desc->vsync ? 1 : 0;
source\domino\render\gl2\gl2_gfx.c:926:    verts[0].x = -0.5f; verts[0].y = -0.5f; verts[0].z = 0.0f;
source\domino\render\gl2\gl2_gfx.c:928:    verts[1].x = -0.5f; verts[1].y =  0.5f; verts[1].z = 0.0f;
source\domino\render\gl2\gl2_gfx.c:935:    verts[5].x =  0.5f; verts[5].y = -0.5f; verts[5].z = 0.0f;
source\domino\render\gl2\gl2_gfx.c:1030:    verts[1].x = -0.5f; verts[1].y = -0.5f; verts[1].z = 0.0f;
source\domino\render\gl2\gl2_gfx.c:1031:    verts[2].x = 0.5f; verts[2].y = -0.5f; verts[2].z = 0.0f;
source\domino\render\gl2\gl2_gfx.c:1059:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\gl2\gl2_gfx.c:1067:    ptr = cmd_buf->data;
source\domino\render\gl2\gl2_gfx.c:1068:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\gl2\gl2_gfx.c:1077:        payload_size = cmd->payload_size;
source\domino\render\gl2\gl2_gfx.c:1084:        switch (cmd->opcode) {
source\domino\render\xga\xga_gfx.c:126:    req_w = (uint16_t)((desc->width > 0) ? desc->width : 640);
source\domino\render\xga\xga_gfx.c:127:    req_h = (uint16_t)((desc->height > 0) ? desc->height : 480);
source\domino\render\xga\xga_gfx.c:264:        memcpy(g_xga.view, cam->view, sizeof(g_xga.view));
source\domino\render\xga\xga_gfx.c:265:        memcpy(g_xga.proj, cam->proj, sizeof(g_xga.proj));
source\domino\render\xga\xga_gfx.c:266:        memcpy(g_xga.world, cam->world, sizeof(g_xga.world));
source\domino\render\xga\xga_gfx.c:295:        int x = spr->x + g_xga.camera2d_x;
source\domino\render\xga\xga_gfx.c:296:        int y = spr->y + g_xga.camera2d_y;
source\domino\render\xga\xga_gfx.c:297:        soft_raster_fill_rect_2d(&g_xga.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\xga\xga_gfx.c:303:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\xga\xga_gfx.c:356:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\xga\xga_gfx.c:367:    ptr = cmd_buf->data;
source\domino\render\xga\xga_gfx.c:368:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\xga\xga_gfx.c:377:        payload_size = cmd->payload_size;
source\domino\render\xga\xga_gfx.c:384:        switch (cmd->opcode) {
source\domino\render\mda\mda_hw.c:6:/* Stub VRAM buffer for non-DOS targets; sized for a single 32KB page. */
source\domino\render\mda\mda_hw.c:20:        return -1;
source\domino\render\mda\mda_hw.c:24:    out_mode->kind = MDA_MODE_KIND_720x350_1;
source\domino\render\mda\mda_hw.c:25:    out_mode->width = 720u;
source\domino\render\mda\mda_hw.c:26:    out_mode->height = 350u;
source\domino\render\mda\mda_hw.c:27:    out_mode->bits_per_pixel = 1u;
source\domino\render\mda\mda_hw.c:28:    out_mode->pitch_bytes = (uint16_t)((out_mode->width + 7u) / 8u);
source\domino\render\mda\mda_hw.c:29:    out_mode->vram_segment = 0xb000u;
source\domino\render\mda\mda_gfx.h:23:    uint16_t      pitch_bytes;    /* bytes per scanline in VRAM after bit-packing */
source\domino\render\mda\mda_gfx.h:33:    soft_framebuffer fb;      /* system RAM framebuffer (8-bit indexed / grayscale) */
source\domino\render\cga\cga_hw.c:16:        out_mode->kind = CGA_MODE_KIND_320x200_4COL;
source\domino\render\cga\cga_hw.c:17:        out_mode->width = 320u;
source\domino\render\cga\cga_hw.c:18:        out_mode->height = 200u;
source\domino\render\cga\cga_hw.c:19:        out_mode->logical_bpp = 2u;
source\domino\render\cga\cga_hw.c:20:        out_mode->palette = (uint8_t)(palette ? 1u : 0u);
source\domino\render\cga\cga_hw.c:21:        out_mode->pitch_bytes = 80u;
source\domino\render\cga\cga_hw.c:22:        out_mode->vram_segment = 0xb800u;
source\domino\vehicle\d_vehicle.c:49:    return ((q32_32)v) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\vehicle\d_vehicle.c:71:        return -1;
source\domino\vehicle\d_vehicle.c:74:    if (!in || !in->ptr || in->len == 0u) {
source\domino\vehicle\d_vehicle.c:81:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_x);
source\domino\vehicle\d_vehicle.c:84:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_y);
source\domino\vehicle\d_vehicle.c:87:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_z);
source\domino\vehicle\d_vehicle.c:90:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_x);
source\domino\vehicle\d_vehicle.c:93:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_y);
source\domino\vehicle\d_vehicle.c:96:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_z);
source\domino\vehicle\d_vehicle.c:102:    if (out->max_x < out->min_x) {
source\domino\vehicle\d_vehicle.c:103:        q16_16 tmp = out->min_x; out->min_x = out->max_x; out->max_x = tmp;
source\domino\vehicle\d_vehicle.c:105:    if (out->max_y < out->min_y) {
source\domino\vehicle\d_vehicle.c:106:        q16_16 tmp = out->min_y; out->min_y = out->max_y; out->max_y = tmp;
source\domino\vehicle\d_vehicle.c:108:    if (out->max_z < out->min_z) {
source\domino\vehicle\d_vehicle.c:109:        q16_16 tmp = out->min_z; out->min_z = out->max_z; out->max_z = tmp;
source\domino\vehicle\d_vehicle.c:120:        return -1;
source\domino\vehicle\d_vehicle.c:123:    out->gas_k = DVEH_ENV_DEFAULT_CONDUCTANCE;
source\domino\vehicle\d_vehicle.c:124:    out->heat_k = DVEH_ENV_DEFAULT_CONDUCTANCE;
source\domino\vehicle\d_vehicle.c:125:    if (!in || !in->ptr || in->len == 0u) {
source\domino\vehicle\d_vehicle.c:132:            (void)d_tlv_kv_read_u16(&payload, &out->a);
source\domino\vehicle\d_vehicle.c:135:            (void)d_tlv_kv_read_u16(&payload, &out->b);
source\domino\vehicle\d_vehicle.c:138:            (void)d_tlv_kv_read_q16_16(&payload, &out->gas_k);
source\domino\vehicle\d_vehicle.c:141:            (void)d_tlv_kv_read_q16_16(&payload, &out->heat_k);
source\domino\vehicle\d_vehicle.c:166:    if (!params || !params->ptr || params->len == 0u) {
source\domino\vehicle\d_vehicle.c:206:    if (!w || !inst || inst->proto_id == 0u) {
source\domino\vehicle\d_vehicle.c:209:    proto = d_content_get_vehicle(inst->proto_id);
source\domino\vehicle\d_vehicle.c:216:    dveh_collect_env_defs(&proto->params, vols, &vol_count, edges, &edge_count);
source\domino\vehicle\d_vehicle.c:221:    (void)d_env_volume_remove_owned_by(w, 0u, (u32)inst->id);
source\domino\vehicle\d_vehicle.c:224:    base_x = dveh_q32_from_q16(inst->pos_x);
source\domino\vehicle\d_vehicle.c:225:    base_y = dveh_q32_from_q16(inst->pos_y);
source\domino\vehicle\d_vehicle.c:226:    base_z = dveh_q32_from_q16(inst->pos_z);
source\domino\vehicle\d_vehicle.c:244:        v.owner_vehicle_eid = (u32)inst->id;
source\domino\vehicle\d_vehicle.c:288:    if (!vt || vt->model_id == 0u) {
source\domino\vehicle\d_vehicle.c:289:        return -1;
source\domino\vehicle\d_vehicle.c:292:        if (g_veh_models[i].model_id == vt->model_id) {
source\domino\vehicle\d_vehicle.c:293:            return -2;
source\domino\vehicle\d_vehicle.c:297:        return -3;
source\domino\vehicle\d_vehicle.c:301:    desc.model_id = vt->model_id;
source\domino\vehicle\d_vehicle.c:306:        return -4;
source\domino\vehicle\d_vehicle.c:359:    slot->world = w;
source\domino\vehicle\d_vehicle.c:360:    slot->inst.id = g_vehicle_next_id++;
source\domino\vehicle\d_vehicle.c:361:    slot->inst.proto_id = proto_id;
source\domino\vehicle\d_vehicle.c:362:    slot->inst.pos_x = x;
source\domino\vehicle\d_vehicle.c:363:    slot->inst.pos_y = y;
source\domino\vehicle\d_vehicle.c:364:    slot->inst.pos_z = z;
source\domino\vehicle\d_vehicle.c:365:    slot->inst.vel_x = 0;
source\domino\vehicle\d_vehicle.c:366:    slot->inst.vel_y = 0;
source\domino\vehicle\d_vehicle.c:367:    slot->inst.vel_z = 0;
source\domino\vehicle\d_vehicle.c:368:    slot->inst.rot_yaw = 0;
source\domino\vehicle\d_vehicle.c:369:    slot->inst.rot_pitch = 0;
source\domino\vehicle\d_vehicle.c:370:    slot->inst.rot_roll = 0;
source\domino\vehicle\d_vehicle.c:371:    slot->inst.chunk_id = chunk ? chunk->chunk_id : 0u;
source\domino\vehicle\d_vehicle.c:372:    slot->inst.flags = 0u;
source\domino\vehicle\d_vehicle.c:373:    slot->inst.entity_id = 0u;
source\domino\vehicle\d_vehicle.c:374:    slot->inst.state.ptr = (unsigned char *)0;
source\domino\vehicle\d_vehicle.c:375:    slot->inst.state.len = 0u;
source\domino\vehicle\d_vehicle.c:376:    slot->model_id = 1u;
source\domino\vehicle\d_vehicle.c:377:    slot->in_use = 1;
source\domino\vehicle\d_vehicle.c:379:    dveh_build_env_for_instance(w, &slot->inst);
source\domino\vehicle\d_vehicle.c:380:    return slot->inst.id;
source\domino\vehicle\d_vehicle.c:389:        return -1;
source\domino\vehicle\d_vehicle.c:392:    if (entry->inst.state.ptr) {
source\domino\vehicle\d_vehicle.c:393:        free(entry->inst.state.ptr);
source\domino\vehicle\d_vehicle.c:411:        return -1;
source\domino\vehicle\d_vehicle.c:417:            g_vehicle_entries[i].inst.chunk_id == chunk->chunk_id) {
source\domino\vehicle\d_vehicle.c:427:        out->ptr = (unsigned char *)0;
source\domino\vehicle\d_vehicle.c:428:        out->len = 0u;
source\domino\vehicle\d_vehicle.c:434:        return -1;
source\domino\vehicle\d_vehicle.c:444:            g_vehicle_entries[i].inst.chunk_id == chunk->chunk_id) {
source\domino\vehicle\d_vehicle.c:481:    out->ptr = buf;
source\domino\vehicle\d_vehicle.c:482:    out->len = (u32)(dst - buf);
source\domino\vehicle\d_vehicle.c:497:        return -1;
source\domino\vehicle\d_vehicle.c:499:    if (in->len == 0u) {
source\domino\vehicle\d_vehicle.c:502:    if (!in->ptr || in->len < 4u) {
source\domino\vehicle\d_vehicle.c:503:        return -1;
source\domino\vehicle\d_vehicle.c:506:    ptr = in->ptr;
source\domino\vehicle\d_vehicle.c:507:    remaining = in->len;
source\domino\vehicle\d_vehicle.c:510:    remaining -= 4u;
source\domino\vehicle\d_vehicle.c:520:            return -1;
source\domino\vehicle\d_vehicle.c:551:        remaining -= sizeof(d_vehicle_instance_id) + sizeof(d_vehicle_proto_id) +
source\domino\vehicle\d_vehicle.c:554:        inst.chunk_id = chunk->chunk_id;
source\domino\vehicle\d_vehicle.c:559:                return -1;
source\domino\vehicle\d_vehicle.c:563:                return -1;
source\domino\vehicle\d_vehicle.c:567:            remaining -= state_len;
source\domino\vehicle\d_vehicle.c:580:            return -1;
source\domino\vehicle\d_vehicle.c:584:        entry->world = w;
source\domino\vehicle\d_vehicle.c:585:        entry->inst = inst;
source\domino\vehicle\d_vehicle.c:586:        entry->model_id = 1u;
source\domino\vehicle\d_vehicle.c:587:        entry->in_use = 1;
source\domino\vehicle\d_vehicle.c:598:        return -1;
source\domino\vehicle\d_vehicle.c:600:    out->ptr = (unsigned char *)0;
source\domino\vehicle\d_vehicle.c:601:    out->len = 0u;
source\domino\vehicle\d_vehicle.c:628:            if (vt && vt->tick_vehicle) {
source\domino\vehicle\d_vehicle.c:629:                vt->tick_vehicle(w, &g_vehicle_entries[i].inst, ticks);
source\domino\render\mda\mda_gfx.c:252:        g_mda.camera2d_x = cam->offset_x;
source\domino\render\mda\mda_gfx.c:253:        g_mda.camera2d_y = cam->offset_y;
source\domino\render\mda\mda_gfx.c:284:        int x = spr->x + g_mda.camera2d_x;
source\domino\render\mda\mda_gfx.c:285:        int y = spr->y + g_mda.camera2d_y;
source\domino\render\mda\mda_gfx.c:286:        soft_raster_fill_rect_2d(&g_mda.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\mda\mda_gfx.c:292:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\mda\mda_gfx.c:345:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\mda\mda_gfx.c:353:    ptr = cmd_buf->data;
source\domino\render\mda\mda_gfx.c:354:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\mda\mda_gfx.c:363:        payload_size = cmd->payload_size;
source\domino\render\mda\mda_gfx.c:370:        switch (cmd->opcode) {
source\domino\render\cga\cga_gfx.c:253:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\cga\cga_gfx.c:269:    dx = (x1 > x0) ? (x1 - x0) : (x0 - x1);
source\domino\render\cga\cga_gfx.c:270:    dy = (y1 > y0) ? (y1 - y0) : (y0 - y1);
source\domino\render\cga\cga_gfx.c:271:    sx = (x0 < x1) ? 1 : -1;
source\domino\render\cga\cga_gfx.c:272:    sy = (y0 < y1) ? 1 : -1;
source\domino\render\cga\cga_gfx.c:273:    err = dx - dy;
source\domino\render\cga\cga_gfx.c:286:        if (e2 > -dy) {
source\domino\render\cga\cga_gfx.c:287:            err -= dy;
source\domino\render\cga\cga_gfx.c:325:        g_cga.camera_offset_x = cam->offset_x;
source\domino\render\cga\cga_gfx.c:326:        g_cga.camera_offset_y = cam->offset_y;
source\domino\render\cga\cga_gfx.c:363:        idx = cga_quantize_rgba(spr->color_rgba);
source\domino\render\cga\cga_gfx.c:364:        x = spr->x + g_cga.camera_offset_x;
source\domino\render\cga\cga_gfx.c:365:        y = spr->y + g_cga.camera_offset_y;
source\domino\render\cga\cga_gfx.c:367:        cga_fill_rect(x, y, spr->w, spr->h, idx);
source\domino\render\cga\cga_gfx.c:402:        v0 = &verts[i - 1u];
source\domino\render\cga\cga_gfx.c:404:        idx = cga_quantize_rgba(v0->color);
source\domino\render\cga\cga_gfx.c:406:        x0 = cga_round_to_int(v0->x) + g_cga.camera_offset_x;
source\domino\render\cga\cga_gfx.c:407:        y0 = cga_round_to_int(v0->y) + g_cga.camera_offset_y;
source\domino\render\cga\cga_gfx.c:408:        x1 = cga_round_to_int(v1->x) + g_cga.camera_offset_x;
source\domino\render\cga\cga_gfx.c:409:        y1 = cga_round_to_int(v1->y) + g_cga.camera_offset_y;
source\domino\render\cga\cga_gfx.c:435:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\cga\cga_gfx.c:443:    ptr = cmd_buf->data;
source\domino\render\cga\cga_gfx.c:444:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\cga\cga_gfx.c:453:        payload_size = cmd->payload_size;
source\domino\render\cga\cga_gfx.c:460:        switch (cmd->opcode) {
source\domino\system\sys.c:79:        return -1;
source\domino\system\sys.c:87:    return -1;
source\domino\system\sys.c:166:    win->width = local_desc.width;
source\domino\system\sys.c:167:    win->height = local_desc.height;
source\domino\system\sys.c:168:    win->mode = local_desc.mode;
source\domino\system\sys.c:185:    win->mode = mode;
source\domino\system\sys.c:193:    win->width = w;
source\domino\system\sys.c:194:    win->height = h;
source\domino\system\sys.c:203:        *w = win->width;
source\domino\system\sys.c:206:        *h = win->height;
source\domino\system\sys.c:271:        len = buf_size - 1u;
source\domino\system\sys.c:307:        return -1;
source\domino\system\sys.c:317:        return -1L;
source\domino\system\sys.c:327:        return -1;
source\domino\system\sys.c:350:        if (len + 3u >= sizeof(it->pattern)) {
source\domino\system\sys.c:354:        memcpy(it->pattern, path, len);
source\domino\system\sys.c:355:        if (len == 0u || (path[len - 1u] != '/' && path[len - 1u] != '\\')) {
source\domino\system\sys.c:356:            it->pattern[len] = '\\';
source\domino\system\sys.c:359:        it->pattern[len] = '*';
source\domino\system\sys.c:360:        it->pattern[len + 1u] = '\0';
source\domino\system\sys.c:361:        it->handle = _findfirst(it->pattern, &it->data);
source\domino\system\sys.c:362:        if (it->handle == -1) {
source\domino\system\sys.c:366:        it->first_pending = 1;
source\domino\system\sys.c:383:        it->dir = dir;
source\domino\system\sys.c:385:        if (len >= sizeof(it->base)) {
source\domino\system\sys.c:386:            len = sizeof(it->base) - 1u;
source\domino\system\sys.c:388:        memcpy(it->base, path, len);
source\domino\system\sys.c:389:        it->base[len] = '\0';
source\domino\system\sys.c:405:        if (it->first_pending) {
source\domino\system\sys.c:406:            it->first_pending = 0;
source\domino\system\sys.c:409:            res = _findnext(it->handle, &it->data);
source\domino\system\sys.c:415:        strncpy(out->name, it->data.name, sizeof(out->name) - 1u);
source\domino\system\sys.c:416:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\sys.c:417:        out->is_dir = (it->data.attrib & _A_SUBDIR) != 0 ? true : false;
source\domino\system\sys.c:428:        ent = readdir(it->dir);
source\domino\system\sys.c:433:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\sys.c:434:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\sys.c:436:        out->is_dir = false;
source\domino\system\sys.c:437:        base_len = strlen(it->base);
source\domino\system\sys.c:438:        name_len = strlen(out->name);
source\domino\system\sys.c:440:            memcpy(full_path, it->base, base_len);
source\domino\system\sys.c:441:            if (base_len > 0u && full_path[base_len - 1u] != '/') {
source\domino\system\sys.c:445:            memcpy(full_path + base_len, out->name, name_len);
source\domino\system\sys.c:448:                out->is_dir = true;
source\domino\system\sys.c:463:    if (it->handle != -1) {
source\domino\system\sys.c:464:        _findclose(it->handle);
source\domino\system\sys.c:467:    if (it->dir) {
source\domino\system\sys.c:468:        closedir(it->dir);
source\domino\system\sys.c:483:    return -1;
source\domino\system\sys.c:590:    if (!g_dsys || !g_dsys->init) {
source\domino\system\sys.c:593:    result = g_dsys->init();
source\domino\system\sys.c:604:    if (backend->shutdown) {
source\domino\system\sys.c:605:        backend->shutdown();
source\domino\system\sys.c:614:    if (backend->get_caps) {
source\domino\system\sys.c:615:        return backend->get_caps();
source\domino\system\sys.c:624:    return backend->time_now_us ? backend->time_now_us() : 0u;
source\domino\system\sys.c:631:    if (backend->sleep_ms) {
source\domino\system\sys.c:632:        backend->sleep_ms(ms);
source\domino\system\sys.c:640:    if (backend->window_create) {
source\domino\system\sys.c:641:        return backend->window_create(desc);
source\domino\system\sys.c:650:    if (backend->window_destroy) {
source\domino\system\sys.c:651:        backend->window_destroy(win);
source\domino\system\sys.c:659:    if (backend->window_set_mode) {
source\domino\system\sys.c:660:        backend->window_set_mode(win, mode);
source\domino\system\sys.c:668:    if (backend->window_set_size) {
source\domino\system\sys.c:669:        backend->window_set_size(win, w, h);
source\domino\system\sys.c:677:    if (backend->window_get_size) {
source\domino\system\sys.c:678:        backend->window_get_size(win, w, h);
source\domino\system\sys.c:686:    if (backend->window_get_native_handle) {
source\domino\system\sys.c:687:        return backend->window_get_native_handle(win);
source\domino\system\sys.c:694:    /* No backend-driven close signal in this ABI yet; treat null as closed. */
source\domino\system\sys.c:708:    if (backend->poll_event) {
source\domino\system\sys.c:709:        return backend->poll_event(out);
source\domino\system\sys.c:721:    if (backend->get_path) {
source\domino\system\sys.c:722:        return backend->get_path(kind, buf, buf_size);
source\domino\system\sys.c:731:    if (backend->file_open) {
source\domino\system\sys.c:732:        return backend->file_open(path, mode);
source\domino\system\sys.c:741:    if (backend->file_read) {
source\domino\system\sys.c:742:        return backend->file_read(fh, buf, size);
source\domino\system\sys.c:751:    if (backend->file_write) {
source\domino\system\sys.c:752:        return backend->file_write(fh, buf, size);
source\domino\system\sys.c:761:    if (backend->file_seek) {
source\domino\system\sys.c:762:        return backend->file_seek(fh, offset, origin);
source\domino\system\sys.c:764:    return -1;
source\domino\system\sys.c:771:    if (backend->file_tell) {
source\domino\system\sys.c:772:        return backend->file_tell(fh);
source\domino\system\sys.c:774:    return -1L;
source\domino\system\sys.c:781:    if (backend->file_close) {
source\domino\system\sys.c:782:        return backend->file_close(fh);
source\domino\system\sys.c:784:    return -1;
source\domino\system\sys.c:791:    if (backend->dir_open) {
source\domino\system\sys.c:792:        return backend->dir_open(path);
source\domino\system\sys.c:801:    if (backend->dir_next) {
source\domino\system\sys.c:802:        return backend->dir_next(it, out);
source\domino\system\sys.c:811:    if (backend->dir_close) {
source\domino\system\sys.c:812:        backend->dir_close(it);
source\domino\system\sys.c:820:    if (backend->process_spawn) {
source\domino\system\sys.c:821:        return backend->process_spawn(desc);
source\domino\system\sys.c:830:    if (backend->process_wait) {
source\domino\system\sys.c:831:        return backend->process_wait(p);
source\domino\system\sys.c:833:    return -1;
source\domino\system\sys.c:840:    if (backend->process_destroy) {
source\domino\system\sys.c:841:        backend->process_destroy(p);
source\domino\render\gui_prim.c:6:    return ((uint32_t)(c->a) << 24) |
source\domino\render\gui_prim.c:7:           ((uint32_t)(c->r) << 16) |
source\domino\render\gui_prim.c:8:           ((uint32_t)(c->g) << 8)  |
source\domino\render\gui_prim.c:9:           ((uint32_t)(c->b));
source\domino\render\gui_prim.c:15:    spr.x = r->rect.x;
source\domino\render\gui_prim.c:16:    spr.y = r->rect.y;
source\domino\render\gui_prim.c:17:    spr.w = r->rect.w;
source\domino\render\gui_prim.c:18:    spr.h = r->rect.h;
source\domino\render\gui_prim.c:19:    spr.color_rgba = dgui_pack(&r->fill);
source\domino\render\gui_prim.c:25:    if (!c || !t || !t->text) return;
source\domino\render\gui_prim.c:26:    txt.x = t->x;
source\domino\render\gui_prim.c:27:    txt.y = t->y;
source\domino\render\gui_prim.c:28:    txt.color_rgba = dgui_pack(&t->color);
source\domino\render\gui_prim.c:29:    txt.utf8_text = t->text;
source\domino\render\api\core\dom_view_build.c:5: * Placeholder view-to-draw-command builder.
source\domino\render\api\core\dom_view_build.c:28:    if (view->desc.type == DOM_VIEW_TYPE_TOPDOWN_2D) {
source\domino\render\api\core\dom_view_build.c:29:        if (view->desc.mode == DOM_VIEW_MODE_VECTOR) {
source\domino\render\api\core\dom_view_build.c:34:    } else if (view->desc.type == DOM_VIEW_TYPE_FIRSTPERSON_3D) {
source\domino\render\api\core\dom_view_build.c:35:        if (view->desc.mode == DOM_VIEW_MODE_VECTOR) {
source\domino\ui\ui.c:60:    child = w->first_child;
source\domino\ui\ui.c:62:        next = child->next_sibling;
source\domino\ui\ui.c:66:    if (w->text) {
source\domino\ui\ui.c:67:        free(w->text);
source\domino\ui\ui.c:81:    cur = app->windows;
source\domino\ui\ui.c:85:                prev->next = cur->next;
source\domino\ui\ui.c:87:                app->windows = cur->next;
source\domino\ui\ui.c:92:        cur = cur->next;
source\domino\ui\ui.c:115:    app->desc = local_desc;
source\domino\ui\ui.c:116:    app->windows = NULL;
source\domino\ui\ui.c:117:    app->quit = false;
source\domino\ui\ui.c:129:    cur = app->windows;
source\domino\ui\ui.c:131:        next = cur->next;
source\domino\ui\ui.c:132:        if (cur->root) {
source\domino\ui\ui.c:133:            dom_ui_free_widget(cur->root);
source\domino\ui\ui.c:135:        if (cur->title) {
source\domino\ui\ui.c:136:            free(cur->title);
source\domino\ui\ui.c:154:    win->title = dom_ui_dup_string(title);
source\domino\ui\ui.c:155:    win->width = w;
source\domino\ui\ui.c:156:    win->height = h;
source\domino\ui\ui.c:157:    win->owner = app;
source\domino\ui\ui.c:159:    win->root = (dom_ui_widget*)malloc(sizeof(dom_ui_widget));
source\domino\ui\ui.c:160:    if (win->root) {
source\domino\ui\ui.c:161:        memset(win->root, 0, sizeof(*win->root));
source\domino\ui\ui.c:162:        win->root->kind = DOM_UI_WIDGET_ROOT;
source\domino\ui\ui.c:166:        win->next = app->windows;
source\domino\ui\ui.c:167:        app->windows = win;
source\domino\ui\ui.c:178:    if (win->owner) {
source\domino\ui\ui.c:179:        dom_ui_detach_window(win->owner, win);
source\domino\ui\ui.c:181:    if (win->root) {
source\domino\ui\ui.c:182:        dom_ui_free_widget(win->root);
source\domino\ui\ui.c:184:    if (win->title) {
source\domino\ui\ui.c:185:        free(win->title);
source\domino\ui\ui.c:204:    w->kind = kind;
source\domino\ui\ui.c:208:        attach_to = win->root;
source\domino\ui\ui.c:210:    w->parent = attach_to;
source\domino\ui\ui.c:212:        w->next_sibling = attach_to->first_child;
source\domino\ui\ui.c:213:        attach_to->first_child = w;
source\domino\ui\ui.c:223:    w->x = x;
source\domino\ui\ui.c:224:    w->y = y;
source\domino\ui\ui.c:225:    w->width = width;
source\domino\ui\ui.c:226:    w->height = height;
source\domino\ui\ui.c:234:    if (w->text) {
source\domino\ui\ui.c:235:        free(w->text);
source\domino\ui\ui.c:236:        w->text = NULL;
source\domino\ui\ui.c:239:        w->text = dom_ui_dup_string(utf8);
source\domino\ui\ui.c:258:    w->callback = cb;
source\domino\ui\ui.c:259:    w->callback_user = user;
source\domino\ui\ui.c:267:    if (app->quit) {
source\domino\ui\ui.c:288:    if (x) *x = canvas->x;
source\domino\ui\ui.c:289:    if (y) *y = canvas->y;
source\domino\ui\ui.c:290:    if (w) *w = canvas->width;
source\domino\ui\ui.c:291:    if (h) *h = canvas->height;
source\domino\render\herc\herc_hw.h:21:       - Threshold or map src values to on/off (1bpp)
source\domino\render\herc\herc_hw.h:22:       - Pack bits into bytes according to Hercules layout
source\domino\render\herc\herc_hw.h:23:       - Store to VRAM starting at 0xB000:0000
source\domino\render\ega\ega_hw.c:20:        out_mode->kind = EGA_MODE_KIND_640x350_16;
source\domino\render\ega\ega_hw.c:21:        out_mode->width = 640u;
source\domino\render\ega\ega_hw.c:22:        out_mode->height = 350u;
source\domino\render\ega\ega_hw.c:23:        out_mode->logical_bpp = 4u;
source\domino\render\ega\ega_hw.c:24:        out_mode->pitch_bytes = EGA_PLANE_PITCH_BYTES;
source\domino\render\ega\ega_hw.c:25:        out_mode->vram_segment = 0xa000u;
source\domino\render\ega\ega_hw.c:83:                    packed[plane] |= (uint8_t)(bit_val << (7 - bit));
source\domino\render\api\core\dom_view.c:21:    if (desc->camera == DOM_CAMERA_ID_INVALID) {
source\domino\render\api\core\dom_view.c:24:    cam = dom_camera_lookup(desc->camera);
source\domino\render\api\core\dom_view.c:28:    if (desc->viewport_w <= 0 || desc->viewport_h <= 0) {
source\domino\render\api\core\dom_view.c:80:    if (view->desc.type != DOM_VIEW_TYPE_TOPDOWN_2D) {
source\domino\render\api\core\dom_view.c:83:    cam = dom_camera_lookup(view->desc.camera);
source\domino\render\api\core\dom_view.c:88:    dx = world_x_q32_32 - cam->cam2d.world_x_q32_32;
source\domino\render\api\core\dom_view.c:89:    dy = world_y_q32_32 - cam->cam2d.world_y_q32_32;
source\domino\render\api\core\dom_view.c:91:    /* zoom q16.16, dx/dy q32.32 -> sx_fp q32.16 */
source\domino\render\api\core\dom_view.c:92:    sx_fp = (dx >> 16) * cam->cam2d.zoom_q16_16;
source\domino\render\api\core\dom_view.c:93:    sy_fp = (dy >> 16) * cam->cam2d.zoom_q16_16;
source\domino\render\api\core\dom_view.c:95:    *out_sx = view->desc.viewport_x + (dom_i32)(sx_fp >> 16);
source\domino\render\api\core\dom_view.c:96:    *out_sy = view->desc.viewport_y + (dom_i32)(sy_fp >> 16);
source\domino\render\herc\herc_hw.c:17:        out_mode->kind = HERC_MODE_KIND_720x348_1;
source\domino\render\herc\herc_hw.c:18:        out_mode->width = 720u;
source\domino\render\herc\herc_hw.c:19:        out_mode->height = 348u;
source\domino\render\herc\herc_hw.c:20:        out_mode->bits_per_pixel = 1u;
source\domino\render\herc\herc_hw.c:21:        out_mode->pitch_bytes = 90u; /* 720 / 8 */
source\domino\render\herc\herc_hw.c:22:        out_mode->vram_segment = 0xb000u;
source\domino\render\herc\herc_hw.c:81:                packed |= (uint8_t)(on << (7u - bit));
source\domino\ui\d_ui.c:14:    w->id = g_next_widget_id++;
source\domino\ui\d_ui.c:15:    w->kind = kind;
source\domino\ui\d_ui.c:16:    w->flags = DUI_WIDGET_VISIBLE;
source\domino\ui\d_ui.c:25:    child = w->first_child;
source\domino\ui\d_ui.c:27:        dui_widget *next = child->next_sibling;
source\domino\ui\d_ui.c:39:    ctx->root = (dui_widget *)malloc(sizeof(dui_widget));
source\domino\ui\d_ui.c:40:    if (!ctx->root) {
source\domino\ui\d_ui.c:43:    dui_reset_widget(ctx->root, DUI_WIDGET_ROOT);
source\domino\ui\d_ui.c:44:    ctx->root->parent = (dui_widget *)0;
source\domino\ui\d_ui.c:45:    ctx->root->text = (const char *)0;
source\domino\ui\d_ui.c:53:    if (ctx->root) {
source\domino\ui\d_ui.c:54:        dui_free_tree(ctx->root);
source\domino\ui\d_ui.c:55:        ctx->root = (dui_widget *)0;
source\domino\ui\d_ui.c:79:    parent = w->parent;
source\domino\ui\d_ui.c:83:    if (parent->first_child == w) {
source\domino\ui\d_ui.c:84:        parent->first_child = w->next_sibling;
source\domino\ui\d_ui.c:86:        dui_widget *cur = parent->first_child;
source\domino\ui\d_ui.c:88:            if (cur->next_sibling == w) {
source\domino\ui\d_ui.c:89:                cur->next_sibling = w->next_sibling;
source\domino\ui\d_ui.c:92:            cur = cur->next_sibling;
source\domino\ui\d_ui.c:95:    w->parent = (dui_widget *)0;
source\domino\ui\d_ui.c:96:    w->next_sibling = (dui_widget *)0;
source\domino\ui\d_ui.c:104:    if (ctx->root == w) {
source\domino\ui\d_ui.c:116:    if (child->parent) {
source\domino\ui\d_ui.c:119:    child->next_sibling = parent->first_child;
source\domino\ui\d_ui.c:120:    child->parent = parent;
source\domino\ui\d_ui.c:121:    parent->first_child = child;
source\domino\ui\d_ui.c:126:    if (!w || !w->parent) {
source\domino\ui\d_ui.c:144:    parent->final_rect = *root_rect;
source\domino\ui\d_ui.c:147:    cursor_y = root_rect->y + margin;
source\domino\ui\d_ui.c:148:    child = parent->first_child;
source\domino\ui\d_ui.c:152:        if (child->flags & DUI_WIDGET_VISIBLE) {
source\domino\ui\d_ui.c:154:            rect.x = root_rect->x + margin + child->layout_rect.x;
source\domino\ui\d_ui.c:155:            rect.y = cursor_y + child->layout_rect.y;
source\domino\ui\d_ui.c:156:            rect.w = root_rect->w - margin - margin;
source\domino\ui\d_ui.c:157:            rect.h = child->layout_rect.h ? child->layout_rect.h : default_h;
source\domino\ui\d_ui.c:158:            child->final_rect = rect;
source\domino\ui\d_ui.c:160:            if (child->first_child) {
source\domino\ui\d_ui.c:164:        child = child->next_sibling;
source\domino\ui\d_ui.c:170:    if (!ctx || !ctx->root || !root_rect) {
source\domino\ui\d_ui.c:173:    ctx->root->layout_rect = *root_rect;
source\domino\ui\d_ui.c:174:    ctx->root->final_rect = *root_rect;
source\domino\ui\d_ui.c:175:    dui_layout_children(ctx->root, root_rect);
source\domino\ui\d_ui.c:184:    r.x = d_q16_16_to_int(rect->x);
source\domino\ui\d_ui.c:185:    r.y = d_q16_16_to_int(rect->y);
source\domino\ui\d_ui.c:186:    r.w = d_q16_16_to_int(rect->w);
source\domino\ui\d_ui.c:187:    r.h = d_q16_16_to_int(rect->h);
source\domino\ui\d_ui.c:198:    t.x = d_q16_16_to_int(rect->x);
source\domino\ui\d_ui.c:199:    t.y = d_q16_16_to_int(rect->y);
source\domino\ui\d_ui.c:211:    if (!w || !frame || !frame->cmd_buffer) {
source\domino\ui\d_ui.c:212:        return -1;
source\domino\ui\d_ui.c:214:    if ((w->flags & DUI_WIDGET_VISIBLE) == 0u) {
source\domino\ui\d_ui.c:218:    switch (w->kind) {
source\domino\ui\d_ui.c:222:        dui_emit_rect(frame->cmd_buffer, &w->final_rect, bg_panel);
source\domino\ui\d_ui.c:225:        dui_emit_rect(frame->cmd_buffer, &w->final_rect, bg_button);
source\domino\ui\d_ui.c:226:        dui_emit_text(frame->cmd_buffer, &w->final_rect, w->text, fg_text);
source\domino\ui\d_ui.c:229:        dui_emit_text(frame->cmd_buffer, &w->final_rect, w->text, fg_text);
source\domino\ui\d_ui.c:232:        dui_emit_rect(frame->cmd_buffer, &w->final_rect, bg_panel);
source\domino\ui\d_ui.c:243:    int top = -1;
source\domino\ui\d_ui.c:244:    if (!ctx || !ctx->root || !frame) {
source\domino\ui\d_ui.c:248:    stack[++top] = ctx->root;
source\domino\ui\d_ui.c:250:        dui_widget *w = stack[top--];
source\domino\ui\d_ui.c:255:        child = w->first_child;
source\domino\ui\d_ui.c:260:            child = child->next_sibling;
source\domino\render\api\core\dom_text_layout.h:10:/* Deterministic placeholder text metrics used by vector-only paths. */
source\domino\render\herc\herc_gfx.c:267:        memcpy(g_herc.view, cam->view, sizeof(g_herc.view));
source\domino\render\herc\herc_gfx.c:268:        memcpy(g_herc.proj, cam->proj, sizeof(g_herc.proj));
source\domino\render\herc\herc_gfx.c:269:        memcpy(g_herc.world, cam->world, sizeof(g_herc.world));
source\domino\render\herc\herc_gfx.c:298:        int x = spr->x + g_herc.camera2d_x;
source\domino\render\herc\herc_gfx.c:299:        int y = spr->y + g_herc.camera2d_y;
source\domino\render\herc\herc_gfx.c:300:        soft_raster_fill_rect_2d(&g_herc.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\herc\herc_gfx.c:306:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\herc\herc_gfx.c:360:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\herc\herc_gfx.c:374:    ptr = cmd_buf->data;
source\domino\render\herc\herc_gfx.c:375:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\herc\herc_gfx.c:384:        payload_size = cmd->payload_size;
source\domino\render\herc\herc_gfx.c:391:        switch (cmd->opcode) {
source\domino\render\gfx.c:135:    if (!vt || !vt->init || !vt->init(&local)) {
source\domino\render\gfx.c:140:    if (g_dgfx->get_caps) {
source\domino\render\gfx.c:141:        g_caps = g_dgfx->get_caps();
source\domino\render\gfx.c:148:        if (g_dgfx && g_dgfx->shutdown) {
source\domino\render\gfx.c:149:            g_dgfx->shutdown();
source\domino\render\gfx.c:164:    if (g_dgfx && g_dgfx->shutdown) {
source\domino\render\gfx.c:165:        g_dgfx->shutdown();
source\domino\render\gfx.c:178:    if (g_dgfx && g_dgfx->resize) {
source\domino\render\gfx.c:179:        g_dgfx->resize(width, height);
source\domino\render\gfx.c:188:    if (g_dgfx && g_dgfx->begin_frame) {
source\domino\render\gfx.c:189:        g_dgfx->begin_frame();
source\domino\render\gfx.c:195:    if (g_dgfx && g_dgfx->execute) {
source\domino\render\gfx.c:196:        g_dgfx->execute(cmd);
source\domino\render\gfx.c:202:    if (g_dgfx && g_dgfx->end_frame) {
source\domino\render\gfx.c:203:        g_dgfx->end_frame();
source\domino\tui\tui.c:49:        len = cap - 1u;
source\domino\tui\tui.c:57:    if (!ctx || ctx->widget_count >= D_TUI_MAX_WIDGETS) {
source\domino\tui\tui.c:65:    w->type = type;
source\domino\tui\tui.c:66:    w->layout = D_TUI_LAYOUT_VERTICAL;
source\domino\tui\tui.c:67:    w->text[0] = '\0';
source\domino\tui\tui.c:68:    ctx->widgets[ctx->widget_count++] = w;
source\domino\tui\tui.c:78:    ctx->focus_index = 0;
source\domino\tui\tui.c:85:    for (i = 0; i < ctx->widget_count; ++i) {
source\domino\tui\tui.c:86:        free(ctx->widgets[i]);
source\domino\tui\tui.c:93:    ctx->root = root;
source\domino\tui\tui.c:99:        w->layout = layout;
source\domino\tui\tui.c:107:        d_tui_copy_text(w->text, sizeof(w->text), text);
source\domino\tui\tui.c:116:        d_tui_copy_text(w->text, sizeof(w->text), text);
source\domino\tui\tui.c:117:        w->on_activate = on_activate;
source\domino\tui\tui.c:118:        w->user = user;
source\domino\tui\tui.c:126:        w->list.items = items;
source\domino\tui\tui.c:127:        w->list.count = item_count;
source\domino\tui\tui.c:128:        w->list.selected = 0;
source\domino\tui\tui.c:135:    if (parent->child_count >= D_TUI_MAX_CHILDREN) return 0;
source\domino\tui\tui.c:136:    parent->children[parent->child_count++] = child;
source\domino\tui\tui.c:142:    d_tui_copy_text(w->text, sizeof(w->text), text);
source\domino\tui\tui.c:146:    if (!w || w->type != D_TUI_WIDGET_LIST) return;
source\domino\tui\tui.c:148:    if (index >= w->list.count) index = w->list.count - 1;
source\domino\tui\tui.c:149:    w->list.selected = index;
source\domino\tui\tui.c:153:    if (!w || w->type != D_TUI_WIDGET_LIST) return -1;
source\domino\tui\tui.c:154:    return w->list.selected;
source\domino\tui\tui.c:160:    if (w->type == D_TUI_WIDGET_BUTTON || w->type == D_TUI_WIDGET_LIST) {
source\domino\tui\tui.c:161:        if (ctx->focus_count < D_TUI_MAX_WIDGETS) {
source\domino\tui\tui.c:162:            ctx->focus[ctx->focus_count++] = w;
source\domino\tui\tui.c:165:    for (i = 0; i < w->child_count; ++i) {
source\domino\tui\tui.c:166:        d_tui_collect_focus(ctx, w->children[i]);
source\domino\tui\tui.c:171:    int old_index = ctx->focus_index;
source\domino\tui\tui.c:172:    ctx->focus_count = 0;
source\domino\tui\tui.c:173:    ctx->focus_index = 0;
source\domino\tui\tui.c:174:    d_tui_collect_focus(ctx, ctx->root);
source\domino\tui\tui.c:175:    if (old_index < ctx->focus_count) {
source\domino\tui\tui.c:176:        ctx->focus_index = old_index;
source\domino\tui\tui.c:177:    } else if (ctx->focus_count > 0) {
source\domino\tui\tui.c:178:        ctx->focus_index = ctx->focus_count - 1;
source\domino\tui\tui.c:185:    w->x = x;
source\domino\tui\tui.c:186:    w->y = y;
source\domino\tui\tui.c:187:    w->w = w_px;
source\domino\tui\tui.c:188:    w->h = h_px;
source\domino\tui\tui.c:189:    if (w->type == D_TUI_WIDGET_PANEL && w->child_count > 0) {
source\domino\tui\tui.c:190:        if (w->layout == D_TUI_LAYOUT_VERTICAL) {
source\domino\tui\tui.c:191:            int slot_h = h_px / w->child_count;
source\domino\tui\tui.c:192:            int extra = h_px - slot_h * w->child_count;
source\domino\tui\tui.c:194:            for (i = 0; i < w->child_count; ++i) {
source\domino\tui\tui.c:195:                int ch = slot_h + ((i == w->child_count - 1) ? extra : 0);
source\domino\tui\tui.c:196:                d_tui_layout_widget(w->children[i], x, cy, w_px, ch);
source\domino\tui\tui.c:200:            int slot_w = w_px / w->child_count;
source\domino\tui\tui.c:201:            int extra = w_px - slot_w * w->child_count;
source\domino\tui\tui.c:203:            for (i = 0; i < w->child_count; ++i) {
source\domino\tui\tui.c:204:                int cw = slot_w + ((i == w->child_count - 1) ? extra : 0);
source\domino\tui\tui.c:205:                d_tui_layout_widget(w->children[i], cx, y, cw, h_px);
source\domino\tui\tui.c:218:    row = w->y;
source\domino\tui\tui.c:219:    col = w->x;
source\domino\tui\tui.c:220:    d_tui_copy_text(buf, sizeof(buf), w->text);
source\domino\tui\tui.c:222:    if (len > w->w) {
source\domino\tui\tui.c:223:        buf[w->w] = '\0';
source\domino\tui\tui.c:237:    d_tui_copy_text(buf, sizeof(buf), w->text);
source\domino\tui\tui.c:240:    strncat(line, buf, sizeof(line) - strlen(line) - 1);
source\domino\tui\tui.c:241:    strncat(line, "]", sizeof(line) - strlen(line) - 1);
source\domino\tui\tui.c:243:        dsys_terminal_draw_text(w->y, w->x, ">");
source\domino\tui\tui.c:244:        dsys_terminal_draw_text(w->y, w->x + 1, line);
source\domino\tui\tui.c:246:        dsys_terminal_draw_text(w->y, w->x, line);
source\domino\tui\tui.c:252:    int rows = w->h;
source\domino\tui\tui.c:254:    if (w->list.selected >= rows) {
source\domino\tui\tui.c:255:        start = w->list.selected - rows + 1;
source\domino\tui\tui.c:257:    for (i = 0; i < rows && (start + i) < w->list.count; ++i) {
source\domino\tui\tui.c:258:        const char* item = w->list.items[start + i];
source\domino\tui\tui.c:261:        line[w->w - 2 > 0 ? w->w - 2 : 0] = '\0';
source\domino\tui\tui.c:262:        if (focused && (start + i) == w->list.selected) {
source\domino\tui\tui.c:263:            dsys_terminal_draw_text(w->y + i, w->x, ">");
source\domino\tui\tui.c:264:            dsys_terminal_draw_text(w->y + i, w->x + 1, line);
source\domino\tui\tui.c:266:            dsys_terminal_draw_text(w->y + i, w->x, " ");
source\domino\tui\tui.c:267:            dsys_terminal_draw_text(w->y + i, w->x + 1, line);
source\domino\tui\tui.c:276:    if (ctx && ctx->focus_count > 0 && ctx->focus_index < ctx->focus_count) {
source\domino\tui\tui.c:277:        focused = (ctx->focus[ctx->focus_index] == w) ? 1 : 0;
source\domino\tui\tui.c:279:    switch (w->type) {
source\domino\tui\tui.c:292:    for (i = 0; i < w->child_count; ++i) {
source\domino\tui\tui.c:293:        d_tui_render_widget(ctx, w->children[i]);
source\domino\tui\tui.c:300:    if (!ctx || !ctx->root) return;
source\domino\tui\tui.c:305:    d_tui_layout_widget(ctx->root, 0, 0, cols, rows);
source\domino\tui\tui.c:307:    d_tui_render_widget(ctx, ctx->root);
source\domino\tui\tui.c:311:    if (!ctx || ctx->focus_count == 0) return;
source\domino\tui\tui.c:312:    ctx->focus_index = (ctx->focus_index + 1) % ctx->focus_count;
source\domino\tui\tui.c:316:    if (!ctx || ctx->focus_count == 0) return;
source\domino\tui\tui.c:317:    ctx->focus_index -= 1;
source\domino\tui\tui.c:318:    if (ctx->focus_index < 0) {
source\domino\tui\tui.c:319:        ctx->focus_index = ctx->focus_count - 1;
source\domino\tui\tui.c:325:    if (!ctx || ctx->focus_count == 0) return;
source\domino\tui\tui.c:326:    focused = ctx->focus[ctx->focus_index];
source\domino\tui\tui.c:328:        if (focused && focused->type == D_TUI_WIDGET_LIST) {
source\domino\tui\tui.c:329:            d_tui_list_set_selection(focused, focused->list.selected - 1);
source\domino\tui\tui.c:334:        if (focused && focused->type == D_TUI_WIDGET_LIST) {
source\domino\tui\tui.c:335:            d_tui_list_set_selection(focused, focused->list.selected + 1);
source\domino\tui\tui.c:340:        if (focused && focused->on_activate) {
source\domino\tui\tui.c:341:            focused->on_activate(focused, focused->user);
source\domino\render\vga\vga_hw.h:7:/* Initialize VGA hardware layer (stubbed on non-DOS builds). */
source\domino\render\vk1\vk1_gfx.h:14:    /* host window handle is platform-specific; dsys_window_get_native_handle
source\domino\render\vk1\vk1_gfx.h:15:       returns a platform-dependent pointer. vk1 backend is responsible
source\domino\render\vk1\vk1_gfx.h:16:       for bridging this to VkSurfaceKHR via platform-specific creation.
source\domino\render\vk1\vk1_gfx.h:73:    /* Optional: simple vertex buffers for immediate-mode style draws.
source\domino\render\soft\core\dom_render_software.c:30:    if (h != 0 && w > ((size_t)-1) / h / sizeof(dom_u32)) {
source\domino\render\soft\core\dom_render_software.c:40:    if (st->pixels) {
source\domino\render\soft\core\dom_render_software.c:41:        free(st->pixels);
source\domino\render\soft\core\dom_render_software.c:44:    st->pixels = buf;
source\domino\render\soft\core\dom_render_software.c:45:    st->width = w;
source\domino\render\soft\core\dom_render_software.c:46:    st->height = h;
source\domino\render\soft\core\dom_render_software.c:47:    st->pitch_pixels = w;
source\domino\render\soft\core\dom_render_software.c:48:    st->pitch_bytes = w * (dom_u32)sizeof(dom_u32);
source\domino\render\soft\core\dom_render_software.c:50:    r->width = w;
source\domino\render\soft\core\dom_render_software.c:51:    r->height = h;
source\domino\render\soft\core\dom_render_software.c:52:    r->config.width = w;
source\domino\render\soft\core\dom_render_software.c:53:    r->config.height = h;
source\domino\render\soft\core\dom_render_software.c:68:    out_caps->supports_textures = 0;
source\domino\render\soft\core\dom_render_software.c:69:    out_caps->supports_blending = 0;
source\domino\render\soft\core\dom_render_software.c:70:    out_caps->supports_linear_filter = 0;
source\domino\render\soft\core\dom_render_software.c:71:    out_caps->supports_aniso = 0;
source\domino\render\soft\core\dom_render_software.c:79:    st->present = cfg->present;
source\domino\render\soft\core\dom_render_software.c:80:    st->present_user = cfg->present_user;
source\domino\render\soft\core\dom_render_software.c:82:    r->config = *cfg;
source\domino\render\soft\core\dom_render_software.c:83:    r->mode = cfg->mode;
source\domino\render\soft\core\dom_render_software.c:84:    r->backend_state = st;
source\domino\render\soft\core\dom_render_software.c:86:    err = dom_render_software_resize_buffer(r, st, cfg->width, cfg->height);
source\domino\render\soft\core\dom_render_software.c:89:        r->backend_state = 0;
source\domino\render\soft\core\dom_render_software.c:97:    if (!r || !r->backend_state) {
source\domino\render\soft\core\dom_render_software.c:100:    st = (DomRenderSoftwareState *)r->backend_state;
source\domino\render\soft\core\dom_render_software.c:101:    if (st->pixels) {
source\domino\render\soft\core\dom_render_software.c:102:        free(st->pixels);
source\domino\render\soft\core\dom_render_software.c:105:    r->backend_state = 0;
source\domino\render\soft\core\dom_render_software.c:111:    if (!r || !r->backend_state) {
source\domino\render\soft\core\dom_render_software.c:114:    st = (DomRenderSoftwareState *)r->backend_state;
source\domino\render\soft\core\dom_render_software.c:122:    if (!st || !st->pixels) {
source\domino\render\soft\core\dom_render_software.c:125:    total = st->width * st->height;
source\domino\render\soft\core\dom_render_software.c:127:        st->pixels[i] = c;
source\domino\render\soft\core\dom_render_software.c:136:    if (!st || !st->pixels) {
source\domino\render\soft\core\dom_render_software.c:142:    if ((dom_u32)x >= st->width || (dom_u32)y >= st->height) {
source\domino\render\soft\core\dom_render_software.c:145:    st->pixels[(dom_u32)y * st->pitch_pixels + (dom_u32)x] = c;
source\domino\render\soft\core\dom_render_software.c:153:    dom_i32 dx = (x1 > x0) ? (x1 - x0) : (x0 - x1);
source\domino\render\soft\core\dom_render_software.c:154:    dom_i32 sx = (x0 < x1) ? 1 : -1;
source\domino\render\soft\core\dom_render_software.c:155:    dom_i32 dy = (y1 > y0) ? (y1 - y0) : (y0 - y1);
source\domino\render\soft\core\dom_render_software.c:156:    dom_i32 sy = (y0 < y1) ? 1 : -1;
source\domino\render\soft\core\dom_render_software.c:157:    dom_i32 err = dx - dy;
source\domino\render\soft\core\dom_render_software.c:164:        if ((err << 1) > -dy) {
source\domino\render\soft\core\dom_render_software.c:165:            err -= dy;
source\domino\render\soft\core\dom_render_software.c:179:    if (!st || !st->pixels) {
source\domino\render\soft\core\dom_render_software.c:182:    x0 = rc->rect.x;
source\domino\render\soft\core\dom_render_software.c:183:    y0 = rc->rect.y;
source\domino\render\soft\core\dom_render_software.c:184:    x1 = rc->rect.x + rc->rect.w;
source\domino\render\soft\core\dom_render_software.c:185:    y1 = rc->rect.y + rc->rect.h;
source\domino\render\soft\core\dom_render_software.c:188:    if (x1 > (dom_i32)st->width)  x1 = (dom_i32)st->width;
source\domino\render\soft\core\dom_render_software.c:189:    if (y1 > (dom_i32)st->height) y1 = (dom_i32)st->height;
source\domino\render\soft\core\dom_render_software.c:191:        dom_u32 *row = st->pixels + (dom_u32)y * st->pitch_pixels;
source\domino\render\soft\core\dom_render_software.c:193:            row[x] = rc->color;
source\domino\render\soft\core\dom_render_software.c:201:    if (poly->count < 2) {
source\domino\render\soft\core\dom_render_software.c:204:    for (i = 0; i < poly->count; ++i) {
source\domino\render\soft\core\dom_render_software.c:205:        DomVec2i a = poly->pts[i];
source\domino\render\soft\core\dom_render_software.c:206:        DomVec2i b = poly->pts[(i + 1u) % poly->count];
source\domino\render\soft\core\dom_render_software.c:207:        dom_sw_draw_line(st, a.x, a.y, b.x, b.y, poly->color);
source\domino\render\soft\core\dom_render_software.c:227:    if (!r || !r->backend_state) {
source\domino\render\soft\core\dom_render_software.c:234:    st = (DomRenderSoftwareState *)r->backend_state;
source\domino\render\soft\core\dom_render_software.c:235:    dom_sw_clear(st, r->state.clear_color);
source\domino\render\soft\core\dom_render_software.c:239:        switch (cmd->type) {
source\domino\render\soft\core\dom_render_software.c:242:                             cmd->u.line.x0, cmd->u.line.y0,
source\domino\render\soft\core\dom_render_software.c:243:                             cmd->u.line.x1, cmd->u.line.y1,
source\domino\render\soft\core\dom_render_software.c:244:                             cmd->u.line.color);
source\domino\render\soft\core\dom_render_software.c:247:            dom_sw_draw_rect(st, &cmd->u.rect);
source\domino\render\soft\core\dom_render_software.c:250:            dom_sw_draw_poly(st, &cmd->u.poly);
source\domino\render\soft\core\dom_render_software.c:254:            if (r->mode == DOM_RENDER_MODE_VECTOR_ONLY || !r->caps.supports_textures) {
source\domino\render\soft\core\dom_render_software.c:256:                                               cmd->u.sprite.x,
source\domino\render\soft\core\dom_render_software.c:257:                                               cmd->u.sprite.y,
source\domino\render\soft\core\dom_render_software.c:258:                                               r->state.default_color);
source\domino\render\soft\core\dom_render_software.c:263:                                           cmd->u.sprite.x,
source\domino\render\soft\core\dom_render_software.c:264:                                           cmd->u.sprite.y,
source\domino\render\soft\core\dom_render_software.c:265:                                           r->state.default_color);
source\domino\render\soft\core\dom_render_software.c:269:                                           cmd->u.text.x,
source\domino\render\soft\core\dom_render_software.c:270:                                           cmd->u.text.y,
source\domino\render\soft\core\dom_render_software.c:271:                                           r->state.default_color);
source\domino\render\soft\core\dom_render_software.c:276:            /* No-op */
source\domino\render\soft\core\dom_render_software.c:285:    if (!r || !r->backend_state) {
source\domino\render\soft\core\dom_render_software.c:288:    st = (DomRenderSoftwareState *)r->backend_state;
source\domino\render\soft\core\dom_render_software.c:289:    if (st->present && st->pixels) {
source\domino\render\soft\core\dom_render_software.c:290:        st->present(st->present_user,
source\domino\render\soft\core\dom_render_software.c:291:                    st->pixels,
source\domino\render\soft\core\dom_render_software.c:292:                    (int)st->width,
source\domino\render\soft\core\dom_render_software.c:293:                    (int)st->height,
source\domino\render\soft\core\dom_render_software.c:294:                    (int)st->pitch_bytes);
source\domino\render\vk1\vk1_gfx.c:78:    if (!desc || !desc->window) {
source\domino\render\vk1\vk1_gfx.c:84:    g_vk1.native_window = dsys_window_get_native_handle(desc->window);
source\domino\render\vk1\vk1_gfx.c:89:    g_vk1.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\vk1\vk1_gfx.c:90:    g_vk1.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\vk1\vk1_gfx.c:92:    g_vk1.vsync = desc->vsync ? 1 : 0;
source\domino\render\vk1\vk1_gfx.c:446:       are provided by helper functions or compile-time configuration. */
source\domino\render\vk1\vk1_gfx.c:461:       - For Win32: use VkWin32SurfaceCreateInfoKHR with HWND/HINSTANCE.
source\domino\render\vk1\vk1_gfx.c:462:       - For X11: VkXlibSurfaceCreateInfoKHR with Display* and Window.
source\domino\render\vk1\vk1_gfx.c:463:       - For macOS: VK_EXT_metal_surface / VK_MVK_macos_surface and CAMetalLayer.
source\domino\render\vk1\vk1_gfx.c:769:    /* TODO: create a host-visible uniform buffer for camera/world matrices. */
source\domino\render\vk1\vk1_gfx.c:798:    /* For now, rely on the begin-frame clear values. */
source\domino\render\vk1\vk1_gfx.c:848:        ubo->view[i] = 0.0f;
source\domino\render\vk1\vk1_gfx.c:849:        ubo->proj[i] = 0.0f;
source\domino\render\vk1\vk1_gfx.c:850:        ubo->world[i] = 0.0f;
source\domino\render\vk1\vk1_gfx.c:852:    ubo->view[0] = ubo->view[5] = ubo->view[10] = ubo->view[15] = 1.0f;
source\domino\render\vk1\vk1_gfx.c:853:    ubo->proj[0] = ubo->proj[5] = ubo->proj[10] = ubo->proj[15] = 1.0f;
source\domino\render\vk1\vk1_gfx.c:854:    ubo->world[0] = ubo->world[5] = ubo->world[10] = ubo->world[15] = 1.0f;
source\domino\render\vk1\vk1_gfx.c:987:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\vk1\vk1_gfx.c:995:    ptr = cmd_buf->data;
source\domino\render\vk1\vk1_gfx.c:996:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\vk1\vk1_gfx.c:1005:        payload_size = cmd->payload_size;
source\domino\render\vk1\vk1_gfx.c:1012:        switch (cmd->opcode) {
source\domino\render\vga\vga_gfx.h:27:    uint16_t      vram_segment; /* real-mode segment (0xA000) */
source\domino\render\soft\core\domino_soft_core.c:39:    if (!dev || !dev->backend_data) return -1;
source\domino\render\soft\core\domino_soft_core.c:40:    st = (domino_soft_state*)dev->backend_data;
source\domino\render\soft\core\domino_soft_core.c:41:    if (st->target && st->target->present) {
source\domino\render\soft\core\domino_soft_core.c:42:        return st->target->present(st->target_state,
source\domino\render\soft\core\domino_soft_core.c:43:                                   st->pixels,
source\domino\render\soft\core\domino_soft_core.c:44:                                   st->width,
source\domino\render\soft\core\domino_soft_core.c:45:                                   st->height,
source\domino\render\soft\core\domino_soft_core.c:46:                                   st->stride_bytes);
source\domino\render\soft\core\domino_soft_core.c:55:    st = (domino_soft_state*)dev->backend_data;
source\domino\render\soft\core\domino_soft_core.c:57:        if (st->target && st->target->shutdown) {
source\domino\render\soft\core\domino_soft_core.c:58:            st->target->shutdown(st->target_state);
source\domino\render\soft\core\domino_soft_core.c:60:        if (st->pixels) {
source\domino\render\soft\core\domino_soft_core.c:61:            free(st->pixels);
source\domino\render\soft\core\domino_soft_core.c:86:    if (!dev || !dev->backend_data) return -1;
source\domino\render\soft\core\domino_soft_core.c:87:    st = (domino_soft_state*)dev->backend_data;
source\domino\render\soft\core\domino_soft_core.c:89:    row = (unsigned int*)st->pixels;
source\domino\render\soft\core\domino_soft_core.c:90:    for (y = 0; y < st->height; ++y) {
source\domino\render\soft\core\domino_soft_core.c:91:        for (x = 0; x < st->width; ++x) {
source\domino\render\soft\core\domino_soft_core.c:94:        row = (unsigned int*)((unsigned char*)row + st->stride_bytes);
source\domino\render\soft\core\domino_soft_core.c:107:    if (!dev || !dev->backend_data || !rect) return -1;
source\domino\render\soft\core\domino_soft_core.c:108:    st = (domino_soft_state*)dev->backend_data;
source\domino\render\soft\core\domino_soft_core.c:111:    x0 = (int)rect->x;
source\domino\render\soft\core\domino_soft_core.c:112:    y0 = (int)rect->y;
source\domino\render\soft\core\domino_soft_core.c:113:    x1 = x0 + (int)rect->w;
source\domino\render\soft\core\domino_soft_core.c:114:    y1 = y0 + (int)rect->h;
source\domino\render\soft\core\domino_soft_core.c:117:    if (x1 > st->width)  x1 = st->width;
source\domino\render\soft\core\domino_soft_core.c:118:    if (y1 > st->height) y1 = st->height;
source\domino\render\soft\core\domino_soft_core.c:121:        unsigned int* row = (unsigned int*)((unsigned char*)st->pixels + y * st->stride_bytes);
source\domino\render\soft\core\domino_soft_core.c:136:    if (!out_tex) return -1;
source\domino\render\soft\core\domino_soft_core.c:138:    if (!tex) return -1;
source\domino\render\soft\core\domino_soft_core.c:139:    tex->placeholder = 0;
source\domino\render\soft\core\domino_soft_core.c:154:    return -1;
source\domino\render\soft\core\domino_soft_core.c:163:    return -1;
source\domino\render\soft\core\domino_soft_core.c:173:    return -1;
source\domino\render\soft\core\domino_soft_core.c:209:    if (!out_dev || !desc) return -1;
source\domino\render\soft\core\domino_soft_core.c:213:    if (!dev) return -1;
source\domino\render\soft\core\domino_soft_core.c:219:        return -1;
source\domino\render\soft\core\domino_soft_core.c:223:    st->width = desc->width;
source\domino\render\soft\core\domino_soft_core.c:224:    st->height = desc->height;
source\domino\render\soft\core\domino_soft_core.c:225:    st->fmt = desc->framebuffer_fmt;
source\domino\render\soft\core\domino_soft_core.c:226:    st->stride_bytes = st->width * 4;
source\domino\render\soft\core\domino_soft_core.c:227:    st->pixels = (unsigned char*)malloc((size_t)st->stride_bytes * (size_t)st->height);
source\domino\render\soft\core\domino_soft_core.c:228:    if (!st->pixels) {
source\domino\render\soft\core\domino_soft_core.c:231:        return -1;
source\domino\render\soft\core\domino_soft_core.c:233:    memset(st->pixels, 0, (size_t)st->stride_bytes * (size_t)st->height);
source\domino\render\soft\core\domino_soft_core.c:236:    st->target = target;
source\domino\render\soft\core\domino_soft_core.c:237:    if (target && target->init) {
source\domino\render\soft\core\domino_soft_core.c:238:        if (target->init(sys, st->width, st->height, st->fmt, &st->target_state) != 0) {
source\domino\render\soft\core\domino_soft_core.c:240:            st->target = target;
source\domino\render\soft\core\domino_soft_core.c:241:            st->target_state = NULL;
source\domino\render\soft\core\domino_soft_core.c:242:            if (target && target->init) {
source\domino\render\soft\core\domino_soft_core.c:243:                target->init(sys, st->width, st->height, st->fmt, &st->target_state);
source\domino\render\soft\core\domino_soft_core.c:248:    dev->backend = DOMINO_GFX_BACKEND_SOFT;
source\domino\render\soft\core\domino_soft_core.c:249:    dev->profile = desc->profile_hint;
source\domino\render\soft\core\domino_soft_core.c:250:    dev->framebuffer_fmt = desc->framebuffer_fmt;
source\domino\render\soft\core\domino_soft_core.c:251:    dev->width = desc->width;
source\domino\render\soft\core\domino_soft_core.c:252:    dev->height = desc->height;
source\domino\render\soft\core\domino_soft_core.c:253:    dev->fullscreen = desc->fullscreen;
source\domino\render\soft\core\domino_soft_core.c:254:    dev->vsync = desc->vsync;
source\domino\render\soft\core\domino_soft_core.c:255:    dev->sys = sys;
source\domino\render\soft\core\domino_soft_core.c:256:    dev->vt = &g_soft_vtable;
source\domino\render\soft\core\domino_soft_core.c:257:    dev->backend_data = st;
source\domino\render\vga\vga_gfx.c:262:        memcpy(g_vga.view, cam->view, sizeof(g_vga.view));
source\domino\render\vga\vga_gfx.c:263:        memcpy(g_vga.proj, cam->proj, sizeof(g_vga.proj));
source\domino\render\vga\vga_gfx.c:264:        memcpy(g_vga.world, cam->world, sizeof(g_vga.world));
source\domino\render\vga\vga_gfx.c:293:        int x = spr->x + g_vga.camera2d_x;
source\domino\render\vga\vga_gfx.c:294:        int y = spr->y + g_vga.camera2d_y;
source\domino\render\vga\vga_gfx.c:295:        soft_raster_fill_rect_2d(&g_vga.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\vga\vga_gfx.c:301:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\vga\vga_gfx.c:354:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\vga\vga_gfx.c:365:    ptr = cmd_buf->data;
source\domino\render\vga\vga_gfx.c:366:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\vga\vga_gfx.c:375:        payload_size = cmd->payload_size;
source\domino\render\vga\vga_gfx.c:382:        switch (cmd->opcode) {
source\domino\render\ega\ega_gfx.c:255:        memcpy(g_ega.view, cam->view, sizeof(g_ega.view));
source\domino\render\ega\ega_gfx.c:256:        memcpy(g_ega.proj, cam->proj, sizeof(g_ega.proj));
source\domino\render\ega\ega_gfx.c:257:        memcpy(g_ega.world, cam->world, sizeof(g_ega.world));
source\domino\render\ega\ega_gfx.c:273:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\ega\ega_gfx.c:288:        int x = spr->x + g_ega.camera2d_x;
source\domino\render\ega\ega_gfx.c:289:        int y = spr->y + g_ega.camera2d_y;
source\domino\render\ega\ega_gfx.c:290:        soft_raster_fill_rect_2d(&g_ega.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\ega\ega_gfx.c:339:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\ega\ega_gfx.c:347:    ptr = cmd_buf->data;
source\domino\render\ega\ega_gfx.c:348:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\ega\ega_gfx.c:357:        payload_size = cmd->payload_size;
source\domino\render\ega\ega_gfx.c:364:        switch (cmd->opcode) {
source\domino\render\api\core\dom_sprite_batch.c:8:    dom_draw_cmd_buffer_init(&batch->buffer);
source\domino\render\api\core\dom_sprite_batch.c:17:    return dom_draw_cmd_buffer_push(&batch->buffer, cmd);
source\domino\render\api\core\dom_sprite_batch.c:25:    return &batch->buffer;
source\domino\system\plat\x11\x11_sys.c:88:        if (cur->window == id) {
source\domino\system\plat\x11\x11_sys.c:91:        cur = cur->next;
source\domino\system\plat\x11\x11_sys.c:101:    win->next = g_window_list;
source\domino\system\plat\x11\x11_sys.c:115:                prev->next = cur->next;
source\domino\system\plat\x11\x11_sys.c:117:                g_window_list = cur->next;
source\domino\system\plat\x11\x11_sys.c:122:        cur = cur->next;
source\domino\system\plat\x11\x11_sys.c:131:        win->width = w;
source\domino\system\plat\x11\x11_sys.c:132:        win->height = h;
source\domino\system\plat\x11\x11_sys.c:148:    xev.xclient.window = win->window;
source\domino\system\plat\x11\x11_sys.c:172:    win = x11_find_window(xev->xany.window);
source\domino\system\plat\x11\x11_sys.c:174:    switch (xev->type) {
source\domino\system\plat\x11\x11_sys.c:176:        if ((Atom)xev->xclient.data.l[0] == g_x11.wm_delete_window) {
source\domino\system\plat\x11\x11_sys.c:177:            ev->type = DSYS_EVENT_QUIT;
source\domino\system\plat\x11\x11_sys.c:183:        ev->type = DSYS_EVENT_WINDOW_RESIZED;
source\domino\system\plat\x11\x11_sys.c:184:        ev->payload.window.width = xev->xconfigure.width;
source\domino\system\plat\x11\x11_sys.c:185:        ev->payload.window.height = xev->xconfigure.height;
source\domino\system\plat\x11\x11_sys.c:186:        x11_update_window_size(xev->xconfigure.window,
source\domino\system\plat\x11\x11_sys.c:187:                               xev->xconfigure.width,
source\domino\system\plat\x11\x11_sys.c:188:                               xev->xconfigure.height);
source\domino\system\plat\x11\x11_sys.c:196:            sym = XLookupKeysym((XKeyEvent*)&xev->xkey, 0);
source\domino\system\plat\x11\x11_sys.c:197:            is_press = (xev->type == KeyPress) ? 1 : 0;
source\domino\system\plat\x11\x11_sys.c:198:            ev->type = is_press ? DSYS_EVENT_KEY_DOWN : DSYS_EVENT_KEY_UP;
source\domino\system\plat\x11\x11_sys.c:199:            ev->payload.key.key = (int32_t)sym;
source\domino\system\plat\x11\x11_sys.c:200:            ev->payload.key.repeat = false;
source\domino\system\plat\x11\x11_sys.c:205:        ev->type = DSYS_EVENT_MOUSE_MOVE;
source\domino\system\plat\x11\x11_sys.c:206:        ev->payload.mouse_move.x = xev->xmotion.x;
source\domino\system\plat\x11\x11_sys.c:207:        ev->payload.mouse_move.y = xev->xmotion.y;
source\domino\system\plat\x11\x11_sys.c:208:        ev->payload.mouse_move.dx = 0;
source\domino\system\plat\x11\x11_sys.c:209:        ev->payload.mouse_move.dy = 0;
source\domino\system\plat\x11\x11_sys.c:211:            ev->payload.mouse_move.dx = xev->xmotion.x - win->last_x;
source\domino\system\plat\x11\x11_sys.c:212:            ev->payload.mouse_move.dy = xev->xmotion.y - win->last_y;
source\domino\system\plat\x11\x11_sys.c:213:            win->last_x = xev->xmotion.x;
source\domino\system\plat\x11\x11_sys.c:214:            win->last_y = xev->xmotion.y;
source\domino\system\plat\x11\x11_sys.c:220:        if (xev->xbutton.button == 4 || xev->xbutton.button == 5 ||
source\domino\system\plat\x11\x11_sys.c:221:            xev->xbutton.button == 6 || xev->xbutton.button == 7) {
source\domino\system\plat\x11\x11_sys.c:222:            ev->type = DSYS_EVENT_MOUSE_WHEEL;
source\domino\system\plat\x11\x11_sys.c:223:            ev->payload.mouse_wheel.delta_x = 0;
source\domino\system\plat\x11\x11_sys.c:224:            ev->payload.mouse_wheel.delta_y = 0;
source\domino\system\plat\x11\x11_sys.c:225:            if (xev->xbutton.button == 4) {
source\domino\system\plat\x11\x11_sys.c:226:                ev->payload.mouse_wheel.delta_y = 1;
source\domino\system\plat\x11\x11_sys.c:227:            } else if (xev->xbutton.button == 5) {
source\domino\system\plat\x11\x11_sys.c:228:                ev->payload.mouse_wheel.delta_y = -1;
source\domino\system\plat\x11\x11_sys.c:229:            } else if (xev->xbutton.button == 6) {
source\domino\system\plat\x11\x11_sys.c:230:                ev->payload.mouse_wheel.delta_x = -1;
source\domino\system\plat\x11\x11_sys.c:231:            } else if (xev->xbutton.button == 7) {
source\domino\system\plat\x11\x11_sys.c:232:                ev->payload.mouse_wheel.delta_x = 1;
source\domino\system\plat\x11\x11_sys.c:236:        ev->type = DSYS_EVENT_MOUSE_BUTTON;
source\domino\system\plat\x11\x11_sys.c:237:        ev->payload.mouse_button.button = (int32_t)xev->xbutton.button;
source\domino\system\plat\x11\x11_sys.c:238:        ev->payload.mouse_button.pressed = (xev->type == ButtonPress) ? true : false;
source\domino\system\plat\x11\x11_sys.c:239:        ev->payload.mouse_button.clicks = 1;
source\domino\system\plat\x11\x11_sys.c:257:        len = buf_size - 1u;
source\domino\system\plat\x11\x11_sys.c:278:        if (i > 0u && dst[i - 1u] != '/' && i + 1u < cap) {
source\domino\system\plat\x11\x11_sys.c:313:    while (len > 0u && (path[len - 1u] == '/' || path[len - 1u] == '\\')) {
source\domino\system\plat\x11\x11_sys.c:314:        len -= 1u;
source\domino\system\plat\x11\x11_sys.c:318:        c = path[len - 1u];
source\domino\system\plat\x11\x11_sys.c:322:        len -= 1u;
source\domino\system\plat\x11\x11_sys.c:333:        len = cap - 1u;
source\domino\system\plat\x11\x11_sys.c:349:    n = readlink("/proc/self/exe", tmp, sizeof(tmp) - 1u);
source\domino\system\plat\x11\x11_sys.c:414:        next = cur->next;
source\domino\system\plat\x11\x11_sys.c:415:        if (g_x11.display && cur->window) {
source\domino\system\plat\x11\x11_sys.c:416:            XDestroyWindow(g_x11.display, cur->window);
source\domino\system\plat\x11\x11_sys.c:456:    while (nanosleep(&ts, &ts) == -1 && errno == EINTR) {
source\domino\system\plat\x11\x11_sys.c:536:    win->display = g_x11.display;
source\domino\system\plat\x11\x11_sys.c:537:    win->screen = g_x11.screen;
source\domino\system\plat\x11\x11_sys.c:538:    win->window = w;
source\domino\system\plat\x11\x11_sys.c:539:    win->wm_delete_window = g_x11.wm_delete_window;
source\domino\system\plat\x11\x11_sys.c:540:    win->net_wm_state = g_x11.net_wm_state;
source\domino\system\plat\x11\x11_sys.c:541:    win->net_wm_state_fullscreen = g_x11.net_wm_state_fullscreen;
source\domino\system\plat\x11\x11_sys.c:542:    win->width = (int32_t)width;
source\domino\system\plat\x11\x11_sys.c:543:    win->height = (int32_t)height;
source\domino\system\plat\x11\x11_sys.c:544:    win->last_x = 0;
source\domino\system\plat\x11\x11_sys.c:545:    win->last_y = 0;
source\domino\system\plat\x11\x11_sys.c:546:    win->mode = local_desc.mode;
source\domino\system\plat\x11\x11_sys.c:547:    win->next = NULL;
source\domino\system\plat\x11\x11_sys.c:559:    if (g_x11.display && win->window) {
source\domino\system\plat\x11\x11_sys.c:560:        XDestroyWindow(g_x11.display, win->window);
source\domino\system\plat\x11\x11_sys.c:574:    win->mode = mode;
source\domino\system\plat\x11\x11_sys.c:582:    XResizeWindow(g_x11.display, win->window, (unsigned int)w, (unsigned int)h);
source\domino\system\plat\x11\x11_sys.c:583:    win->width = w;
source\domino\system\plat\x11\x11_sys.c:584:    win->height = h;
source\domino\system\plat\x11\x11_sys.c:595:    if (XGetWindowAttributes(g_x11.display, win->window, &attr)) {
source\domino\system\plat\x11\x11_sys.c:596:        win->width = attr.width;
source\domino\system\plat\x11\x11_sys.c:597:        win->height = attr.height;
source\domino\system\plat\x11\x11_sys.c:601:        *w = win->width;
source\domino\system\plat\x11\x11_sys.c:604:        *h = win->height;
source\domino\system\plat\x11\x11_sys.c:613:    return (void*)(uintptr_t)win->window;
source\domino\system\plat\x11\x11_sys.c:729:        return -1;
source\domino\system\plat\x11\x11_sys.c:739:        return -1L;
source\domino\system\plat\x11\x11_sys.c:749:        return -1;
source\domino\system\plat\x11\x11_sys.c:775:    it->dir = dir;
source\domino\system\plat\x11\x11_sys.c:777:    if (len >= sizeof(it->base)) {
source\domino\system\plat\x11\x11_sys.c:778:        len = sizeof(it->base) - 1u;
source\domino\system\plat\x11\x11_sys.c:780:    memcpy(it->base, path, len);
source\domino\system\plat\x11\x11_sys.c:781:    it->base[len] = '\0';
source\domino\system\plat\x11\x11_sys.c:794:        ent = readdir(it->dir);
source\domino\system\plat\x11\x11_sys.c:798:        if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0) {
source\domino\system\plat\x11\x11_sys.c:801:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\x11\x11_sys.c:802:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\x11\x11_sys.c:803:        out->is_dir = false;
source\domino\system\plat\x11\x11_sys.c:805:        if (ent->d_type == DT_DIR) {
source\domino\system\plat\x11\x11_sys.c:806:            out->is_dir = true;
source\domino\system\plat\x11\x11_sys.c:807:        } else if (ent->d_type == DT_UNKNOWN) {
source\domino\system\plat\x11\x11_sys.c:812:            base_len = strlen(it->base);
source\domino\system\plat\x11\x11_sys.c:813:            name_len = strlen(out->name);
source\domino\system\plat\x11\x11_sys.c:815:                memcpy(full, it->base, base_len);
source\domino\system\plat\x11\x11_sys.c:816:                if (base_len > 0u && full[base_len - 1u] != '/') {
source\domino\system\plat\x11\x11_sys.c:820:                memcpy(full + base_len, out->name, name_len);
source\domino\system\plat\x11\x11_sys.c:823:                    out->is_dir = true;
source\domino\system\plat\x11\x11_sys.c:833:            base_len = strlen(it->base);
source\domino\system\plat\x11\x11_sys.c:834:            name_len = strlen(out->name);
source\domino\system\plat\x11\x11_sys.c:836:                memcpy(full, it->base, base_len);
source\domino\system\plat\x11\x11_sys.c:837:                if (base_len > 0u && full[base_len - 1u] != '/') {
source\domino\system\plat\x11\x11_sys.c:841:                memcpy(full + base_len, out->name, name_len);
source\domino\system\plat\x11\x11_sys.c:844:                    out->is_dir = true;
source\domino\system\plat\x11\x11_sys.c:858:    if (it->dir) {
source\domino\system\plat\x11\x11_sys.c:859:        closedir(it->dir);
source\domino\system\plat\x11\x11_sys.c:869:    if (!desc || !desc->exe) {
source\domino\system\plat\x11\x11_sys.c:877:        if (desc->argv) {
source\domino\system\plat\x11\x11_sys.c:878:            execvp(desc->exe, (char* const*)desc->argv);
source\domino\system\plat\x11\x11_sys.c:881:            argv_local[0] = (char*)desc->exe;
source\domino\system\plat\x11\x11_sys.c:883:            execvp(desc->exe, argv_local);
source\domino\system\plat\x11\x11_sys.c:893:    proc->pid = pid;
source\domino\system\plat\x11\x11_sys.c:903:        return -1;
source\domino\system\plat\x11\x11_sys.c:906:    res = waitpid(p->pid, &status, 0);
source\domino\system\plat\x11\x11_sys.c:908:        return -1;
source\domino\system\plat\x11\x11_sys.c:913:    return -1;
source\domino\render\d_gfx.c:22:    if (buf->capacity >= needed) {
source\domino\render\d_gfx.c:26:    new_cap = buf->capacity ? buf->capacity : 1024u;
source\domino\render\d_gfx.c:31:    new_cmds = (d_gfx_cmd *)realloc(buf->cmds, new_cap * sizeof(d_gfx_cmd));
source\domino\render\d_gfx.c:35:    buf->cmds = new_cmds;
source\domino\render\d_gfx.c:36:    buf->capacity = new_cap;
source\domino\render\d_gfx.c:45:    if (!d_gfx_reserve(buf, buf->count + 1u)) {
source\domino\render\d_gfx.c:48:    buf->cmds[buf->count++] = *cmd;
source\domino\render\d_gfx.c:58:    if (!soft || !soft->init) {
source\domino\render\d_gfx.c:61:    if (soft->init() != 0) {
source\domino\render\d_gfx.c:70:    if (g_backend && g_backend->shutdown) {
source\domino\render\d_gfx.c:71:        g_backend->shutdown();
source\domino\render\d_gfx.c:152:    if (g_backend && g_backend->submit_cmd_buffer) {
source\domino\render\d_gfx.c:153:        g_backend->submit_cmd_buffer(buf);
source\domino\render\d_gfx.c:159:    if (g_backend && g_backend->present) {
source\domino\render\d_gfx.c:160:        g_backend->present();
source\domino\render\d_gfx.c:174:/* ------------------------------------------------------------
source\domino\render\d_gfx.c:176: * ------------------------------------------------------------ */
source\domino\render\d_gfx.c:190:    return (v < 0) ? -v : v;
source\domino\render\d_gfx.c:196:        if (desc->width > 0) g_backbuffer_w = desc->width;
source\domino\render\d_gfx.c:197:        if (desc->height > 0) g_backbuffer_h = desc->height;
source\domino\render\d_gfx.c:198:        if (desc->backend == DGFX_BACKEND_NULL) {
source\domino\render\d_gfx.c:233:        buf->count = 0u;
source\domino\render\d_gfx.c:260:            vp.x = p->x;
source\domino\render\d_gfx.c:261:            vp.y = p->y;
source\domino\render\d_gfx.c:262:            vp.w = p->w;
source\domino\render\d_gfx.c:263:            vp.h = p->h;
source\domino\render\d_gfx.c:283:            cmd.x = spr->x;
source\domino\render\d_gfx.c:284:            cmd.y = spr->y;
source\domino\render\d_gfx.c:285:            cmd.w = spr->w;
source\domino\render\d_gfx.c:286:            cmd.h = spr->h;
source\domino\render\d_gfx.c:287:            cmd.color = d_gfx_color_from_rgba(spr->color_rgba);
source\domino\render\d_gfx.c:295:            cmd.x = td->x;
source\domino\render\d_gfx.c:296:            cmd.y = td->y;
source\domino\render\d_gfx.c:297:            cmd.text = td->utf8_text;
source\domino\render\d_gfx.c:298:            cmd.color = d_gfx_color_from_rgba(td->color_rgba);
source\domino\render\d_gfx.c:310:            int x0 = ln->x0;
source\domino\render\d_gfx.c:311:            int y0 = ln->y0;
source\domino\render\d_gfx.c:312:            int x1 = ln->x1;
source\domino\render\d_gfx.c:313:            int y1 = ln->y1;
source\domino\render\d_gfx.c:314:            int thickness = ln->thickness;
source\domino\render\d_gfx.c:320:            d_gfx_color col = d_gfx_color_from_rgba(ln->color_rgba);
source\domino\render\d_gfx.c:326:            dx = d_gfx_abs_i32(x1 - x0);
source\domino\render\d_gfx.c:327:            sx = (x0 < x1) ? 1 : -1;
source\domino\render\d_gfx.c:328:            dy = -d_gfx_abs_i32(y1 - y0);
source\domino\render\d_gfx.c:329:            sy = (y0 < y1) ? 1 : -1;
source\domino\render\d_gfx.c:335:                r.x = x0 - half;
source\domino\render\d_gfx.c:336:                r.y = y0 - half;
source\domino\render\quickdraw\quickdraw_gfx.c:101:    out->red = (r << 8) | r;
source\domino\render\quickdraw\quickdraw_gfx.c:102:    out->green = (g << 8) | g;
source\domino\render\quickdraw\quickdraw_gfx.c:103:    out->blue = (b << 8) | b;
source\domino\render\quickdraw\quickdraw_gfx.c:172:    if (!desc || !desc->window) {
source\domino\render\quickdraw\quickdraw_gfx.c:179:    g_quickdraw.native_window = dsys_window_get_native_handle(desc->window);
source\domino\render\quickdraw\quickdraw_gfx.c:180:    g_quickdraw.width = (desc->width > 0) ? desc->width : 640;
source\domino\render\quickdraw\quickdraw_gfx.c:181:    g_quickdraw.height = (desc->height > 0) ? desc->height : 480;
source\domino\render\quickdraw\quickdraw_gfx.c:422:        v0 = &verts[i - 1u];
source\domino\render\quickdraw\quickdraw_gfx.c:424:        quickdraw_color_from_rgba(v0->color, &c);
source\domino\render\quickdraw\quickdraw_gfx.c:427:        MoveTo((int)(v0->x + (float)g_quickdraw_camera.offset_x),
source\domino\render\quickdraw\quickdraw_gfx.c:428:               (int)(v0->y + (float)g_quickdraw_camera.offset_y));
source\domino\render\quickdraw\quickdraw_gfx.c:429:        LineTo((int)(v1->x + (float)g_quickdraw_camera.offset_x),
source\domino\render\quickdraw\quickdraw_gfx.c:430:               (int)(v1->y + (float)g_quickdraw_camera.offset_y));
source\domino\render\quickdraw\quickdraw_gfx.c:452:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\quickdraw\quickdraw_gfx.c:460:    ptr = cmd_buf->data;
source\domino\render\quickdraw\quickdraw_gfx.c:461:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\quickdraw\quickdraw_gfx.c:472:        payload_size = cmd->payload_size;
source\domino\render\quickdraw\quickdraw_gfx.c:479:        switch (cmd->opcode) {
source\domino\render\api\core\dom_render_debug.c:10:    cx = (dom_i32)(r->width / 2u);
source\domino\render\api\core\dom_render_debug.c:11:    cy = (dom_i32)(r->height / 2u);
source\domino\render\api\core\dom_render_debug.c:13:    dom_render_line(r, 0, cy, (dom_i32)r->width, cy, color);
source\domino\render\api\core\dom_render_debug.c:15:    dom_render_line(r, cx, 0, cx, (dom_i32)r->height, color);
source\domino\render\api\core\dom_render_debug.c:25:    for (x = 0; x < (dom_i32)r->width; x += spacing) {
source\domino\render\api\core\dom_render_debug.c:26:        dom_render_line(r, x, 0, x, (dom_i32)r->height, color);
source\domino\render\api\core\dom_render_debug.c:28:    for (y = 0; y < (dom_i32)r->height; y += spacing) {
source\domino\render\api\core\dom_render_debug.c:29:        dom_render_line(r, 0, y, (dom_i32)r->width, y, color);
source\domino\render\vesa\vesa_gfx.h:48:    /* Command-space state */
source\domino\render\api\core\dom_draw_common.h:5: * Shared draw-command definitions for all renderers.
source\domino\render\api\core\dom_draw_common.h:6: * Pure C89, no platform headers. Deterministic and backend-agnostic.
source\domino\trans\d_trans_validate.c:12:        return -1;
source\domino\trans\d_trans_validate.c:24:            return -1;
source\domino\trans\d_trans_validate.c:27:            return -1;
source\domino\trans\d_trans_validate.c:31:            return -1;
source\domino\trans\d_trans_validate.c:35:            return -1;
source\domino\trans\d_trans_validate.c:38:            return -1;
source\domino\trans\d_trans_validate.c:49:            return -1;
source\domino\trans\d_trans_validate.c:52:            return -1;
source\domino\trans\d_trans_validate.c:56:            return -1;
source\domino\render\vesa\vesa_gfx.c:128:    req_w = (uint16_t)((desc->width > 0) ? desc->width : 640);
source\domino\render\vesa\vesa_gfx.c:129:    req_h = (uint16_t)((desc->height > 0) ? desc->height : 480);
source\domino\render\vesa\vesa_gfx.c:317:        memcpy(g_vesa.view, cam->view, sizeof(g_vesa.view));
source\domino\render\vesa\vesa_gfx.c:318:        memcpy(g_vesa.proj, cam->proj, sizeof(g_vesa.proj));
source\domino\render\vesa\vesa_gfx.c:319:        memcpy(g_vesa.world, cam->world, sizeof(g_vesa.world));
source\domino\render\vesa\vesa_gfx.c:335:    return (int)((v >= 0.0f) ? (v + 0.5f) : (v - 0.5f));
source\domino\render\vesa\vesa_gfx.c:353:        int x = spr->x + g_vesa.camera2d_x;
source\domino\render\vesa\vesa_gfx.c:354:        int y = spr->y + g_vesa.camera2d_y;
source\domino\render\vesa\vesa_gfx.c:355:        soft_raster_fill_rect_2d(&g_vesa.fb, x, y, spr->w, spr->h, spr->color_rgba);
source\domino\render\vesa\vesa_gfx.c:409:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\vesa\vesa_gfx.c:417:    ptr = cmd_buf->data;
source\domino\render\vesa\vesa_gfx.c:418:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\vesa\vesa_gfx.c:427:        payload_size = cmd->payload_size;
source\domino\render\vesa\vesa_gfx.c:434:        switch (cmd->opcode) {
source\domino\trans\d_trans_spline.h:1:/* Generic spline-based transport runtime (C89). */
source\domino\trans\d_trans_spline.h:66:    d_tlv_blob           params;   /* model-specific params */
source\domino\trans\d_trans_spline.h:69:/* Initialize/free world-local transport state. */
source\domino\render\vesa\vesa_bios.c:3:/* Stub implementations; platform-specific VBE hooks can replace these. */
source\domino\render\vesa\vesa_bios.c:7:    return -1;
source\domino\render\vesa\vesa_bios.c:19:    return -1;
source\domino\render\vesa\vesa_bios.c:26:    return -1;
source\domino\render\api\core\dom_draw_common.c:8:    cb->count = 0;
source\domino\render\api\core\dom_draw_common.c:17:    if (cb->count >= DOM_DRAW_COMMAND_MAX) {
source\domino\render\api\core\dom_draw_common.c:20:    cb->cmds[cb->count] = *cmd;
source\domino\render\api\core\dom_draw_common.c:21:    cb->count += 1;
source\domino\render\api\core\dom_draw_common.c:25:/* Optional stable depth sort for triangle commands (back-to-front). */
source\domino\render\api\core\dom_draw_common.c:33:    for (i = 1; i < cb->count; ++i) {
source\domino\render\api\core\dom_draw_common.c:34:        DomDrawCommand key = cb->cmds[i];
source\domino\render\api\core\dom_draw_common.c:45:            if (cb->cmds[j - 1].type == DOM_CMD_TRIANGLE && is_tri) {
source\domino\render\api\core\dom_draw_common.c:46:                dom_i64 prev_depth = (dom_i64)cb->cmds[j - 1].u.tri.z0 +
source\domino\render\api\core\dom_draw_common.c:47:                                     (dom_i64)cb->cmds[j - 1].u.tri.z1 +
source\domino\render\api\core\dom_draw_common.c:48:                                     (dom_i64)cb->cmds[j - 1].u.tri.z2;
source\domino\render\api\core\dom_draw_common.c:56:            cb->cmds[j] = cb->cmds[j - 1];
source\domino\render\api\core\dom_draw_common.c:57:            j -= 1;
source\domino\render\api\core\dom_draw_common.c:59:        cb->cmds[j] = key;
source\domino\render\quartz\quartz_gfx.c:172:    if (!desc || !desc->window) {
source\domino\render\quartz\quartz_gfx.c:178:    g_quartz.window = desc->window;
source\domino\render\quartz\quartz_gfx.c:179:    g_quartz.ns_window = dsys_window_get_native_handle(desc->window);
source\domino\render\quartz\quartz_gfx.c:183:    g_quartz.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\quartz\quartz_gfx.c:184:    g_quartz.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\quartz\quartz_gfx.c:374:        g_quartz.camera_offset_x = cam->offset_x;
source\domino\render\quartz\quartz_gfx.c:375:        g_quartz.camera_offset_y = cam->offset_y;
source\domino\render\quartz\quartz_gfx.c:425:        a = (CGFloat)((spr->color_rgba >> 24) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:426:        r = (CGFloat)((spr->color_rgba >> 16) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:427:        g = (CGFloat)((spr->color_rgba >> 8) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:428:        b = (CGFloat)((spr->color_rgba >> 0) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:431:            (CGFloat)(spr->x + g_quartz.camera_offset_x),
source\domino\render\quartz\quartz_gfx.c:432:            (CGFloat)(spr->y + g_quartz.camera_offset_y),
source\domino\render\quartz\quartz_gfx.c:433:            (CGFloat)spr->w,
source\domino\render\quartz\quartz_gfx.c:434:            (CGFloat)spr->h);
source\domino\render\quartz\quartz_gfx.c:484:        a = (CGFloat)((v0->color >> 24) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:485:        r = (CGFloat)((v0->color >> 16) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:486:        g = (CGFloat)((v0->color >> 8) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:487:        b = (CGFloat)((v0->color >> 0) & 0xffu) / 255.0f;
source\domino\render\quartz\quartz_gfx.c:495:            (CGFloat)(v0->x + g_quartz.camera_offset_x),
source\domino\render\quartz\quartz_gfx.c:496:            (CGFloat)(v0->y + g_quartz.camera_offset_y));
source\domino\render\quartz\quartz_gfx.c:499:            (CGFloat)(v1->x + g_quartz.camera_offset_x),
source\domino\render\quartz\quartz_gfx.c:500:            (CGFloat)(v1->y + g_quartz.camera_offset_y));
source\domino\render\quartz\quartz_gfx.c:530:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\quartz\quartz_gfx.c:538:    ptr = cmd_buf->data;
source\domino\render\quartz\quartz_gfx.c:539:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\quartz\quartz_gfx.c:548:        payload_size = cmd->payload_size;
source\domino\render\quartz\quartz_gfx.c:555:        switch (cmd->opcode) {
source\domino\render\soft\targets\win32\soft_target_win32.c:38:        return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:52:    if (!out_state) return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:56:        return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:66:                         rect.right - rect.left,
source\domino\render\soft\targets\win32\soft_target_win32.c:67:                         rect.bottom - rect.top,
source\domino\render\soft\targets\win32\soft_target_win32.c:70:        return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:75:        return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:77:    st->hwnd = hwnd;
source\domino\render\soft\targets\win32\soft_target_win32.c:78:    st->hdc = GetDC(hwnd);
source\domino\render\soft\targets\win32\soft_target_win32.c:79:    st->width = width;
source\domino\render\soft\targets\win32\soft_target_win32.c:80:    st->height = height;
source\domino\render\soft\targets\win32\soft_target_win32.c:82:    memset(&st->bmi, 0, sizeof(st->bmi));
source\domino\render\soft\targets\win32\soft_target_win32.c:83:    st->bmi.bmiHeader.biSize = sizeof(BITMAPINFOHEADER);
source\domino\render\soft\targets\win32\soft_target_win32.c:84:    st->bmi.bmiHeader.biWidth = width;
source\domino\render\soft\targets\win32\soft_target_win32.c:85:    st->bmi.bmiHeader.biHeight = -height; /* top-down */
source\domino\render\soft\targets\win32\soft_target_win32.c:86:    st->bmi.bmiHeader.biPlanes = 1;
source\domino\render\soft\targets\win32\soft_target_win32.c:87:    st->bmi.bmiHeader.biBitCount = 32;
source\domino\render\soft\targets\win32\soft_target_win32.c:88:    st->bmi.bmiHeader.biCompression = BI_RGB;
source\domino\render\soft\targets\win32\soft_target_win32.c:101:    if (st->hwnd && st->hdc) {
source\domino\render\soft\targets\win32\soft_target_win32.c:102:        ReleaseDC(st->hwnd, st->hdc);
source\domino\render\soft\targets\win32\soft_target_win32.c:104:    if (st->hwnd) {
source\domino\render\soft\targets\win32\soft_target_win32.c:105:        DestroyWindow(st->hwnd);
source\domino\render\soft\targets\win32\soft_target_win32.c:118:    if (!st || !st->hdc) return -1;
source\domino\render\soft\targets\win32\soft_target_win32.c:120:    while (PeekMessage(&msg, st->hwnd, 0, 0, PM_REMOVE)) {
source\domino\render\soft\targets\win32\soft_target_win32.c:125:    StretchDIBits(st->hdc,
source\domino\render\soft\targets\win32\soft_target_win32.c:126:                  0, 0, st->width, st->height,
source\domino\render\soft\targets\win32\soft_target_win32.c:129:                  &st->bmi,
source\domino\render\api\core\dom_camera.c:21:            cam->type = type;
source\domino\render\api\core\dom_camera.c:23:            cam->cam2d.zoom_q16_16 = (dom_i32)(1 << 16);
source\domino\render\api\core\dom_camera.c:25:            cam->cam3d.fov_y_q16_16 = (dom_i32)(60 << 16);
source\domino\render\api\core\dom_camera.c:26:            cam->cam3d.near_mm = 1;
source\domino\render\api\core\dom_camera.c:27:            cam->cam3d.far_mm = 100000;
source\domino\render\pipeline.c:37:    st->viewport.x = 0;
source\domino\render\pipeline.c:38:    st->viewport.y = 0;
source\domino\render\pipeline.c:39:    st->viewport.w = st->has_framebuffer ? st->fb.width : 0;
source\domino\render\pipeline.c:40:    st->viewport.h = st->has_framebuffer ? st->fb.height : 0;
source\domino\render\pipeline.c:47:    memset(&tgt->soft, 0, sizeof(tgt->soft));
source\domino\render\pipeline.c:48:    dgfx_soft_config_get_default(&tgt->soft.config);
source\domino\render\pipeline.c:49:    dgfx_soft_config_apply_profile(&tgt->soft.config, tgt->soft.config.profile);
source\domino\render\pipeline.c:50:    tgt->soft.has_framebuffer = soft_fb_create(&tgt->soft.fb,
source\domino\render\pipeline.c:53:                                               tgt->soft.config.color_format,
source\domino\render\pipeline.c:54:                                               tgt->soft.config.depth_bits,
source\domino\render\pipeline.c:55:                                               tgt->soft.config.stencil_bits) ? 1 : 0;
source\domino\render\pipeline.c:56:    tgt->width = width;
source\domino\render\pipeline.c:57:    tgt->height = height;
source\domino\render\pipeline.c:58:    if (!tgt->soft.has_framebuffer) {
source\domino\render\pipeline.c:61:    d_gfx_soft_reset_state(&tgt->soft);
source\domino\render\pipeline.c:69:    if (tgt->soft.has_framebuffer) {
source\domino\render\pipeline.c:70:        soft_fb_destroy(&tgt->soft.fb);
source\domino\render\pipeline.c:72:    memset(&tgt->soft, 0, sizeof(tgt->soft));
source\domino\render\pipeline.c:73:    tgt->width = 0;
source\domino\render\pipeline.c:74:    tgt->height = 0;
source\domino\render\pipeline.c:78:    if (!tgt || !tgt->soft.has_framebuffer) {
source\domino\render\pipeline.c:81:    soft_raster_clear_color(&tgt->soft.fb,
source\domino\render\pipeline.c:86:    if (tgt->soft.config.features.enable_depth) {
source\domino\render\pipeline.c:87:        soft_raster_clear_depth(&tgt->soft.fb, 1.0f);
source\domino\render\pipeline.c:89:    if (tgt->soft.config.features.enable_stencil) {
source\domino\render\pipeline.c:90:        soft_raster_clear_stencil(&tgt->soft.fb, 0u);
source\domino\render\pipeline.c:99:    if (!tgt || !tgt->soft.has_framebuffer || !cmd || !cmd->payload) {
source\domino\render\pipeline.c:102:    if (cmd->payload_size < sizeof(dgfx_sprite_t)) {
source\domino\render\pipeline.c:105:    count = cmd->payload_size / (uint32_t)sizeof(dgfx_sprite_t);
source\domino\render\pipeline.c:106:    sprites = (const dgfx_sprite_t*)cmd->payload;
source\domino\render\pipeline.c:117:        x0 = spr->x + tgt->soft.viewport.x;
source\domino\render\pipeline.c:118:        y0 = spr->y + tgt->soft.viewport.y;
source\domino\render\pipeline.c:119:        x1 = x0 + spr->w;
source\domino\render\pipeline.c:120:        y1 = y0 + spr->h;
source\domino\render\pipeline.c:122:        if (x0 < tgt->soft.viewport.x) x0 = tgt->soft.viewport.x;
source\domino\render\pipeline.c:123:        if (y0 < tgt->soft.viewport.y) y0 = tgt->soft.viewport.y;
source\domino\render\pipeline.c:124:        if (x1 > tgt->soft.viewport.x + tgt->soft.viewport.w) x1 = tgt->soft.viewport.x + tgt->soft.viewport.w;
source\domino\render\pipeline.c:125:        if (y1 > tgt->soft.viewport.y + tgt->soft.viewport.h) y1 = tgt->soft.viewport.y + tgt->soft.viewport.h;
source\domino\render\pipeline.c:127:        w = x1 - x0;
source\domino\render\pipeline.c:128:        h = y1 - y0;
source\domino\render\pipeline.c:130:            soft_raster_fill_rect_2d(&tgt->soft.fb, x0, y0, w, h, spr->color_rgba);
source\domino\render\pipeline.c:139:    if (!tgt || !tgt->soft.has_framebuffer || !cmd || !cmd->payload) {
source\domino\render\pipeline.c:142:    if (cmd->payload_size < sizeof(dgfx_line_segment_t)) {
source\domino\render\pipeline.c:145:    count = cmd->payload_size / (uint32_t)sizeof(dgfx_line_segment_t);
source\domino\render\pipeline.c:146:    lines = (const dgfx_line_segment_t*)cmd->payload;
source\domino\render\pipeline.c:149:        int x0 = ln->x0 + tgt->soft.viewport.x;
source\domino\render\pipeline.c:150:        int y0 = ln->y0 + tgt->soft.viewport.y;
source\domino\render\pipeline.c:151:        int x1 = ln->x1 + tgt->soft.viewport.x;
source\domino\render\pipeline.c:152:        int y1 = ln->y1 + tgt->soft.viewport.y;
source\domino\render\pipeline.c:153:        soft_raster_draw_line_2d(&tgt->soft.fb, x0, y0, x1, y1, ln->color_rgba);
source\domino\render\pipeline.c:161:    if (!tgt || !tgt->soft.has_framebuffer || !cmd || !cmd->payload) {
source\domino\render\pipeline.c:164:    if (cmd->payload_size < sizeof(dgfx_mesh_draw_t)) {
source\domino\render\pipeline.c:167:    count = cmd->payload_size / (uint32_t)sizeof(dgfx_mesh_draw_t);
source\domino\render\pipeline.c:168:    meshes = (const dgfx_mesh_draw_t*)cmd->payload;
source\domino\render\pipeline.c:172:        if (!m->positions || !m->indices || m->index_count < 3u) {
source\domino\render\pipeline.c:175:        for (tri = 0u; tri + 2u < m->index_count; tri += 3u) {
source\domino\render\pipeline.c:176:            uint32_t i0 = m->indices[tri + 0u];
source\domino\render\pipeline.c:177:            uint32_t i1 = m->indices[tri + 1u];
source\domino\render\pipeline.c:178:            uint32_t i2 = m->indices[tri + 2u];
source\domino\render\pipeline.c:186:            if (i0 >= m->vertex_count || i1 >= m->vertex_count || i2 >= m->vertex_count) {
source\domino\render\pipeline.c:189:            p0 = m->positions + ((size_t)i0 * 3u);
source\domino\render\pipeline.c:190:            p1 = m->positions + ((size_t)i1 * 3u);
source\domino\render\pipeline.c:191:            p2 = m->positions + ((size_t)i2 * 3u);
source\domino\render\pipeline.c:193:            v0.x = p0[0] + (float)tgt->soft.viewport.x; v0.y = p0[1] + (float)tgt->soft.viewport.y;
source\domino\render\pipeline.c:194:            v1.x = p1[0] + (float)tgt->soft.viewport.x; v1.y = p1[1] + (float)tgt->soft.viewport.y;
source\domino\render\pipeline.c:195:            v2.x = p2[0] + (float)tgt->soft.viewport.x; v2.y = p2[1] + (float)tgt->soft.viewport.y;
source\domino\render\pipeline.c:201:            soft_raster_draw_triangle(&tgt->soft.fb, &v0, &v1, &v2,
source\domino\render\pipeline.c:202:                                      tgt->soft.config.features.enable_depth ? 1 : 0);
source\domino\render\pipeline.c:208:    if (!tgt || !tgt->soft.has_framebuffer || !cmd || !cmd->payload) {
source\domino\render\pipeline.c:211:    if (cmd->payload_size < sizeof(dgfx_text_draw_t)) {
source\domino\render\pipeline.c:215:        const dgfx_text_draw_t* t = (const dgfx_text_draw_t*)cmd->payload;
source\domino\render\pipeline.c:216:        int x = t->x + tgt->soft.viewport.x;
source\domino\render\pipeline.c:217:        int y = t->y + tgt->soft.viewport.y;
source\domino\render\pipeline.c:218:        if (!t->utf8_text) {
source\domino\render\pipeline.c:221:        soft_raster_draw_text_stub(&tgt->soft.fb, x, y, t->color_rgba, t->utf8_text);
source\domino\render\pipeline.c:226:    switch (cmd->opcode) {
source\domino\render\pipeline.c:228:        if (cmd->payload && cmd->payload_size >= sizeof(uint32_t)) {
source\domino\render\pipeline.c:230:            memcpy(&rgba, cmd->payload, sizeof(uint32_t));
source\domino\render\pipeline.c:237:        if (cmd->payload && cmd->payload_size >= sizeof(dgfx_viewport_t)) {
source\domino\render\pipeline.c:238:            memcpy(&tgt->soft.viewport, cmd->payload, sizeof(dgfx_viewport_t));
source\domino\render\pipeline.c:277:    pipe->backend = backend;
source\domino\render\pipeline.c:293:    if (pipe->backend != D_GFX_BACKEND_SOFT) {
source\domino\render\pipeline.c:301:    tgt->pipe = pipe;
source\domino\render\pipeline.c:323:    if (pipe->backend != D_GFX_BACKEND_SOFT) {
source\domino\render\pipeline.c:331:    pass->pipe = pipe;
source\domino\render\pipeline.c:332:    pass->target = target;
source\domino\render\pipeline.c:345:    if (!pass || !pass->target) {
source\domino\render\pipeline.c:348:    pass->in_frame = 1;
source\domino\render\pipeline.c:349:    d_gfx_soft_clear(pass->target, 0xff000000u);
source\domino\render\pipeline.c:356:    pass->in_frame = 0;
source\domino\render\pipeline.c:361:    if (!pass || !pass->target || !cmds) {
source\domino\render\pipeline.c:364:    if (!pass->in_frame) {
source\domino\render\pipeline.c:368:        d_gfx_soft_dispatch(pass->target, cmds + i);
source\domino\trans\d_trans.c:13:#define DTRANS_I32_MIN ((i32)(-2147483647L - 1L))
source\domino\trans\d_trans.c:47:            v -= res + bit;
source\domino\trans\d_trans.c:58:    i64 shifted = ((i64)v) >> (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\trans\d_trans.c:88:    if (st->nodes) {
source\domino\trans\d_trans.c:89:        free(st->nodes);
source\domino\trans\d_trans.c:91:    if (st->splines) {
source\domino\trans\d_trans.c:92:        free(st->splines);
source\domino\trans\d_trans.c:94:    if (st->movers) {
source\domino\trans\d_trans.c:95:        free(st->movers);
source\domino\trans\d_trans.c:127:        return -1;
source\domino\trans\d_trans.c:129:    if (needed <= st->node_capacity) {
source\domino\trans\d_trans.c:132:    new_cap = st->node_capacity ? st->node_capacity : 256u;
source\domino\trans\d_trans.c:140:    new_nodes = (d_spline_node *)realloc(st->nodes, new_cap * sizeof(d_spline_node));
source\domino\trans\d_trans.c:142:        return -1;
source\domino\trans\d_trans.c:144:    st->nodes = new_nodes;
source\domino\trans\d_trans.c:145:    st->node_capacity = new_cap;
source\domino\trans\d_trans.c:153:        return -1;
source\domino\trans\d_trans.c:155:    if (needed <= st->spline_capacity) {
source\domino\trans\d_trans.c:158:    new_cap = st->spline_capacity ? st->spline_capacity : 64u;
source\domino\trans\d_trans.c:166:    new_splines = (d_spline_instance *)realloc(st->splines, new_cap * sizeof(d_spline_instance));
source\domino\trans\d_trans.c:168:        return -1;
source\domino\trans\d_trans.c:170:    st->splines = new_splines;
source\domino\trans\d_trans.c:171:    st->spline_capacity = new_cap;
source\domino\trans\d_trans.c:179:        return -1;
source\domino\trans\d_trans.c:181:    if (needed <= st->mover_capacity) {
source\domino\trans\d_trans.c:184:    new_cap = st->mover_capacity ? st->mover_capacity : 128u;
source\domino\trans\d_trans.c:192:    new_movers = (d_mover *)realloc(st->movers, new_cap * sizeof(d_mover));
source\domino\trans\d_trans.c:194:        return -1;
source\domino\trans\d_trans.c:196:    st->movers = new_movers;
source\domino\trans\d_trans.c:197:    st->mover_capacity = new_cap;
source\domino\trans\d_trans.c:213:    dx = dtrans_q16_from_q32((q32_32)(b->x - a->x));
source\domino\trans\d_trans.c:214:    dy = dtrans_q16_from_q32((q32_32)(b->y - a->y));
source\domino\trans\d_trans.c:215:    dz = dtrans_q16_from_q32((q32_32)(b->z - a->z));
source\domino\trans\d_trans.c:250:    for (i = 0u; i < st->spline_count; ++i) {
source\domino\trans\d_trans.c:251:        if (st->splines[i].id == id) {
source\domino\trans\d_trans.c:252:            return &st->splines[i];
source\domino\trans\d_trans.c:263:    for (i = 0u; i < st->mover_count; ++i) {
source\domino\trans\d_trans.c:264:        if (st->movers[i].id == id) {
source\domino\trans\d_trans.c:265:            return &st->movers[i];
source\domino\trans\d_trans.c:274:        return -1;
source\domino\trans\d_trans.c:278:        return -1;
source\domino\trans\d_trans.c:280:    /* Reset per-world runtime state. */
source\domino\trans\d_trans.c:281:    if (st->nodes) {
source\domino\trans\d_trans.c:282:        free(st->nodes);
source\domino\trans\d_trans.c:284:    if (st->splines) {
source\domino\trans\d_trans.c:285:        free(st->splines);
source\domino\trans\d_trans.c:287:    if (st->movers) {
source\domino\trans\d_trans.c:288:        free(st->movers);
source\domino\trans\d_trans.c:290:    st->nodes = (d_spline_node *)0;
source\domino\trans\d_trans.c:291:    st->node_count = 0u;
source\domino\trans\d_trans.c:292:    st->node_capacity = 0u;
source\domino\trans\d_trans.c:293:    st->splines = (d_spline_instance *)0;
source\domino\trans\d_trans.c:294:    st->spline_count = 0u;
source\domino\trans\d_trans.c:295:    st->spline_capacity = 0u;
source\domino\trans\d_trans.c:296:    st->movers = (d_mover *)0;
source\domino\trans\d_trans.c:297:    st->mover_count = 0u;
source\domino\trans\d_trans.c:298:    st->mover_capacity = 0u;
source\domino\trans\d_trans.c:299:    st->next_spline_id = 1u;
source\domino\trans\d_trans.c:300:    st->next_mover_id = 1u;
source\domino\trans\d_trans.c:340:    if (st->node_count > 0xFFFFu) {
source\domino\trans\d_trans.c:343:    if ((u32)node_count > (0xFFFFu - (u32)st->node_count)) {
source\domino\trans\d_trans.c:347:    if (dtrans_reserve_nodes(st, st->node_count + (u32)node_count) != 0) {
source\domino\trans\d_trans.c:350:    if (dtrans_reserve_splines(st, st->spline_count + 1u) != 0) {
source\domino\trans\d_trans.c:354:    start_index = st->node_count;
source\domino\trans\d_trans.c:356:        st->nodes[start_index + i] = nodes[i];
source\domino\trans\d_trans.c:358:    st->node_count += (u32)node_count;
source\domino\trans\d_trans.c:361:    inst.id = forced_id ? forced_id : st->next_spline_id++;
source\domino\trans\d_trans.c:368:    st->splines[st->spline_count++] = inst;
source\domino\trans\d_trans.c:370:    if (forced_id && forced_id >= st->next_spline_id) {
source\domino\trans\d_trans.c:371:        st->next_spline_id = forced_id + 1u;
source\domino\trans\d_trans.c:390:        return -1;
source\domino\trans\d_trans.c:394:        return -1;
source\domino\trans\d_trans.c:398:    for (i = 0u; i < st->mover_count; ) {
source\domino\trans\d_trans.c:399:        if (st->movers[i].spline_id == id) {
source\domino\trans\d_trans.c:400:            st->movers[i] = st->movers[st->mover_count - 1u];
source\domino\trans\d_trans.c:401:            st->mover_count -= 1u;
source\domino\trans\d_trans.c:407:    for (i = 0u; i < st->spline_count; ++i) {
source\domino\trans\d_trans.c:408:        if (st->splines[i].id == id) {
source\domino\trans\d_trans.c:409:            st->splines[i] = st->splines[st->spline_count - 1u];
source\domino\trans\d_trans.c:410:            st->spline_count -= 1u;
source\domino\trans\d_trans.c:414:    return -1;
source\domino\trans\d_trans.c:421:        return -1;
source\domino\trans\d_trans.c:425:        return -1;
source\domino\trans\d_trans.c:429:        return -1;
source\domino\trans\d_trans.c:448:        return -1;
source\domino\trans\d_trans.c:452:        return -1;
source\domino\trans\d_trans.c:456:        return -1;
source\domino\trans\d_trans.c:458:    spline->endpoint_a_eid = endpoint_a_eid;
source\domino\trans\d_trans.c:459:    spline->endpoint_a_port_kind = endpoint_a_port_kind;
source\domino\trans\d_trans.c:460:    spline->endpoint_a_port_index = endpoint_a_port_index;
source\domino\trans\d_trans.c:461:    spline->endpoint_b_eid = endpoint_b_eid;
source\domino\trans\d_trans.c:462:    spline->endpoint_b_port_kind = endpoint_b_port_kind;
source\domino\trans\d_trans.c:463:    spline->endpoint_b_port_index = endpoint_b_port_index;
source\domino\trans\d_trans.c:476:    return st->spline_count;
source\domino\trans\d_trans.c:482:        return -1;
source\domino\trans\d_trans.c:485:    if (!st || index >= st->spline_count) {
source\domino\trans\d_trans.c:486:        return -1;
source\domino\trans\d_trans.c:488:    *out = st->splines[index];
source\domino\trans\d_trans.c:509:        return -1;
source\domino\trans\d_trans.c:512:    if (!st || !st->nodes) {
source\domino\trans\d_trans.c:513:        return -1;
source\domino\trans\d_trans.c:520:    if (start >= st->node_count) {
source\domino\trans\d_trans.c:521:        return -1;
source\domino\trans\d_trans.c:523:    if (count > st->node_count - start) {
source\domino\trans\d_trans.c:524:        count = st->node_count - start;
source\domino\trans\d_trans.c:527:        out_nodes[i] = st->nodes[start + i];
source\domino\trans\d_trans.c:542:        return -1;
source\domino\trans\d_trans.c:547:        return -1;
source\domino\trans\d_trans.c:551:    out->id = p->id;
source\domino\trans\d_trans.c:552:    out->type = (u16)p->type;
source\domino\trans\d_trans.c:553:    out->flags = (u16)p->flags;
source\domino\trans\d_trans.c:554:    out->base_speed = p->base_speed;
source\domino\trans\d_trans.c:555:    out->max_grade = p->max_grade;
source\domino\trans\d_trans.c:556:    out->capacity = p->capacity;
source\domino\trans\d_trans.c:557:    out->tags = p->tags;
source\domino\trans\d_trans.c:558:    out->params = p->params;
source\domino\trans\d_trans.c:580:        return -1;
source\domino\trans\d_trans.c:585:        return -1;
source\domino\trans\d_trans.c:588:    if (!spline || spline->node_count < 2u || spline->length <= 0) {
source\domino\trans\d_trans.c:589:        return -1;
source\domino\trans\d_trans.c:591:    if (!st->nodes) {
source\domino\trans\d_trans.c:592:        return -1;
source\domino\trans\d_trans.c:594:    if ((u32)spline->node_start_index + (u32)spline->node_count > st->node_count) {
source\domino\trans\d_trans.c:595:        return -1;
source\domino\trans\d_trans.c:599:    target = dtrans_q16_mul(param, spline->length);
source\domino\trans\d_trans.c:602:    for (i = 0u; (u32)i + 1u < (u32)spline->node_count; ++i) {
source\domino\trans\d_trans.c:603:        const d_spline_node *a = &st->nodes[(u32)spline->node_start_index + (u32)i];
source\domino\trans\d_trans.c:604:        const d_spline_node *b = &st->nodes[(u32)spline->node_start_index + (u32)i + 1u];
source\domino\trans\d_trans.c:616:            local_t = dtrans_q16_div((q16_16)(target - acc), seg_len);
source\domino\trans\d_trans.c:619:            ax = dtrans_q16_from_q32(a->x);
source\domino\trans\d_trans.c:620:            ay = dtrans_q16_from_q32(a->y);
source\domino\trans\d_trans.c:621:            az = dtrans_q16_from_q32(a->z);
source\domino\trans\d_trans.c:622:            bx = dtrans_q16_from_q32(b->x);
source\domino\trans\d_trans.c:623:            by = dtrans_q16_from_q32(b->y);
source\domino\trans\d_trans.c:624:            bz = dtrans_q16_from_q32(b->z);
source\domino\trans\d_trans.c:626:            dx = (q16_16)(bx - ax);
source\domino\trans\d_trans.c:627:            dy = (q16_16)(by - ay);
source\domino\trans\d_trans.c:628:            dz = (q16_16)(bz - az);
source\domino\trans\d_trans.c:634:            if (out_x) *out_x = ((q32_32)ix) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\trans\d_trans.c:635:            if (out_y) *out_y = ((q32_32)iy) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\trans\d_trans.c:636:            if (out_z) *out_z = ((q32_32)iz) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\trans\d_trans.c:644:        const d_spline_node *last = &st->nodes[(u32)spline->node_start_index + (u32)spline->node_count - 1u];
source\domino\trans\d_trans.c:645:        if (out_x) *out_x = last->x;
source\domino\trans\d_trans.c:646:        if (out_y) *out_y = last->y;
source\domino\trans\d_trans.c:647:        if (out_z) *out_z = last->z;
source\domino\trans\d_trans.c:659:    if (init->kind == D_MOVER_KIND_NONE) {
source\domino\trans\d_trans.c:662:    if (init->spline_id == 0u) {
source\domino\trans\d_trans.c:669:    if (!dtrans_find_spline(st, init->spline_id)) {
source\domino\trans\d_trans.c:672:    if (dtrans_reserve_movers(st, st->mover_count + 1u) != 0) {
source\domino\trans\d_trans.c:677:    m.id = forced_id ? forced_id : st->next_mover_id++;
source\domino\trans\d_trans.c:685:    st->movers[st->mover_count++] = m;
source\domino\trans\d_trans.c:686:    if (forced_id && forced_id >= st->next_mover_id) {
source\domino\trans\d_trans.c:687:        st->next_mover_id = forced_id + 1u;
source\domino\trans\d_trans.c:700:        return -1;
source\domino\trans\d_trans.c:704:        return -1;
source\domino\trans\d_trans.c:706:    for (i = 0u; i < st->mover_count; ++i) {
source\domino\trans\d_trans.c:707:        if (st->movers[i].id == id) {
source\domino\trans\d_trans.c:708:            st->movers[i] = st->movers[st->mover_count - 1u];
source\domino\trans\d_trans.c:709:            st->mover_count -= 1u;
source\domino\trans\d_trans.c:713:    return -1;
source\domino\trans\d_trans.c:720:        return -1;
source\domino\trans\d_trans.c:724:        return -1;
source\domino\trans\d_trans.c:728:        return -1;
source\domino\trans\d_trans.c:737:    if (!w || !m || m->id == 0u) {
source\domino\trans\d_trans.c:738:        return -1;
source\domino\trans\d_trans.c:742:        return -1;
source\domino\trans\d_trans.c:744:    dst = dtrans_find_mover(st, m->id);
source\domino\trans\d_trans.c:746:        return -1;
source\domino\trans\d_trans.c:748:    if (m->spline_id == 0u || !dtrans_find_spline(st, m->spline_id)) {
source\domino\trans\d_trans.c:749:        return -1;
source\domino\trans\d_trans.c:752:    dst->param = dtrans_clamp_q16(dst->param, 0, (q16_16)(1 << 16));
source\domino\trans\d_trans.c:765:    return st->mover_count;
source\domino\trans\d_trans.c:771:        return -1;
source\domino\trans\d_trans.c:774:    if (!st || index >= st->mover_count) {
source\domino\trans\d_trans.c:775:        return -1;
source\domino\trans\d_trans.c:777:    *out = st->movers[index];
source\domino\trans\d_trans.c:799:        return (q16_16)(-v);
source\domino\trans\d_trans.c:809:    if (!st || !spline || spline->node_count < 2u) {
source\domino\trans\d_trans.c:812:    if (!st->nodes) {
source\domino\trans\d_trans.c:815:    if ((u32)spline->node_start_index + (u32)spline->node_count > st->node_count) {
source\domino\trans\d_trans.c:818:    a = st->nodes[spline->node_start_index];
source\domino\trans\d_trans.c:819:    b = st->nodes[(u32)spline->node_start_index + (u32)spline->node_count - 1u];
source\domino\trans\d_trans.c:820:    dz = dtrans_q16_from_q32((q32_32)(b.z - a.z));
source\domino\trans\d_trans.c:822:    len = spline->length;
source\domino\trans\d_trans.c:842:    while (i < st->mover_count) {
source\domino\trans\d_trans.c:843:        d_mover *m = &st->movers[i];
source\domino\trans\d_trans.c:855:        spline = dtrans_find_spline(st, m->spline_id);
source\domino\trans\d_trans.c:856:        if (!spline || spline->length <= 0) {
source\domino\trans\d_trans.c:860:        if (d_trans_profile_resolve(w, spline->profile_id, &prof) != 0) {
source\domino\trans\d_trans.c:872:                /* scale = 1 - 0.5*ratio */
source\domino\trans\d_trans.c:873:                scale = (q16_16)((1 << 16) - (ratio >> 1));
source\domino\trans\d_trans.c:877:        speed_param = dtrans_q16_div(speed, spline->length);
source\domino\trans\d_trans.c:879:        m->speed_param = speed_param;
source\domino\trans\d_trans.c:881:        new_param = (i64)m->param + delta;
source\domino\trans\d_trans.c:885:                m->param = (q16_16)(1 << 16);
source\domino\trans\d_trans.c:886:                if (m->kind == D_MOVER_KIND_ITEM &&
source\domino\trans\d_trans.c:887:                    spline->endpoint_b_eid != 0u &&
source\domino\trans\d_trans.c:888:                    (spline->endpoint_b_port_kind == 0u ||
source\domino\trans\d_trans.c:889:                     spline->endpoint_b_port_kind == (u16)D_STRUCT_PORT_ITEM_IN ||
source\domino\trans\d_trans.c:890:                     spline->endpoint_b_port_kind == (u16)D_STRUCT_PORT_SPLINE_ITEM_IN)) {
source\domino\trans\d_trans.c:891:                    d_struct_instance *dst = d_struct_get_mutable(w, (d_struct_instance_id)spline->endpoint_b_eid);
source\domino\trans\d_trans.c:892:                    if (dst && d_struct_inventory_add(&dst->inventory, m->payload_id, m->payload_count) == 0) {
source\domino\trans\d_trans.c:897:                m->param = (q16_16)new_param;
source\domino\trans\d_trans.c:901:                m->param = 0;
source\domino\trans\d_trans.c:902:                if (m->kind == D_MOVER_KIND_ITEM &&
source\domino\trans\d_trans.c:903:                    spline->endpoint_a_eid != 0u &&
source\domino\trans\d_trans.c:904:                    (spline->endpoint_a_port_kind == 0u ||
source\domino\trans\d_trans.c:905:                     spline->endpoint_a_port_kind == (u16)D_STRUCT_PORT_ITEM_IN ||
source\domino\trans\d_trans.c:906:                     spline->endpoint_a_port_kind == (u16)D_STRUCT_PORT_SPLINE_ITEM_IN)) {
source\domino\trans\d_trans.c:907:                    d_struct_instance *dst = d_struct_get_mutable(w, (d_struct_instance_id)spline->endpoint_a_eid);
source\domino\trans\d_trans.c:908:                    if (dst && d_struct_inventory_add(&dst->inventory, m->payload_id, m->payload_count) == 0) {
source\domino\trans\d_trans.c:913:                m->param = (q16_16)new_param;
source\domino\trans\d_trans.c:918:            st->movers[i] = st->movers[st->mover_count - 1u];
source\domino\trans\d_trans.c:919:            st->mover_count -= 1u;
source\domino\trans\d_trans.c:923:        m->param = dtrans_clamp_q16(m->param, 0, (q16_16)(1 << 16));
source\domino\trans\d_trans.c:942:    /* Spawn item movers from attached sources (best-effort, generic). */
source\domino\trans\d_trans.c:944:        for (s = 0u; s < st->spline_count; ++s) {
source\domino\trans\d_trans.c:945:            d_spline_instance *sp = &st->splines[s];
source\domino\trans\d_trans.c:951:            if (sp->endpoint_a_eid == 0u || sp->endpoint_b_eid == 0u) {
source\domino\trans\d_trans.c:954:            if (sp->endpoint_a_port_kind != 0u &&
source\domino\trans\d_trans.c:955:                sp->endpoint_a_port_kind != (u16)D_STRUCT_PORT_ITEM_OUT &&
source\domino\trans\d_trans.c:956:                sp->endpoint_a_port_kind != (u16)D_STRUCT_PORT_SPLINE_ITEM_OUT) {
source\domino\trans\d_trans.c:959:            if (d_trans_profile_resolve(w, sp->profile_id, &prof) != 0) {
source\domino\trans\d_trans.c:966:            for (mi = 0u; mi < st->mover_count; ++mi) {
source\domino\trans\d_trans.c:967:                if (st->movers[mi].spline_id == sp->id && st->movers[mi].param < spawn_gap) {
source\domino\trans\d_trans.c:976:            src = d_struct_get_mutable(w, (d_struct_instance_id)sp->endpoint_a_eid);
source\domino\trans\d_trans.c:977:            if (!src || src->inventory.item_id == 0u || src->inventory.count == 0u) {
source\domino\trans\d_trans.c:986:                m.spline_id = sp->id;
source\domino\trans\d_trans.c:990:                m.payload_id = src->inventory.item_id;
source\domino\trans\d_trans.c:995:                    src->inventory.count -= 1u;
source\domino\trans\d_trans.c:996:                    if (src->inventory.count == 0u) {
source\domino\trans\d_trans.c:997:                        src->inventory.item_id = 0u;
source\domino\trans\d_trans.c:1016:        return -1;
source\domino\trans\d_trans.c:1018:    out->ptr = (unsigned char *)0;
source\domino\trans\d_trans.c:1019:    out->len = 0u;
source\domino\trans\d_trans.c:1025:    if (!st || (st->spline_count == 0u && st->mover_count == 0u)) {
source\domino\trans\d_trans.c:1033:    for (i = 0u; i < st->spline_count; ++i) {
source\domino\trans\d_trans.c:1034:        const d_spline_instance *s = &st->splines[i];
source\domino\trans\d_trans.c:1035:        u16 ncount = s->node_count;
source\domino\trans\d_trans.c:1048:    total += st->mover_count * (
source\domino\trans\d_trans.c:1058:        return -1;
source\domino\trans\d_trans.c:1063:    memcpy(dst, &st->spline_count, sizeof(u32)); dst += 4u;
source\domino\trans\d_trans.c:1065:    for (i = 0u; i < st->spline_count; ++i) {
source\domino\trans\d_trans.c:1066:        const d_spline_instance *s = &st->splines[i];
source\domino\trans\d_trans.c:1067:        u16 ncount = s->node_count;
source\domino\trans\d_trans.c:1069:        memcpy(dst, &s->id, sizeof(d_spline_id)); dst += sizeof(d_spline_id);
source\domino\trans\d_trans.c:1070:        memcpy(dst, &s->profile_id, sizeof(d_spline_profile_id)); dst += sizeof(d_spline_profile_id);
source\domino\trans\d_trans.c:1071:        memcpy(dst, &s->flags, sizeof(d_spline_flags)); dst += sizeof(d_spline_flags);
source\domino\trans\d_trans.c:1073:        memcpy(dst, &s->endpoint_a_eid, sizeof(u32)); dst += sizeof(u32);
source\domino\trans\d_trans.c:1074:        memcpy(dst, &s->endpoint_a_port_kind, sizeof(u16)); dst += sizeof(u16);
source\domino\trans\d_trans.c:1075:        memcpy(dst, &s->endpoint_a_port_index, sizeof(u16)); dst += sizeof(u16);
source\domino\trans\d_trans.c:1076:        memcpy(dst, &s->endpoint_b_eid, sizeof(u32)); dst += sizeof(u32);
source\domino\trans\d_trans.c:1077:        memcpy(dst, &s->endpoint_b_port_kind, sizeof(u16)); dst += sizeof(u16);
source\domino\trans\d_trans.c:1078:        memcpy(dst, &s->endpoint_b_port_index, sizeof(u16)); dst += sizeof(u16);
source\domino\trans\d_trans.c:1079:        memcpy(dst, &s->length, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1082:            const d_spline_node *sn = &st->nodes[(u32)s->node_start_index + (u32)n];
source\domino\trans\d_trans.c:1083:            memcpy(dst, &sn->x, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\trans\d_trans.c:1084:            memcpy(dst, &sn->y, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\trans\d_trans.c:1085:            memcpy(dst, &sn->z, sizeof(q32_32)); dst += sizeof(q32_32);
source\domino\trans\d_trans.c:1086:            memcpy(dst, &sn->nx, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1087:            memcpy(dst, &sn->ny, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1088:            memcpy(dst, &sn->nz, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1092:    memcpy(dst, &st->mover_count, sizeof(u32)); dst += 4u;
source\domino\trans\d_trans.c:1093:    for (i = 0u; i < st->mover_count; ++i) {
source\domino\trans\d_trans.c:1094:        const d_mover *m = &st->movers[i];
source\domino\trans\d_trans.c:1095:        u16 kind = (u16)m->kind;
source\domino\trans\d_trans.c:1097:        memcpy(dst, &m->id, sizeof(d_mover_id)); dst += sizeof(d_mover_id);
source\domino\trans\d_trans.c:1100:        memcpy(dst, &m->spline_id, sizeof(d_spline_id)); dst += sizeof(d_spline_id);
source\domino\trans\d_trans.c:1101:        memcpy(dst, &m->param, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1102:        memcpy(dst, &m->speed_param, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1103:        memcpy(dst, &m->size_param, sizeof(q16_16)); dst += sizeof(q16_16);
source\domino\trans\d_trans.c:1104:        memcpy(dst, &m->payload_id, sizeof(u32)); dst += sizeof(u32);
source\domino\trans\d_trans.c:1105:        memcpy(dst, &m->payload_count, sizeof(u32)); dst += sizeof(u32);
source\domino\trans\d_trans.c:1108:    out->ptr = buf;
source\domino\trans\d_trans.c:1109:    out->len = (u32)(dst - buf);
source\domino\trans\d_trans.c:1123:        return -1;
source\domino\trans\d_trans.c:1125:    if (in->len == 0u) {
source\domino\trans\d_trans.c:1128:    if (!in->ptr || in->len < 4u + 4u) {
source\domino\trans\d_trans.c:1129:        return -1;
source\domino\trans\d_trans.c:1134:        return -1;
source\domino\trans\d_trans.c:1138:    ptr = in->ptr;
source\domino\trans\d_trans.c:1139:    remaining = in->len;
source\domino\trans\d_trans.c:1140:    memcpy(&version, ptr, sizeof(u32)); ptr += 4u; remaining -= 4u;
source\domino\trans\d_trans.c:1142:        return -1;
source\domino\trans\d_trans.c:1144:    memcpy(&spline_count, ptr, sizeof(u32)); ptr += 4u; remaining -= 4u;
source\domino\trans\d_trans.c:1163:            return -1;
source\domino\trans\d_trans.c:1175:        remaining -= (u32)(sizeof(d_spline_id) + sizeof(d_spline_profile_id) + sizeof(d_spline_flags) + sizeof(u16));
source\domino\trans\d_trans.c:1178:                return -1;
source\domino\trans\d_trans.c:1186:            remaining -= (u32)(sizeof(u32) + sizeof(u16) * 2u + sizeof(u32) + sizeof(u16) * 2u);
source\domino\trans\d_trans.c:1189:        remaining -= (u32)sizeof(q16_16);
source\domino\trans\d_trans.c:1192:            return -1;
source\domino\trans\d_trans.c:1196:            return -1;
source\domino\trans\d_trans.c:1200:            return -1;
source\domino\trans\d_trans.c:1211:        remaining -= need;
source\domino\trans\d_trans.c:1215:            return -1;
source\domino\trans\d_trans.c:1221:                s->length = length;
source\domino\trans\d_trans.c:1222:                s->endpoint_a_eid = endpoint_a_eid;
source\domino\trans\d_trans.c:1223:                s->endpoint_a_port_kind = endpoint_a_kind;
source\domino\trans\d_trans.c:1224:                s->endpoint_a_port_index = endpoint_a_index;
source\domino\trans\d_trans.c:1225:                s->endpoint_b_eid = endpoint_b_eid;
source\domino\trans\d_trans.c:1226:                s->endpoint_b_port_kind = endpoint_b_kind;
source\domino\trans\d_trans.c:1227:                s->endpoint_b_port_index = endpoint_b_index;
source\domino\trans\d_trans.c:1234:        return -1;
source\domino\trans\d_trans.c:1236:    memcpy(&mover_count, ptr, sizeof(u32)); ptr += 4u; remaining -= 4u;
source\domino\trans\d_trans.c:1251:            return -1;
source\domino\trans\d_trans.c:1263:        remaining -= (u32)(sizeof(d_mover_id) + sizeof(u16) * 2u + sizeof(d_spline_id) + sizeof(q16_16) * 3u + sizeof(u32) * 2u);
source\domino\trans\d_trans.c:1276:            return -1;
source\domino\trans\d_trans.c:1287:        return -1;
source\domino\trans\d_trans.c:1289:    out->ptr = (unsigned char *)0;
source\domino\trans\d_trans.c:1290:    out->len = 0u;
source\domino\system\d_system_input.c:54:        return -1;
source\domino\system\d_system_input.c:59:        g_input_queue.count -= 1;
source\domino\system\d_system_input.c:78:    g_input_queue.count -= 1;
source\domino\system\plat\windows\win32\sys_win32.c:19:        char c = path[len - 1];
source\domino\system\plat\windows\win32\sys_win32.c:21:            path[len - 1] = '\0';
source\domino\system\plat\windows\win32\sys_win32.c:24:        --len;
source\domino\system\plat\windows\win32\sys_win32.c:27:        strncpy(ctx->paths.install_root, path, sizeof(ctx->paths.install_root) - 1);
source\domino\system\plat\windows\win32\sys_win32.c:28:        ctx->paths.install_root[sizeof(ctx->paths.install_root) - 1] = '\0';
source\domino\system\plat\windows\win32\sys_win32.c:46:    f->handle = fp;
source\domino\system\plat\windows\win32\sys_win32.c:55:    if (!f || !f->handle) return 0;
source\domino\system\plat\windows\win32\sys_win32.c:56:    return fread(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\windows\win32\sys_win32.c:64:    if (!f || !f->handle) return 0;
source\domino\system\plat\windows\win32\sys_win32.c:65:    return fwrite(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\windows\win32\sys_win32.c:72:    if (!f) return -1;
source\domino\system\plat\windows\win32\sys_win32.c:74:    if (f->handle) {
source\domino\system\plat\windows\win32\sys_win32.c:75:        r = fclose((FILE*)f->handle);
source\domino\system\plat\windows\win32\sys_win32.c:94:    if (!path || !path[0]) return -1;
source\domino\system\plat\windows\win32\sys_win32.c:95:    strncpy(tmp, path, sizeof(tmp) - 1);
source\domino\system\plat\windows\win32\sys_win32.c:96:    tmp[sizeof(tmp) - 1] = '\0';
source\domino\system\plat\windows\win32\sys_win32.c:106:        /* _mkdir returns -1 on failure; ignore if already exists */
source\domino\system\plat\windows\win32\sys_win32.c:125:    if (len > 0 && path[len - 1] != '\\' && path[len - 1] != '/') {
source\domino\system\plat\windows\win32\sys_win32.c:150:    it->handle = h;
source\domino\system\plat\windows\win32\sys_win32.c:151:    it->data = data;
source\domino\system\plat\windows\win32\sys_win32.c:152:    strncpy(it->base_path, path, sizeof(it->base_path) - 1);
source\domino\system\plat\windows\win32\sys_win32.c:153:    it->base_path[sizeof(it->base_path) - 1] = '\0';
source\domino\system\plat\windows\win32\sys_win32.c:154:    it->first_yielded = 0;
source\domino\system\plat\windows\win32\sys_win32.c:166:    if (!it || !it->data || !name_out || cap == 0) return 0;
source\domino\system\plat\windows\win32\sys_win32.c:167:    data = (WIN32_FIND_DATAA*)it->data;
source\domino\system\plat\windows\win32\sys_win32.c:170:        if (!it->first_yielded) {
source\domino\system\plat\windows\win32\sys_win32.c:171:            it->first_yielded = 1;
source\domino\system\plat\windows\win32\sys_win32.c:173:            if (!FindNextFileA((HANDLE)it->handle, data)) {
source\domino\system\plat\windows\win32\sys_win32.c:177:        if (strcmp(data->cFileName, ".") == 0 || strcmp(data->cFileName, "..") == 0) {
source\domino\system\plat\windows\win32\sys_win32.c:185:        strncpy(name_out, data->cFileName, cap - 1);
source\domino\system\plat\windows\win32\sys_win32.c:186:        name_out[cap - 1] = '\0';
source\domino\system\plat\windows\win32\sys_win32.c:188:            *is_dir_out = (data->dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) ? 1 : 0;
source\domino\system\plat\windows\win32\sys_win32.c:199:    if (it->handle) {
source\domino\system\plat\windows\win32\sys_win32.c:200:        FindClose((HANDLE)it->handle);
source\domino\system\plat\windows\win32\sys_win32.c:202:    if (it->data) {
source\domino\system\plat\windows\win32\sys_win32.c:203:        free(it->data);
source\domino\system\plat\windows\win32\sys_win32.c:241:    if (!desc || !out_proc || !desc->path) return -1;
source\domino\system\plat\windows\win32\sys_win32.c:248:    strncpy(cmdline, desc->path, sizeof(cmdline) - 1);
source\domino\system\plat\windows\win32\sys_win32.c:251:    if (desc->argv) {
source\domino\system\plat\windows\win32\sys_win32.c:252:        for (i = 0; desc->argv[i]; ++i) {
source\domino\system\plat\windows\win32\sys_win32.c:253:            size_t len = strlen(desc->argv[i]);
source\domino\system\plat\windows\win32\sys_win32.c:256:            strncpy(cmdline + offset, desc->argv[i], sizeof(cmdline) - offset - 1);
source\domino\system\plat\windows\win32\sys_win32.c:268:                        desc->working_dir,
source\domino\system\plat\windows\win32\sys_win32.c:271:        return -1;
source\domino\system\plat\windows\win32\sys_win32.c:280:        return -1;
source\domino\system\plat\windows\win32\sys_win32.c:282:    proc->handle = pi.hProcess;
source\domino\system\plat\windows\win32\sys_win32.c:283:    proc->exit_code = -1;
source\domino\system\plat\windows\win32\sys_win32.c:294:    if (!proc || !proc->handle) return -1;
source\domino\system\plat\windows\win32\sys_win32.c:295:    WaitForSingleObject((HANDLE)proc->handle, INFINITE);
source\domino\system\plat\windows\win32\sys_win32.c:296:    if (GetExitCodeProcess((HANDLE)proc->handle, &code)) {
source\domino\system\plat\windows\win32\sys_win32.c:297:        proc->exit_code = (int)code;
source\domino\system\plat\windows\win32\sys_win32.c:298:        if (exit_code_out) *exit_code_out = proc->exit_code;
source\domino\system\plat\windows\win32\sys_win32.c:301:    return -1;
source\domino\system\plat\windows\win32\sys_win32.c:309:    if (proc->handle) {
source\domino\system\plat\windows\win32\sys_win32.c:310:        CloseHandle((HANDLE)proc->handle);
source\domino\system\plat\windows\win32\sys_win32.c:317:    if (!ctx) return -1;
source\domino\system\plat\windows\win32\sys_win32.c:318:    memset(&ctx->ops, 0, sizeof(ctx->ops));
source\domino\system\plat\windows\win32\sys_win32.c:319:    ctx->ops.fopen_fn = win32_fopen;
source\domino\system\plat\windows\win32\sys_win32.c:320:    ctx->ops.fread_fn = win32_fread;
source\domino\system\plat\windows\win32\sys_win32.c:321:    ctx->ops.fwrite_fn = win32_fwrite;
source\domino\system\plat\windows\win32\sys_win32.c:322:    ctx->ops.fclose_fn = win32_fclose;
source\domino\system\plat\windows\win32\sys_win32.c:323:    ctx->ops.file_exists_fn = win32_exists;
source\domino\system\plat\windows\win32\sys_win32.c:324:    ctx->ops.mkdirs_fn = win32_mkdirs;
source\domino\system\plat\windows\win32\sys_win32.c:325:    ctx->ops.dir_open_fn = win32_dir_open;
source\domino\system\plat\windows\win32\sys_win32.c:326:    ctx->ops.dir_next_fn = win32_dir_next;
source\domino\system\plat\windows\win32\sys_win32.c:327:    ctx->ops.dir_close_fn = win32_dir_close;
source\domino\system\plat\windows\win32\sys_win32.c:328:    ctx->ops.time_seconds_fn = win32_time_seconds;
source\domino\system\plat\windows\win32\sys_win32.c:329:    ctx->ops.time_millis_fn = win32_time_millis;
source\domino\system\plat\windows\win32\sys_win32.c:330:    ctx->ops.sleep_millis_fn = win32_sleep_millis;
source\domino\system\plat\windows\win32\sys_win32.c:331:    ctx->ops.process_spawn_fn = win32_process_spawn;
source\domino\system\plat\windows\win32\sys_win32.c:332:    ctx->ops.process_wait_fn = win32_process_wait;
source\domino\system\plat\windows\win32\sys_win32.c:333:    ctx->ops.process_destroy_fn = win32_process_destroy;
source\domino\system\plat\windows\win32\sys_win32.c:334:    ctx->backend_state = NULL;
source\domino\system\plat\windows\win32\sys_win32.c:335:    ctx->platform.has_threads = 1;
source\domino\system\plat\windows\win32\sys_win32.c:336:    ctx->platform.has_unicode = 1;
source\domino\system\d_system.h:15:/* Process step: pump events, etc. Returns 0 if OK, non-zero to request exit. */
source\domino\render\null\dom_rend_stub.c:19:    dev->width = desc->width;
source\domino\render\null\dom_rend_stub.c:20:    dev->height = desc->height;
source\domino\render\null\dom_rend_stub.c:21:    dev->pixels = (uint32_t*)malloc((size_t)desc->width * (size_t)desc->height * sizeof(uint32_t));
source\domino\render\null\dom_rend_stub.c:22:    if (dev->pixels) {
source\domino\render\null\dom_rend_stub.c:23:        memset(dev->pixels, 0, (size_t)desc->width * (size_t)desc->height * sizeof(uint32_t));
source\domino\render\null\dom_rend_stub.c:31:    if (dev->pixels) free(dev->pixels);
source\domino\render\null\dom_rend_stub.c:42:    if (!dev || !dev->pixels) return;
source\domino\render\null\dom_rend_stub.c:43:    n = (size_t)dev->width * (size_t)dev->height;
source\domino\render\null\dom_rend_stub.c:45:        dev->pixels[i] = rgba;
source\domino\render\null\dom_rend_stub.c:52:    if (!dev || !dev->pixels) return;
source\domino\render\null\dom_rend_stub.c:55:        if (py < 0 || py >= dev->height) continue;
source\domino\render\null\dom_rend_stub.c:58:            if (px < 0 || px >= dev->width) continue;
source\domino\render\null\dom_rend_stub.c:59:            dev->pixels[(size_t)py * (size_t)dev->width + (size_t)px] = rgba;
source\domino\system\plat\windows\win32\dom_platform_win32.h:51:/* Wallclock milliseconds for pacing (non-deterministic, allowed for timing only) */
source\domino\system\plat\windows\win32\dom_platform_win32.h:55:/* UTF-8 helpers */
source\domino\system\d_system.c:144:        rect.right - rect.left,
source\domino\system\d_system.c:145:        rect.bottom - rect.top,
source\domino\system\d_system.c:234:    return -1;
source\domino\system\d_system.c:251:        return -1;
source\domino\system\d_system.c:257:        return -1;
source\domino\system\d_system.c:263:    bmi.bmiHeader.biHeight = -height; /* top-down */
source\domino\system\d_system.c:270:        return -1;
source\domino\system\d_system.c:283:    return (rc == 0) ? -1 : 0;
source\domino\render\dx11\dx11_gfx.c:108:        (*res)->lpVtbl->Release(*res);
source\domino\render\dx11\dx11_gfx.c:128:    hr = g_dx11.device->lpVtbl->CreateBuffer(g_dx11.device, &desc, NULL, out_buf);
source\domino\render\dx11\dx11_gfx.c:143:    hr = g_dx11.swap_chain->lpVtbl->GetBuffer(
source\domino\render\dx11\dx11_gfx.c:152:    hr = g_dx11.device->lpVtbl->CreateRenderTargetView(
source\domino\render\dx11\dx11_gfx.c:157:    backbuffer->lpVtbl->Release(backbuffer);
source\domino\render\dx11\dx11_gfx.c:173:    hr = g_dx11.device->lpVtbl->CreateTexture2D(
source\domino\render\dx11\dx11_gfx.c:182:    hr = g_dx11.device->lpVtbl->CreateDepthStencilView(
source\domino\render\dx11\dx11_gfx.c:191:    g_dx11.context->lpVtbl->OMSetRenderTargets(
source\domino\render\dx11\dx11_gfx.c:221:        hr = g_dx11.device->lpVtbl->CreateBlendState(
source\domino\render\dx11\dx11_gfx.c:238:        hr = g_dx11.device->lpVtbl->CreateRasterizerState(
source\domino\render\dx11\dx11_gfx.c:247:    /* Depth-stencil state */
source\domino\render\dx11\dx11_gfx.c:256:        hr = g_dx11.device->lpVtbl->CreateDepthStencilState(
source\domino\render\dx11\dx11_gfx.c:273:        hr = g_dx11.device->lpVtbl->CreateBuffer(
source\domino\render\dx11\dx11_gfx.c:318:    if (!desc || !desc->window) {
source\domino\render\dx11\dx11_gfx.c:322:    g_dx11.hwnd = (HWND)dsys_window_get_native_handle(desc->window);
source\domino\render\dx11\dx11_gfx.c:327:    g_dx11.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\dx11\dx11_gfx.c:328:    g_dx11.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\dx11\dx11_gfx.c:330:    g_dx11.vsync = desc->vsync ? 1 : 0;
source\domino\render\dx11\dx11_gfx.c:439:    hr = g_dx11.swap_chain->lpVtbl->ResizeBuffers(
source\domino\render\dx11\dx11_gfx.c:467:    g_dx11.context->lpVtbl->OMSetRenderTargets(
source\domino\render\dx11\dx11_gfx.c:473:    g_dx11.context->lpVtbl->RSSetState(g_dx11.context, g_dx11.rs_solid);
source\domino\render\dx11\dx11_gfx.c:474:    g_dx11.context->lpVtbl->OMSetDepthStencilState(
source\domino\render\dx11\dx11_gfx.c:485:    g_dx11.context->lpVtbl->RSSetViewports(g_dx11.context, 1, &vp);
source\domino\render\dx11\dx11_gfx.c:487:    g_dx11.context->lpVtbl->ClearRenderTargetView(
source\domino\render\dx11\dx11_gfx.c:491:    g_dx11.context->lpVtbl->ClearDepthStencilView(
source\domino\render\dx11\dx11_gfx.c:507:    g_dx11.swap_chain->lpVtbl->Present(
source\domino\render\dx11\dx11_gfx.c:536:    g_dx11.context->lpVtbl->ClearRenderTargetView(
source\domino\render\dx11\dx11_gfx.c:540:    g_dx11.context->lpVtbl->ClearDepthStencilView(
source\domino\render\dx11\dx11_gfx.c:564:    g_dx11.context->lpVtbl->RSSetViewports(g_dx11.context, 1, &vp);
source\domino\render\dx11\dx11_gfx.c:578:    if (FAILED(g_dx11.context->lpVtbl->Map(
source\domino\render\dx11\dx11_gfx.c:590:        g_dx11.context->lpVtbl->Unmap(
source\domino\render\dx11\dx11_gfx.c:598:        cb->view[i] = 0.0f;
source\domino\render\dx11\dx11_gfx.c:599:        cb->proj[i] = 0.0f;
source\domino\render\dx11\dx11_gfx.c:600:        cb->world[i] = 0.0f;
source\domino\render\dx11\dx11_gfx.c:602:    cb->view[0] = cb->view[5] = cb->view[10] = cb->view[15] = 1.0f;
source\domino\render\dx11\dx11_gfx.c:603:    cb->proj[0] = cb->proj[5] = cb->proj[10] = cb->proj[15] = 1.0f;
source\domino\render\dx11\dx11_gfx.c:604:    cb->world[0] = cb->world[5] = cb->world[10] = cb->world[15] = 1.0f;
source\domino\render\dx11\dx11_gfx.c:606:    g_dx11.context->lpVtbl->Unmap(
source\domino\render\dx11\dx11_gfx.c:611:    g_dx11.context->lpVtbl->VSSetConstantBuffers(
source\domino\render\dx11\dx11_gfx.c:634:    g_dx11.context->lpVtbl->OMSetBlendState(
source\domino\render\dx11\dx11_gfx.c:639:    g_dx11.context->lpVtbl->RSSetState(
source\domino\render\dx11\dx11_gfx.c:642:    g_dx11.context->lpVtbl->OMSetDepthStencilState(
source\domino\render\dx11\dx11_gfx.c:669:    verts[0].x = -0.5f; verts[0].y = -0.5f; verts[0].z = 0.0f;
source\domino\render\dx11\dx11_gfx.c:671:    verts[1].x = -0.5f; verts[1].y =  0.5f; verts[1].z = 0.0f;
source\domino\render\dx11\dx11_gfx.c:678:    verts[5].x =  0.5f; verts[5].y = -0.5f; verts[5].z = 0.0f;
source\domino\render\dx11\dx11_gfx.c:681:    if (FAILED(g_dx11.context->lpVtbl->Map(
source\domino\render\dx11\dx11_gfx.c:693:    g_dx11.context->lpVtbl->Unmap(
source\domino\render\dx11\dx11_gfx.c:702:    g_dx11.context->lpVtbl->IASetInputLayout(g_dx11.context, g_dx11.il_sprite);
source\domino\render\dx11\dx11_gfx.c:703:    g_dx11.context->lpVtbl->IASetVertexBuffers(
source\domino\render\dx11\dx11_gfx.c:710:    g_dx11.context->lpVtbl->IASetPrimitiveTopology(
source\domino\render\dx11\dx11_gfx.c:714:    g_dx11.context->lpVtbl->VSSetShader(
source\domino\render\dx11\dx11_gfx.c:719:    g_dx11.context->lpVtbl->PSSetShader(
source\domino\render\dx11\dx11_gfx.c:725:    g_dx11.context->lpVtbl->Draw(
source\domino\render\dx11\dx11_gfx.c:760:    g_dx11.vb_sprite->lpVtbl->GetDesc(g_dx11.vb_sprite, &vb_desc);
source\domino\render\dx11\dx11_gfx.c:768:    if (FAILED(g_dx11.context->lpVtbl->Map(
source\domino\render\dx11\dx11_gfx.c:780:    g_dx11.context->lpVtbl->Unmap(
source\domino\render\dx11\dx11_gfx.c:786:    g_dx11.context->lpVtbl->IASetInputLayout(g_dx11.context, g_dx11.il_sprite);
source\domino\render\dx11\dx11_gfx.c:787:    g_dx11.context->lpVtbl->IASetVertexBuffers(
source\domino\render\dx11\dx11_gfx.c:794:    g_dx11.context->lpVtbl->IASetPrimitiveTopology(
source\domino\render\dx11\dx11_gfx.c:798:    g_dx11.context->lpVtbl->VSSetShader(
source\domino\render\dx11\dx11_gfx.c:803:    g_dx11.context->lpVtbl->PSSetShader(
source\domino\render\dx11\dx11_gfx.c:809:    g_dx11.context->lpVtbl->Draw(
source\domino\render\dx11\dx11_gfx.c:835:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\dx11\dx11_gfx.c:843:    ptr = cmd_buf->data;
source\domino\render\dx11\dx11_gfx.c:844:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\dx11\dx11_gfx.c:853:        payload_size = cmd->payload_size;
source\domino\render\dx11\dx11_gfx.c:860:        switch (cmd->opcode) {
source\domino\system\plat\windows\win32\dom_platform_win32.c:28:    count = MultiByteToWideChar(CP_UTF8, 0, utf8, -1, out_wide, out_wide_chars);
source\domino\system\plat\windows\win32\dom_platform_win32.c:30:        /* Truncate and null-terminate */
source\domino\system\plat\windows\win32\dom_platform_win32.c:31:        out_wide[out_wide_chars - 1] = L'\0';
source\domino\system\plat\windows\win32\dom_platform_win32.c:32:        return out_wide_chars - 1;
source\domino\system\plat\windows\win32\dom_platform_win32.c:45:            win->should_close = 1;
source\domino\system\plat\windows\win32\dom_platform_win32.c:51:            win->should_close = 1;
source\domino\system\plat\windows\win32\dom_platform_win32.c:57:            win->width = LOWORD(lparam);
source\domino\system\plat\windows\win32\dom_platform_win32.c:58:            win->height = HIWORD(lparam);
source\domino\system\plat\windows\win32\dom_platform_win32.c:121:    win->width = width;
source\domino\system\plat\windows\win32\dom_platform_win32.c:122:    win->height = height;
source\domino\system\plat\windows\win32\dom_platform_win32.c:138:        rect.right - rect.left,
source\domino\system\plat\windows\win32\dom_platform_win32.c:139:        rect.bottom - rect.top,
source\domino\system\plat\windows\win32\dom_platform_win32.c:154:    win->hwnd = hwnd;
source\domino\system\plat\windows\win32\dom_platform_win32.c:155:    win->should_close = 0;
source\domino\system\plat\windows\win32\dom_platform_win32.c:165:    if (win->hwnd) {
source\domino\system\plat\windows\win32\dom_platform_win32.c:166:        DestroyWindow(win->hwnd);
source\domino\system\plat\windows\win32\dom_platform_win32.c:186:    return win->should_close;
source\domino\system\plat\windows\win32\dom_platform_win32.c:197:        *width = win->width;
source\domino\system\plat\windows\win32\dom_platform_win32.c:200:        *height = win->height;
source\domino\system\plat\windows\win32\dom_platform_win32.c:209:    return (void *)win->hwnd;
source\domino\system\plat\windows\win32\dom_platform_win32.c:239:    dom_platform_win32_poll_keys(out_frame->key_down);
source\domino\system\plat\windows\win32\dom_platform_win32.c:240:    dom_platform_win32_poll_mouse_buttons(out_frame->mouse_down);
source\domino\system\plat\windows\win32\dom_platform_win32.c:243:    ScreenToClient(win->hwnd, &pt);
source\domino\system\plat\windows\win32\dom_platform_win32.c:244:    out_frame->mouse_x = (dom_i32)pt.x;
source\domino\system\plat\windows\win32\dom_platform_win32.c:245:    out_frame->mouse_y = (dom_i32)pt.y;
source\domino\system\plat\windows\win32\dom_platform_win32.c:246:    out_frame->mouse_dx = out_frame->mouse_x - g_last_mouse_x;
source\domino\system\plat\windows\win32\dom_platform_win32.c:247:    out_frame->mouse_dy = out_frame->mouse_y - g_last_mouse_y;
source\domino\system\plat\windows\win32\dom_platform_win32.c:248:    g_last_mouse_x = out_frame->mouse_x;
source\domino\system\plat\windows\win32\dom_platform_win32.c:249:    g_last_mouse_y = out_frame->mouse_y;
source\domino\system\plat\windows\win32\dom_platform_win32.c:251:    out_frame->wheel_delta = g_wheel_delta_accum;
source\domino\system\plat\windows\win32\dom_platform_win32.c:281:    SetWindowTextW(win->hwnd, wide);
source\domino\system\dsys_window_winnt.c:41:            impl->should_close = 1;
source\domino\system\dsys_window_winnt.c:46:            impl->should_close = 1;
source\domino\system\dsys_window_winnt.c:101:        rect.right - rect.left,
source\domino\system\dsys_window_winnt.c:102:        rect.bottom - rect.top,
source\domino\system\dsys_window_winnt.c:117:    impl->hwnd = hwnd;
source\domino\system\dsys_window_winnt.c:118:    impl->should_close = 0;
source\domino\system\dsys_window_winnt.c:129:    win->native_handle = impl;
source\domino\system\dsys_window_winnt.c:130:    win->width = local.width;
source\domino\system\dsys_window_winnt.c:131:    win->height = local.height;
source\domino\system\dsys_window_winnt.c:132:    win->mode = local.mode;
source\domino\system\dsys_window_winnt.c:145:    impl = (dsys_window_impl*)win->native_handle;
source\domino\system\dsys_window_winnt.c:146:    if (impl && impl->hwnd) {
source\domino\system\dsys_window_winnt.c:147:        DestroyWindow(impl->hwnd);
source\domino\system\dsys_window_winnt.c:161:    impl = (dsys_window_impl*)win->native_handle;
source\domino\system\dsys_window_winnt.c:165:    while (PeekMessage(&msg, impl->hwnd, 0, 0, PM_REMOVE)) {
source\domino\system\dsys_window_winnt.c:169:    return impl->should_close;
source\domino\system\dsys_window_winnt.c:174:    impl = win ? (dsys_window_impl*)win->native_handle : NULL;
source\domino\system\dsys_window_winnt.c:175:    if (!impl || !impl->hwnd) {
source\domino\system\dsys_window_winnt.c:179:    UpdateWindow(impl->hwnd);
source\domino\system\dsys_window_winnt.c:190:    impl = (dsys_window_impl*)win->native_handle;
source\domino\system\dsys_window_winnt.c:191:    if (!impl || !impl->hwnd) {
source\domino\system\dsys_window_winnt.c:192:        if (out_w) *out_w = win->width;
source\domino\system\dsys_window_winnt.c:193:        if (out_h) *out_h = win->height;
source\domino\system\dsys_window_winnt.c:196:    if (!GetClientRect(impl->hwnd, &rc)) {
source\domino\system\dsys_window_winnt.c:197:        if (out_w) *out_w = win->width;
source\domino\system\dsys_window_winnt.c:198:        if (out_h) *out_h = win->height;
source\domino\system\dsys_window_winnt.c:201:    win->width = (int32_t)(rc.right - rc.left);
source\domino\system\dsys_window_winnt.c:202:    win->height = (int32_t)(rc.bottom - rc.top);
source\domino\system\dsys_window_winnt.c:203:    if (out_w) *out_w = win->width;
source\domino\system\dsys_window_winnt.c:204:    if (out_h) *out_h = win->height;
source\domino\render\dx7\dx7_gfx.c:25:    do { if (x) { (x)->lpVtbl->Release(x); (x) = NULL; } } while (0)
source\domino\render\dx7\dx7_gfx.c:100:    if (!desc || !desc->window) {
source\domino\render\dx7\dx7_gfx.c:104:    g_dx7.hwnd = (HWND)dsys_window_get_native_handle(desc->window);
source\domino\render\dx7\dx7_gfx.c:109:    g_dx7.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\dx7\dx7_gfx.c:110:    g_dx7.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\dx7\dx7_gfx.c:188:    g_dx7.viewport->lpVtbl->SetViewport(g_dx7.viewport, &vp);
source\domino\render\dx7\dx7_gfx.c:190:    g_dx7.d3d_device->lpVtbl->Clear(
source\domino\render\dx7\dx7_gfx.c:199:    g_dx7.d3d_device->lpVtbl->BeginScene(g_dx7.d3d_device);
source\domino\render\dx7\dx7_gfx.c:208:    g_dx7.d3d_device->lpVtbl->EndScene(g_dx7.d3d_device);
source\domino\render\dx7\dx7_gfx.c:211:        g_dx7.primary->lpVtbl->Flip(g_dx7.primary, NULL, DDFLIP_WAIT);
source\domino\render\dx7\dx7_gfx.c:227:        g_dx7.primary->lpVtbl->Blt(
source\domino\render\dx7\dx7_gfx.c:250:        hr = g_dx7.dd->lpVtbl->SetCooperativeLevel(
source\domino\render\dx7\dx7_gfx.c:258:        hr = g_dx7.dd->lpVtbl->SetDisplayMode(
source\domino\render\dx7\dx7_gfx.c:275:        hr = g_dx7.dd->lpVtbl->CreateSurface(g_dx7.dd, &desc, &g_dx7.primary, NULL);
source\domino\render\dx7\dx7_gfx.c:282:        hr = g_dx7.primary->lpVtbl->GetAttachedSurface(g_dx7.primary, &caps, &g_dx7.backbuffer);
source\domino\render\dx7\dx7_gfx.c:289:        hr = g_dx7.dd->lpVtbl->SetCooperativeLevel(
source\domino\render\dx7\dx7_gfx.c:301:        hr = g_dx7.dd->lpVtbl->CreateSurface(g_dx7.dd, &desc, &g_dx7.primary, NULL);
source\domino\render\dx7\dx7_gfx.c:313:        hr = g_dx7.dd->lpVtbl->CreateSurface(g_dx7.dd, &desc, &g_dx7.backbuffer, NULL);
source\domino\render\dx7\dx7_gfx.c:318:        hr = g_dx7.dd->lpVtbl->CreateClipper(g_dx7.dd, 0, &g_dx7.clipper, NULL);
source\domino\render\dx7\dx7_gfx.c:323:        g_dx7.clipper->lpVtbl->SetHWnd(g_dx7.clipper, 0, g_dx7.hwnd);
source\domino\render\dx7\dx7_gfx.c:324:        g_dx7.primary->lpVtbl->SetClipper(g_dx7.primary, g_dx7.clipper);
source\domino\render\dx7\dx7_gfx.c:335:    hr = g_dx7.dd->lpVtbl->QueryInterface(g_dx7.dd, &IID_IDirect3D7, (void**)&g_dx7.d3d);
source\domino\render\dx7\dx7_gfx.c:340:    hr = g_dx7.d3d->lpVtbl->CreateDevice(
source\domino\render\dx7\dx7_gfx.c:346:        hr = g_dx7.d3d->lpVtbl->CreateDevice(
source\domino\render\dx7\dx7_gfx.c:356:    hr = g_dx7.d3d_device->lpVtbl->CreateViewport(g_dx7.d3d_device, &g_dx7.viewport, NULL);
source\domino\render\dx7\dx7_gfx.c:360:    hr = g_dx7.d3d_device->lpVtbl->AddViewport(g_dx7.d3d_device, g_dx7.viewport);
source\domino\render\dx7\dx7_gfx.c:372:    hr = g_dx7.viewport->lpVtbl->SetViewport(g_dx7.viewport, &vp);
source\domino\render\dx7\dx7_gfx.c:377:    hr = g_dx7.d3d_device->lpVtbl->SetRenderTarget(g_dx7.d3d_device, g_dx7.backbuffer, 0);
source\domino\render\dx7\dx7_gfx.c:382:    g_dx7.d3d_device->lpVtbl->SetRenderState(g_dx7.d3d_device, D3DRENDERSTATE_ZENABLE, D3DZB_FALSE);
source\domino\render\dx7\dx7_gfx.c:383:    g_dx7.d3d_device->lpVtbl->SetRenderState(g_dx7.d3d_device, D3DRENDERSTATE_LIGHTING, FALSE);
source\domino\render\dx7\dx7_gfx.c:384:    g_dx7.d3d_device->lpVtbl->SetRenderState(g_dx7.d3d_device, D3DRENDERSTATE_CULLMODE, D3DCULL_NONE);
source\domino\render\dx7\dx7_gfx.c:421:    g_dx7.d3d_device->lpVtbl->Clear(
source\domino\render\dx7\dx7_gfx.c:507:    g_dx7.d3d_device->lpVtbl->SetTexture(g_dx7.d3d_device, 0, NULL);
source\domino\render\dx7\dx7_gfx.c:508:    g_dx7.d3d_device->lpVtbl->SetRenderState(g_dx7.d3d_device, D3DRENDERSTATE_ALPHABLENDENABLE, TRUE);
source\domino\render\dx7\dx7_gfx.c:509:    g_dx7.d3d_device->lpVtbl->SetTextureStageState(g_dx7.d3d_device, 0, D3DTSS_COLOROP, D3DTOP_SELECTARG1);
source\domino\render\dx7\dx7_gfx.c:510:    g_dx7.d3d_device->lpVtbl->SetTextureStageState(g_dx7.d3d_device, 0, D3DTSS_ALPHAOP, D3DTOP_SELECTARG1);
source\domino\render\dx7\dx7_gfx.c:512:    g_dx7.d3d_device->lpVtbl->DrawPrimitive(
source\domino\render\dx7\dx7_gfx.c:545:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\dx7\dx7_gfx.c:549:    ptr = cmd_buf->data;
source\domino\render\dx7\dx7_gfx.c:550:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\dx7\dx7_gfx.c:559:        payload_size = cmd->payload_size;
source\domino\render\dx7\dx7_gfx.c:566:        switch (cmd->opcode) {
source\domino\render\dx9\dx9_gfx.c:16:    do { if (x) { (x)->lpVtbl->Release(x); (x) = NULL; } } while (0)
source\domino\render\dx9\dx9_gfx.c:123:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:125:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:127:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:129:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:131:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:133:    g_dx9.device->lpVtbl->SetRenderState(
source\domino\render\dx9\dx9_gfx.c:146:    if (!desc || !desc->window) {
source\domino\render\dx9\dx9_gfx.c:150:    g_dx9.hwnd = (HWND)dsys_window_get_native_handle(desc->window);
source\domino\render\dx9\dx9_gfx.c:155:    g_dx9.width = (desc->width > 0) ? desc->width : 800;
source\domino\render\dx9\dx9_gfx.c:156:    g_dx9.height = (desc->height > 0) ? desc->height : 600;
source\domino\render\dx9\dx9_gfx.c:166:    pp->Windowed = TRUE;
source\domino\render\dx9\dx9_gfx.c:167:    pp->hDeviceWindow = g_dx9.hwnd;
source\domino\render\dx9\dx9_gfx.c:168:    pp->SwapEffect = D3DSWAPEFFECT_DISCARD;
source\domino\render\dx9\dx9_gfx.c:169:    pp->BackBufferCount = 1;
source\domino\render\dx9\dx9_gfx.c:170:    pp->BackBufferWidth = (UINT)g_dx9.width;
source\domino\render\dx9\dx9_gfx.c:171:    pp->BackBufferHeight = (UINT)g_dx9.height;
source\domino\render\dx9\dx9_gfx.c:172:    pp->BackBufferFormat = D3DFMT_UNKNOWN;
source\domino\render\dx9\dx9_gfx.c:173:    pp->MultiSampleType = D3DMULTISAMPLE_NONE;
source\domino\render\dx9\dx9_gfx.c:174:    pp->EnableAutoDepthStencil = TRUE;
source\domino\render\dx9\dx9_gfx.c:175:    pp->AutoDepthStencilFormat = D3DFMT_D24S8;
source\domino\render\dx9\dx9_gfx.c:176:    pp->PresentationInterval = desc->vsync ? D3DPRESENT_INTERVAL_ONE
source\domino\render\dx9\dx9_gfx.c:180:    hr = g_dx9.d3d->lpVtbl->CreateDevice(
source\domino\render\dx9\dx9_gfx.c:190:        pp->AutoDepthStencilFormat = D3DFMT_D16;
source\domino\render\dx9\dx9_gfx.c:191:        hr = g_dx9.d3d->lpVtbl->CreateDevice(
source\domino\render\dx9\dx9_gfx.c:203:        hr = g_dx9.d3d->lpVtbl->CreateDevice(
source\domino\render\dx9\dx9_gfx.c:258:    hr = g_dx9.device->lpVtbl->Reset(g_dx9.device, &g_dx9.pp);
source\domino\render\dx9\dx9_gfx.c:280:    hr = g_dx9.device->lpVtbl->TestCooperativeLevel(g_dx9.device);
source\domino\render\dx9\dx9_gfx.c:282:        hr = g_dx9.device->lpVtbl->Reset(g_dx9.device, &g_dx9.pp);
source\domino\render\dx9\dx9_gfx.c:300:    hr = g_dx9.device->lpVtbl->Clear(
source\domino\render\dx9\dx9_gfx.c:316:        hr = g_dx9.device->lpVtbl->BeginScene(g_dx9.device);
source\domino\render\dx9\dx9_gfx.c:338:        g_dx9.device->lpVtbl->EndScene(g_dx9.device);
source\domino\render\dx9\dx9_gfx.c:342:    hr = g_dx9.device->lpVtbl->Present(g_dx9.device, NULL, NULL, NULL, NULL);
source\domino\render\dx9\dx9_gfx.c:373:    g_dx9.device->lpVtbl->Clear(
source\domino\render\dx9\dx9_gfx.c:408:    g_dx9.device->lpVtbl->SetViewport(g_dx9.device, &vp);
source\domino\render\dx9\dx9_gfx.c:431:    g_dx9.device->lpVtbl->SetTexture(
source\domino\render\dx9\dx9_gfx.c:493:    g_dx9.device->lpVtbl->SetTexture(g_dx9.device, 0, NULL);
source\domino\render\dx9\dx9_gfx.c:494:    g_dx9.device->lpVtbl->SetFVF(g_dx9.device, DX9_LINE_FVF);
source\domino\render\dx9\dx9_gfx.c:495:    g_dx9.device->lpVtbl->DrawPrimitiveUP(
source\domino\render\dx9\dx9_gfx.c:532:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\dx9\dx9_gfx.c:540:    ptr = cmd_buf->data;
source\domino\render\dx9\dx9_gfx.c:541:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\dx9\dx9_gfx.c:550:        payload_size = cmd->payload_size;
source\domino\render\dx9\dx9_gfx.c:557:        switch (cmd->opcode) {
source\domino\system\plat\windows\win32\dom_platform_sdl2.h:8: * SDL2-based platform stub for Windows (build-time selectable).
source\domino\system\dsys_window_stub.c:26:    win->width = local.width;
source\domino\system\dsys_window_stub.c:27:    win->height = local.height;
source\domino\system\dsys_window_stub.c:28:    win->mode = local.mode;
source\domino\system\dsys_window_stub.c:54:    if (out_w) *out_w = win->width;
source\domino\system\dsys_window_stub.c:55:    if (out_h) *out_h = win->height;
source\domino\render\soft\soft_config.c:10:    f->enable_2d = on;
source\domino\render\soft\soft_config.c:11:    f->enable_3d = on;
source\domino\render\soft\soft_config.c:12:    f->enable_vector = on;
source\domino\render\soft\soft_config.c:13:    f->enable_raster = on;
source\domino\render\soft\soft_config.c:14:    f->enable_depth = on;
source\domino\render\soft\soft_config.c:15:    f->enable_stencil = on;
source\domino\render\soft\soft_config.c:16:    f->enable_blend = on;
source\domino\render\soft\soft_config.c:17:    f->enable_texturing = on;
source\domino\render\soft\soft_config.c:18:    f->enable_mipmaps = on;
source\domino\render\soft\soft_config.c:19:    f->enable_gamma = on;
source\domino\render\soft\soft_config.c:20:    f->enable_msaa = on;
source\domino\render\soft\soft_config.c:21:    f->enable_subpixel = on;
source\domino\render\soft\soft_config.c:31:    out_cfg->profile = DGFX_SOFT_PROFILE_BALANCED;
source\domino\render\soft\soft_config.c:32:    out_cfg->color_format = DGFX_SOFT_FMT_32_ARGB;
source\domino\render\soft\soft_config.c:33:    out_cfg->depth_bits = 24u;
source\domino\render\soft\soft_config.c:34:    out_cfg->stencil_bits = 0u;
source\domino\render\soft\soft_config.c:35:    out_cfg->allow_resize = 1u;
source\domino\render\soft\soft_config.c:37:    memset(&out_cfg->features, 0, sizeof(out_cfg->features));
source\domino\render\soft\soft_config.c:38:    out_cfg->features.enable_depth = 1u;
source\domino\render\soft\soft_config.c:39:    out_cfg->features.enable_2d = 1u;
source\domino\render\soft\soft_config.c:40:    out_cfg->features.enable_vector = 1u;
source\domino\render\soft\soft_config.c:41:    out_cfg->features.enable_raster = 1u;
source\domino\render\soft\soft_config.c:42:    out_cfg->features.enable_3d = 1u;
source\domino\render\soft\soft_config.c:43:    out_cfg->max_triangles_per_frame = 65536u;
source\domino\render\soft\soft_config.c:44:    out_cfg->max_lines_per_frame = 65536u;
source\domino\render\soft\soft_config.c:45:    out_cfg->max_sprites_per_frame = 32768u;
source\domino\render\soft\soft_config.c:46:    out_cfg->prefer_fullscreen = 0u;
source\domino\render\soft\soft_config.c:47:    out_cfg->prefer_borderless = 0u;
source\domino\render\soft\soft_config.c:56:    cfg->profile = profile;
source\domino\render\soft\soft_config.c:60:        cfg->color_format = DGFX_SOFT_FMT_16_565;
source\domino\render\soft\soft_config.c:61:        cfg->depth_bits = 16u;
source\domino\render\soft\soft_config.c:62:        cfg->stencil_bits = 0u;
source\domino\render\soft\soft_config.c:63:        memset(&cfg->features, 0, sizeof(cfg->features));
source\domino\render\soft\soft_config.c:64:        cfg->features.enable_depth = 1u;
source\domino\render\soft\soft_config.c:65:        cfg->features.enable_2d = 1u;
source\domino\render\soft\soft_config.c:66:        cfg->features.enable_vector = 1u;
source\domino\render\soft\soft_config.c:67:        cfg->features.enable_raster = 1u;
source\domino\render\soft\soft_config.c:70:        cfg->color_format = DGFX_SOFT_FMT_32_ARGB;
source\domino\render\soft\soft_config.c:71:        cfg->depth_bits = 32u;
source\domino\render\soft\soft_config.c:72:        cfg->stencil_bits = 0u;
source\domino\render\soft\soft_config.c:73:        soft_features_set_all(&cfg->features, 1u);
source\domino\render\soft\soft_config.c:74:        cfg->features.enable_blend = 1u;
source\domino\render\soft\soft_config.c:77:        cfg->color_format = DGFX_SOFT_FMT_32_ARGB;
source\domino\render\soft\soft_config.c:78:        cfg->depth_bits = 24u;
source\domino\render\soft\soft_config.c:79:        cfg->stencil_bits = 8u;
source\domino\render\soft\soft_config.c:80:        memset(&cfg->features, 0, sizeof(cfg->features));
source\domino\render\soft\soft_config.c:81:        cfg->features.enable_depth = 1u;
source\domino\render\soft\soft_config.c:82:        cfg->features.enable_2d = 1u;
source\domino\render\soft\soft_config.c:83:        cfg->features.enable_vector = 1u;
source\domino\render\soft\soft_config.c:84:        cfg->features.enable_raster = 1u;
source\domino\render\soft\soft_config.c:85:        cfg->features.enable_3d = 1u;
source\domino\render\soft\soft_config.c:89:        cfg->color_format = DGFX_SOFT_FMT_8_INDEXED;
source\domino\render\soft\soft_config.c:90:        cfg->depth_bits = 0u;
source\domino\render\soft\soft_config.c:91:        cfg->stencil_bits = 0u;
source\domino\render\soft\soft_config.c:92:        soft_features_set_all(&cfg->features, 0u);
source\domino\render\soft\soft_raster.c:40:    if (!fb || !fb->color) {
source\domino\render\soft\soft_raster.c:43:    if (x < 0 || y < 0 || x >= fb->width || y >= fb->height) {
source\domino\render\soft\soft_raster.c:52:    offset = (size_t)y * (size_t)fb->stride_bytes;
source\domino\render\soft\soft_raster.c:54:    switch (fb->format) {
source\domino\render\soft\soft_raster.c:58:            fb->color[offset + (size_t)x] = idx;
source\domino\render\soft\soft_raster.c:64:            row16 = (uint16_t*)(fb->color + offset);
source\domino\render\soft\soft_raster.c:72:            row32 = (uint32_t*)(fb->color + offset);
source\domino\render\soft\soft_raster.c:84:    maxv = (bits >= 32) ? 0xffffffffu : ((1u << bits) - 1u);
source\domino\render\soft\soft_raster.c:93:    if (!fb || !fb->depth || fb->depth_bits == 0) {
source\domino\render\soft\soft_raster.c:96:    if (x < 0 || y < 0 || x >= fb->width || y >= fb->height) {
source\domino\render\soft\soft_raster.c:100:    depth_u = soft_depth_to_uint(depth, fb->depth_bits);
source\domino\render\soft\soft_raster.c:101:    row_off = (size_t)y * (size_t)fb->depth_stride;
source\domino\render\soft\soft_raster.c:103:    if (fb->depth_bits == 16) {
source\domino\render\soft\soft_raster.c:104:        uint16_t *row16 = (uint16_t *)(fb->depth + row_off);
source\domino\render\soft\soft_raster.c:111:    } else if (fb->depth_bits == 24) {
source\domino\render\soft\soft_raster.c:112:        uint8_t *row = fb->depth + row_off;
source\domino\render\soft\soft_raster.c:125:        uint32_t *row32 = (uint32_t *)(fb->depth + row_off);
source\domino\render\soft\soft_raster.c:210:    fb->color = color;
source\domino\render\soft\soft_raster.c:211:    fb->depth = depth;
source\domino\render\soft\soft_raster.c:212:    fb->stencil = stencil;
source\domino\render\soft\soft_raster.c:213:    fb->width = width;
source\domino\render\soft\soft_raster.c:214:    fb->height = height;
source\domino\render\soft\soft_raster.c:215:    fb->stride_bytes = (int)color_stride;
source\domino\render\soft\soft_raster.c:216:    fb->depth_stride = (int)depth_stride;
source\domino\render\soft\soft_raster.c:217:    fb->stencil_stride = (int)stencil_stride;
source\domino\render\soft\soft_raster.c:218:    fb->format = fmt;
source\domino\render\soft\soft_raster.c:219:    fb->depth_bits = depth_bits;
source\domino\render\soft\soft_raster.c:220:    fb->stencil_bits = stencil_bits;
source\domino\render\soft\soft_raster.c:230:    if (fb->color) {
source\domino\render\soft\soft_raster.c:231:        free(fb->color);
source\domino\render\soft\soft_raster.c:233:    if (fb->depth) {
source\domino\render\soft\soft_raster.c:234:        free(fb->depth);
source\domino\render\soft\soft_raster.c:236:    if (fb->stencil) {
source\domino\render\soft\soft_raster.c:237:        free(fb->stencil);
source\domino\render\soft\soft_raster.c:247:    if (!fb || !fb->color) {
source\domino\render\soft\soft_raster.c:251:    switch (fb->format) {
source\domino\render\soft\soft_raster.c:257:            total = (size_t)fb->stride_bytes * (size_t)fb->height;
source\domino\render\soft\soft_raster.c:258:            memset(fb->color, idx, total);
source\domino\render\soft\soft_raster.c:265:            for (y = 0u; y < (size_t)fb->height; ++y) {
source\domino\render\soft\soft_raster.c:266:                uint16_t* row = (uint16_t*)(fb->color + (size_t)y * (size_t)fb->stride_bytes);
source\domino\render\soft\soft_raster.c:268:                for (x = 0; x < fb->width; ++x) {
source\domino\render\soft\soft_raster.c:279:            for (y = 0u; y < (size_t)fb->height; ++y) {
source\domino\render\soft\soft_raster.c:280:                uint32_t* row = (uint32_t*)(fb->color + (size_t)y * (size_t)fb->stride_bytes);
source\domino\render\soft\soft_raster.c:282:                for (x = 0; x < fb->width; ++x) {
source\domino\render\soft\soft_raster.c:296:    if (!fb || !fb->depth || fb->depth_bits == 0u) {
source\domino\render\soft\soft_raster.c:303:    if (fb->depth_bits == 16u) {
source\domino\render\soft\soft_raster.c:306:        for (y = 0u; y < (uint32_t)fb->height; ++y) {
source\domino\render\soft\soft_raster.c:307:            uint16_t* row = (uint16_t*)(fb->depth + (size_t)y * (size_t)fb->depth_stride);
source\domino\render\soft\soft_raster.c:309:            for (x = 0; x < fb->width; ++x) {
source\domino\render\soft\soft_raster.c:318:    if (fb->depth_bits == 24u) {
source\domino\render\soft\soft_raster.c:319:        for (y = 0u; y < (uint32_t)fb->height; ++y) {
source\domino\render\soft\soft_raster.c:320:            uint8_t* row = fb->depth + (size_t)y * (size_t)fb->depth_stride;
source\domino\render\soft\soft_raster.c:322:            for (x = 0; x < fb->width; ++x) {
source\domino\render\soft\soft_raster.c:332:    for (y = 0u; y < (uint32_t)fb->height; ++y) {
source\domino\render\soft\soft_raster.c:333:        uint32_t* row = (uint32_t*)(fb->depth + (size_t)y * (size_t)fb->depth_stride);
source\domino\render\soft\soft_raster.c:335:        for (x = 0; x < fb->width; ++x) {
source\domino\render\soft\soft_raster.c:343:    if (!fb || !fb->stencil || fb->stencil_bits == 0u) {
source\domino\render\soft\soft_raster.c:346:    memset(fb->stencil, s, (size_t)fb->stencil_stride * (size_t)fb->height);
source\domino\render\soft\soft_raster.c:360:    if (!fb || !fb->color) {
source\domino\render\soft\soft_raster.c:364:    dx = (x1 > x0) ? (x1 - x0) : (x0 - x1);
source\domino\render\soft\soft_raster.c:365:    dy = (y1 > y0) ? (y1 - y0) : (y0 - y1);
source\domino\render\soft\soft_raster.c:366:    sx = (x0 < x1) ? 1 : -1;
source\domino\render\soft\soft_raster.c:367:    sy = (y0 < y1) ? 1 : -1;
source\domino\render\soft\soft_raster.c:368:    err = dx - dy;
source\domino\render\soft\soft_raster.c:378:        if (e2 > -dy) {
source\domino\render\soft\soft_raster.c:379:            err -= dy;
source\domino\render\soft\soft_raster.c:399:    if (!fb || !fb->color || w <= 0 || h <= 0) {
source\domino\render\soft\soft_raster.c:410:    if (x1 > fb->width)  x1 = fb->width;
source\domino\render\soft\soft_raster.c:411:    if (y1 > fb->height) y1 = fb->height;
source\domino\render\soft\soft_raster.c:452:    if (!fb || !fb->color || !v0 || !v1 || !v2) {
source\domino\render\soft\soft_raster.c:456:    area = (v1->x - v0->x) * (v2->y - v0->y) - (v1->y - v0->y) * (v2->x - v0->x);
source\domino\render\soft\soft_raster.c:462:    min_x = (int)(v0->x < v1->x ? (v0->x < v2->x ? v0->x : v2->x) : (v1->x < v2->x ? v1->x : v2->x));
source\domino\render\soft\soft_raster.c:463:    min_y = (int)(v0->y < v1->y ? (v0->y < v2->y ? v0->y : v2->y) : (v1->y < v2->y ? v1->y : v2->y));
source\domino\render\soft\soft_raster.c:464:    max_x = (int)(v0->x > v1->x ? (v0->x > v2->x ? v0->x : v2->x) : (v1->x > v2->x ? v1->x : v2->x));
source\domino\render\soft\soft_raster.c:465:    max_y = (int)(v0->y > v1->y ? (v0->y > v2->y ? v0->y : v2->y) : (v1->y > v2->y ? v1->y : v2->y));
source\domino\render\soft\soft_raster.c:469:    if (max_x > fb->width - 1) max_x = fb->width - 1;
source\domino\render\soft\soft_raster.c:470:    if (max_y > fb->height - 1) max_y = fb->height - 1;
source\domino\render\soft\soft_raster.c:472:    c0 = v0->rgba;
source\domino\render\soft\soft_raster.c:473:    c1 = v1->rgba;
source\domino\render\soft\soft_raster.c:474:    c2 = v2->rgba;
source\domino\render\soft\soft_raster.c:489:            w0 = ((v1->x - v0->x) * (py - v0->y) - (v1->y - v0->y) * (px - v0->x)) * inv_area;
source\domino\render\soft\soft_raster.c:490:            w1 = ((v2->x - v1->x) * (py - v1->y) - (v2->y - v1->y) * (px - v1->x)) * inv_area;
source\domino\render\soft\soft_raster.c:491:            w2 = ((v0->x - v2->x) * (py - v2->y) - (v0->y - v2->y) * (px - v2->x)) * inv_area;
source\domino\render\soft\soft_raster.c:497:            depth = w0 * v0->z + w1 * v1->z + w2 * v2->z;
source\domino\render\soft\soft_raster.c:501:            } else if (!enable_depth_test && fb->depth && fb->depth_bits > 0) {
source\domino\system\dsys_term.c:78:        return -1;
source\domino\system\dsys_term.c:83:    return -1;
source\domino\render\metal\metal_gfx.h:9:/* Opaque Objective-C types are viewed as void* here to keep the C interface. */
source\domino\render\soft\soft_gfx.c:78:    width = (desc && desc->width > 0) ? desc->width : 800;
source\domino\render\soft\soft_gfx.c:79:    height = (desc && desc->height > 0) ? desc->height : 600;
source\domino\render\soft\soft_gfx.c:208:        memcpy(g_soft.view, cam->view, sizeof(g_soft.view));
source\domino\render\soft\soft_gfx.c:209:        memcpy(g_soft.proj, cam->proj, sizeof(g_soft.proj));
source\domino\render\soft\soft_gfx.c:210:        memcpy(g_soft.world, cam->world, sizeof(g_soft.world));
source\domino\render\soft\soft_gfx.c:240:        x0 = spr->x + g_soft.vp.x;
source\domino\render\soft\soft_gfx.c:241:        y0 = spr->y + g_soft.vp.y;
source\domino\render\soft\soft_gfx.c:242:        x1 = x0 + spr->w;
source\domino\render\soft\soft_gfx.c:243:        y1 = y0 + spr->h;
source\domino\render\soft\soft_gfx.c:250:        w = x1 - x0;
source\domino\render\soft\soft_gfx.c:251:        h = y1 - y0;
source\domino\render\soft\soft_gfx.c:253:            soft_raster_fill_rect_2d(&g_soft.fb, x0, y0, w, h, spr->color_rgba);
source\domino\render\soft\soft_gfx.c:281:        x0 = ln->x0 + g_soft.vp.x;
source\domino\render\soft\soft_gfx.c:282:        y0 = ln->y0 + g_soft.vp.y;
source\domino\render\soft\soft_gfx.c:283:        x1 = ln->x1 + g_soft.vp.x;
source\domino\render\soft\soft_gfx.c:284:        y1 = ln->y1 + g_soft.vp.y;
source\domino\render\soft\soft_gfx.c:285:        soft_raster_draw_line_2d(&g_soft.fb, x0, y0, x1, y1, ln->color_rgba);
source\domino\render\soft\soft_gfx.c:310:        if (!m->positions || !m->indices || m->index_count < 3u) {
source\domino\render\soft\soft_gfx.c:314:        for (tri = 0u; tri + 2u < m->index_count; tri += 3u) {
source\domino\render\soft\soft_gfx.c:326:            i0 = m->indices[tri + 0u];
source\domino\render\soft\soft_gfx.c:327:            i1 = m->indices[tri + 1u];
source\domino\render\soft\soft_gfx.c:328:            i2 = m->indices[tri + 2u];
source\domino\render\soft\soft_gfx.c:329:            if (i0 >= m->vertex_count || i1 >= m->vertex_count || i2 >= m->vertex_count) {
source\domino\render\soft\soft_gfx.c:333:            p0 = m->positions + (size_t)i0 * 3u;
source\domino\render\soft\soft_gfx.c:334:            p1 = m->positions + (size_t)i1 * 3u;
source\domino\render\soft\soft_gfx.c:335:            p2 = m->positions + (size_t)i2 * 3u;
source\domino\render\soft\soft_gfx.c:377:        int x = t->x + g_soft.vp.x;
source\domino\render\soft\soft_gfx.c:378:        int y = t->y + g_soft.vp.y;
source\domino\render\soft\soft_gfx.c:382:        if (!t->utf8_text) {
source\domino\render\soft\soft_gfx.c:385:        soft_raster_draw_text_stub(&g_soft.fb, x, y, t->color_rgba, t->utf8_text);
source\domino\render\soft\soft_gfx.c:394:    if (!cmd || !cmd->data || cmd->size == 0u) {
source\domino\render\soft\soft_gfx.c:401:    ptr = cmd->data;
source\domino\render\soft\soft_gfx.c:402:    end = cmd->data + cmd->size;
source\domino\render\soft\soft_gfx.c:412:        cmd_size = hdr->size;
source\domino\render\soft\soft_gfx.c:414:            cmd_size = (uint32_t)sizeof(dgfx_cmd_header) + (uint32_t)hdr->payload_size;
source\domino\render\soft\soft_gfx.c:423:        payload_size = cmd_size - (uint32_t)sizeof(dgfx_cmd_header);
source\domino\render\soft\soft_gfx.c:425:        switch (hdr->opcode) {
source\domino\render\soft\d_gfx_soft.c:18:    v |= ((u32)c->a << 24);
source\domino\render\soft\d_gfx_soft.c:19:    v |= ((u32)c->r << 16);
source\domino\render\soft\d_gfx_soft.c:20:    v |= ((u32)c->g << 8);
source\domino\render\soft\d_gfx_soft.c:21:    v |= ((u32)c->b);
source\domino\render\soft\d_gfx_soft.c:55:    x0 = rect->x;
source\domino\render\soft\d_gfx_soft.c:56:    y0 = rect->y;
source\domino\render\soft\d_gfx_soft.c:57:    x1 = rect->x + rect->w;
source\domino\render\soft\d_gfx_soft.c:58:    y1 = rect->y + rect->h;
source\domino\render\soft\d_gfx_soft.c:69:    color = d_gfx_soft_pack_color(&rect->color);
source\domino\render\soft\d_gfx_soft.c:87:    len = text->text ? strlen(text->text) : 0u;
source\domino\render\soft\d_gfx_soft.c:88:    r.x = text->x;
source\domino\render\soft\d_gfx_soft.c:89:    r.y = text->y;
source\domino\render\soft\d_gfx_soft.c:92:    r.color = text->color;
source\domino\render\soft\d_gfx_soft.c:104:        return -1;
source\domino\render\soft\d_gfx_soft.c:128:    if (!buf || !buf->cmds || buf->count == 0u || !g_soft_fb) {
source\domino\render\soft\d_gfx_soft.c:135:    for (i = 0u; i < buf->count; ++i) {
source\domino\render\soft\d_gfx_soft.c:136:        const d_gfx_cmd *cmd = buf->cmds + i;
source\domino\render\soft\d_gfx_soft.c:137:        switch (cmd->opcode) {
source\domino\render\soft\d_gfx_soft.c:139:            u32 color = d_gfx_soft_pack_color(&cmd->u.clear.color);
source\domino\render\soft\d_gfx_soft.c:148:            g_soft_vp = cmd->u.viewport.vp;
source\domino\render\soft\d_gfx_soft.c:154:            d_gfx_soft_fill_rect(&cmd->u.rect);
source\domino\render\soft\d_gfx_soft.c:157:            d_gfx_soft_stub_text(&cmd->u.text);
source\domino\system\dsys_stub.c:32:            ev->type = DSYS_INPUT_EVENT_KEY_DOWN;
source\domino\system\dsys_stub.c:33:            ev->payload.key.keycode = (int32_t)key;
source\domino\system\dsys_stub.c:34:            ev->payload.key.repeat = 0;
source\domino\system\dsys_stub.c:35:            ev->payload.key.translated = (key >= 32 && key <= 126) ? key : 0;
source\domino\system\dsys_stub.c:41:        ev->type = DSYS_INPUT_EVENT_NONE;
source\domino\render\metal\metal_gfx.c:3:/* Objective-C++ implementations live in metal_backend.mm */
source\domino\system\dsys_proc_winnt.c:83:        impl->process_handle = pi.hProcess;
source\domino\system\dsys_proc_winnt.c:84:        out_handle->impl = impl;
source\domino\system\dsys_proc_winnt.c:98:    if (!handle || !handle->impl) return DSYS_PROC_ERROR_GENERIC;
source\domino\system\dsys_proc_winnt.c:99:    impl = (dsys_process_impl*)handle->impl;
source\domino\system\dsys_proc_winnt.c:101:    wait_res = WaitForSingleObject(impl->process_handle, INFINITE);
source\domino\system\dsys_proc_winnt.c:103:        CloseHandle(impl->process_handle);
source\domino\system\dsys_proc_winnt.c:105:        handle->impl = 0;
source\domino\system\dsys_proc_winnt.c:109:    if (!GetExitCodeProcess(impl->process_handle, &code)) {
source\domino\system\dsys_proc_winnt.c:110:        CloseHandle(impl->process_handle);
source\domino\system\dsys_proc_winnt.c:112:        handle->impl = 0;
source\domino\system\dsys_proc_winnt.c:120:    CloseHandle(impl->process_handle);
source\domino\system\dsys_proc_winnt.c:122:    handle->impl = 0;
source\domino\render\metal\metal_backend.mm:168:    if (!desc || !desc->window) {
source\domino\render\metal\metal_backend.mm:173:    g_metal.ns_window = dsys_window_get_native_handle(desc->window);
source\domino\render\metal\metal_backend.mm:178:    g_metal.width = (desc->width > 0) ? desc->width : 1280;
source\domino\render\metal\metal_backend.mm:179:    g_metal.height = (desc->height > 0) ? desc->height : 720;
source\domino\render\metal\metal_backend.mm:181:    g_metal.vsync = desc->vsync ? 1 : 0;
source\domino\render\metal\metal_backend.mm:660:    verts[0].x = -0.5f; verts[0].y = -0.5f; verts[0].z = 0.0f;
source\domino\render\metal\metal_backend.mm:662:    verts[1].x = -0.5f; verts[1].y =  0.5f; verts[1].z = 0.0f;
source\domino\render\metal\metal_backend.mm:669:    verts[5].x =  0.5f; verts[5].y = -0.5f; verts[5].z = 0.0f;
source\domino\render\metal\metal_backend.mm:781:    verts[0].nx = 0.0f; verts[0].ny = 0.0f; verts[0].nz = -1.0f;
source\domino\render\metal\metal_backend.mm:783:    verts[1].x = -0.5f; verts[1].y = -0.5f; verts[1].z = 0.0f;
source\domino\render\metal\metal_backend.mm:784:    verts[1].nx = 0.0f; verts[1].ny = 0.0f; verts[1].nz = -1.0f;
source\domino\render\metal\metal_backend.mm:786:    verts[2].x = 0.5f;  verts[2].y = -0.5f; verts[2].z = 0.0f;
source\domino\render\metal\metal_backend.mm:787:    verts[2].nx = 0.0f; verts[2].ny = 0.0f; verts[2].nz = -1.0f;
source\domino\render\metal\metal_backend.mm:816:    if (!cmd_buf || !cmd_buf->data || cmd_buf->size == 0u) {
source\domino\render\metal\metal_backend.mm:824:    ptr = cmd_buf->data;
source\domino\render\metal\metal_backend.mm:825:    end = cmd_buf->data + cmd_buf->size;
source\domino\render\metal\metal_backend.mm:834:        payload_size = cmd->payload_size;
source\domino\render\metal\metal_backend.mm:841:        switch (cmd->opcode) {
source\domino\render\metal\metal_backend.mm:882:/* Stub implementations to satisfy non-Apple builds if this file is compiled. */
source\domino\system\CMakeLists.txt:103:        COMPILE_FLAGS "-fobjc-arc"
source\domino\system\plat\win16\win16_sys.c:96:        len = dst_size - 1u;
source\domino\system\plat\win16\win16_sys.c:112:        c = path[len - 1u];
source\domino\system\plat\win16\win16_sys.c:114:            path[len - 1u] = '\0';
source\domino\system\plat\win16\win16_sys.c:117:        path[len - 1u] = '\0';
source\domino\system\plat\win16\win16_sys.c:118:        len -= 1u;
source\domino\system\plat\win16\win16_sys.c:137:        if (i > 0u && dst[i - 1u] != '\\' && dst[i - 1u] != '/' && i + 1u < cap) {
source\domino\system\plat\win16\win16_sys.c:176:    exe_path[sizeof(exe_path) - 1u] = '\0';
source\domino\system\plat\win16\win16_sys.c:243:    if (!win || !win->hwnd) {
source\domino\system\plat\win16\win16_sys.c:249:    w = win->width;
source\domino\system\plat\win16\win16_sys.c:250:    h = win->height;
source\domino\system\plat\win16\win16_sys.c:257:    if (win->mode == DWIN_MODE_FULLSCREEN || win->mode == DWIN_MODE_BORDERLESS) {
source\domino\system\plat\win16\win16_sys.c:258:        MoveWindow(win->hwnd, 0, 0, w, h, TRUE);
source\domino\system\plat\win16\win16_sys.c:260:        MoveWindow(win->hwnd, 0, 0, w, h, TRUE);
source\domino\system\plat\win16\win16_sys.c:299:    while ((DWORD)(GetTickCount() - start) < ms) {
source\domino\system\plat\win16\win16_sys.c:369:    win->hwnd = hwnd;
source\domino\system\plat\win16\win16_sys.c:370:    win->width = local_desc.width;
source\domino\system\plat\win16\win16_sys.c:371:    win->height = local_desc.height;
source\domino\system\plat\win16\win16_sys.c:372:    win->mode = local_desc.mode;
source\domino\system\plat\win16\win16_sys.c:386:    if (win->hwnd) {
source\domino\system\plat\win16\win16_sys.c:387:        DestroyWindow(win->hwnd);
source\domino\system\plat\win16\win16_sys.c:389:    if (g_win16.hwnd == win->hwnd) {
source\domino\system\plat\win16\win16_sys.c:403:    win->mode = mode;
source\domino\system\plat\win16\win16_sys.c:412:    win->width = w;
source\domino\system\plat\win16\win16_sys.c:413:    win->height = h;
source\domino\system\plat\win16\win16_sys.c:414:    if (win->hwnd) {
source\domino\system\plat\win16\win16_sys.c:415:        MoveWindow(win->hwnd, 0, 0, w, h, TRUE);
source\domino\system\plat\win16\win16_sys.c:425:        *w = win->width;
source\domino\system\plat\win16\win16_sys.c:428:        *h = win->height;
source\domino\system\plat\win16\win16_sys.c:437:    return (void*)win->hwnd;
source\domino\system\plat\win16\win16_sys.c:522:        return -1;
source\domino\system\plat\win16\win16_sys.c:532:        return -1L;
source\domino\system\plat\win16\win16_sys.c:542:        return -1;
source\domino\system\plat\win16\win16_sys.c:549:#define INVALID_HANDLE_VALUE ((HANDLE)(-1))
source\domino\system\plat\win16\win16_sys.c:589:    if (len + 3u >= sizeof(it->pattern)) {
source\domino\system\plat\win16\win16_sys.c:593:    memcpy(it->pattern, path, len);
source\domino\system\plat\win16\win16_sys.c:594:    if (len == 0u || (path[len - 1u] != '\\' && path[len - 1u] != '/')) {
source\domino\system\plat\win16\win16_sys.c:595:        it->pattern[len] = '\\';
source\domino\system\plat\win16\win16_sys.c:598:    it->pattern[len] = '*';
source\domino\system\plat\win16\win16_sys.c:599:    it->pattern[len + 1u] = '\0';
source\domino\system\plat\win16\win16_sys.c:601:    it->handle = win16_find_first(it->pattern, &it->data);
source\domino\system\plat\win16\win16_sys.c:602:    if (it->handle == INVALID_HANDLE_VALUE) {
source\domino\system\plat\win16\win16_sys.c:606:    it->first_pending = 1;
source\domino\system\plat\win16\win16_sys.c:616:    if (it->first_pending) {
source\domino\system\plat\win16\win16_sys.c:617:        it->first_pending = 0;
source\domino\system\plat\win16\win16_sys.c:619:        if (!win16_find_next(it->handle, &it->data)) {
source\domino\system\plat\win16\win16_sys.c:624:    win16_copy_string(it->data.cFileName, out->name, sizeof(out->name));
source\domino\system\plat\win16\win16_sys.c:625:    out->is_dir = (it->data.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) ? true : false;
source\domino\system\plat\win16\win16_sys.c:634:    if (it->handle && it->handle != INVALID_HANDLE_VALUE) {
source\domino\system\plat\win16\win16_sys.c:635:        FindClose(it->handle);
source\domino\system\plat\win16\win16_sys.c:649:    return -1;
source\domino\system\plat\win16\win16_sys.c:676:            g_win16_window->width = ev.payload.window.width;
source\domino\system\plat\win16\win16_sys.c:677:            g_win16_window->height = ev.payload.window.height;
source\domino\state\state.c:10:    sm->states = states;
source\domino\state\state.c:11:    sm->count = count;
source\domino\state\state.c:12:    sm->userdata = userdata;
source\domino\state\state.c:13:    sm->current = count; /* invalid sentinel until set */
source\domino\state\state.c:18:    if (!sm || !sm->states) {
source\domino\state\state.c:21:    if (sm->current >= sm->count) {
source\domino\state\state.c:24:    st = &sm->states[sm->current];
source\domino\state\state.c:25:    if (st->on_update) {
source\domino\state\state.c:26:        st->on_update(sm->userdata);
source\domino\state\state.c:32:    if (!sm || !sm->states) {
source\domino\state\state.c:35:    if (index >= sm->count) {
source\domino\state\state.c:38:    if (sm->current == index) {
source\domino\state\state.c:41:    if (sm->current < sm->count) {
source\domino\state\state.c:42:        st = &sm->states[sm->current];
source\domino\state\state.c:43:        if (st->on_exit) {
source\domino\state\state.c:44:            st->on_exit(sm->userdata);
source\domino\state\state.c:47:    sm->current = index;
source\domino\state\state.c:48:    st = &sm->states[sm->current];
source\domino\state\state.c:49:    if (st->on_enter) {
source\domino\state\state.c:50:        st->on_enter(sm->userdata);
source\domino\system\plat\dos16\dos16_sys.h:12:/* Framebuffer descriptor for real-mode DOS */
source\domino\system\plat\dos16\dos16_sys.c:20:/*----------------------------------------------------------------------
source\domino\system\plat\dos16\dos16_sys.c:22: *----------------------------------------------------------------------*/
source\domino\system\plat\dos16\dos16_sys.c:146:        ev.payload.mouse_move.dx = x - g_dos16.mouse_x;
source\domino\system\plat\dos16\dos16_sys.c:147:        ev.payload.mouse_move.dy = y - g_dos16.mouse_y;
source\domino\system\plat\dos16\dos16_sys.c:174:/*----------------------------------------------------------------------
source\domino\system\plat\dos16\dos16_sys.c:176: *----------------------------------------------------------------------*/
source\domino\system\plat\dos16\dos16_sys.c:301:    win->fb.base = MK_FP(0xA000, 0x0000);
source\domino\system\plat\dos16\dos16_sys.c:303:    win->fb.base = (void _far*)0;
source\domino\system\plat\dos16\dos16_sys.c:305:    win->fb.width = 320;
source\domino\system\plat\dos16\dos16_sys.c:306:    win->fb.height = 200;
source\domino\system\plat\dos16\dos16_sys.c:307:    win->fb.pitch = 320;
source\domino\system\plat\dos16\dos16_sys.c:308:    win->fb.bpp = 8;
source\domino\system\plat\dos16\dos16_sys.c:309:    win->fb.is_vesa = 0;
source\domino\system\plat\dos16\dos16_sys.c:310:    win->fb.vesa_mode = 0x13;
source\domino\system\plat\dos16\dos16_sys.c:311:    win->mode = DWIN_MODE_FULLSCREEN;
source\domino\system\plat\dos16\dos16_sys.c:348:        *w = (int32_t)win->fb.width;
source\domino\system\plat\dos16\dos16_sys.c:351:        *h = (int32_t)win->fb.height;
source\domino\system\plat\dos16\dos16_sys.c:360:    return (void*)&win->fb;
source\domino\system\plat\dos16\dos16_sys.c:397:    buf[buf_size - 1u] = '\0';
source\domino\system\plat\dos16\dos16_sys.c:430:        return -1;
source\domino\system\plat\dos16\dos16_sys.c:440:        return -1L;
source\domino\system\plat\dos16\dos16_sys.c:450:        return -1;
source\domino\system\plat\dos16\dos16_sys.c:469:    it->dir = opendir(path);
source\domino\system\plat\dos16\dos16_sys.c:470:    if (!it->dir) {
source\domino\system\plat\dos16\dos16_sys.c:481:    if (!it || !out || !it->dir) {
source\domino\system\plat\dos16\dos16_sys.c:486:        ent = readdir(it->dir);
source\domino\system\plat\dos16\dos16_sys.c:490:        if (ent->d_name[0] == '.' &&
source\domino\system\plat\dos16\dos16_sys.c:491:            (ent->d_name[1] == '\0' ||
source\domino\system\plat\dos16\dos16_sys.c:492:             (ent->d_name[1] == '.' && ent->d_name[2] == '\0'))) {
source\domino\system\plat\dos16\dos16_sys.c:495:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\dos16\dos16_sys.c:496:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\dos16\dos16_sys.c:497:        out->is_dir = false;
source\domino\system\plat\dos16\dos16_sys.c:507:    if (it->dir) {
source\domino\system\plat\dos16\dos16_sys.c:508:        closedir(it->dir);
source\domino\system\plat\dos16\dos16_sys.c:522:    return -1;
source\domino\render\soft\targets\null\dom_render_null.c:16:    out_caps->supports_textures = 0;
source\domino\render\soft\targets\null\dom_render_null.c:17:    out_caps->supports_blending = 0;
source\domino\render\soft\targets\null\dom_render_null.c:18:    out_caps->supports_linear_filter = 0;
source\domino\render\soft\targets\null\dom_render_null.c:19:    out_caps->supports_aniso = 0;
source\domino\render\soft\targets\null\dom_render_null.c:20:    r->config = *cfg;
source\domino\render\soft\targets\null\dom_render_null.c:21:    r->mode = cfg->mode;
source\domino\render\soft\targets\null\dom_render_null.c:22:    r->width = cfg->width;
source\domino\render\soft\targets\null\dom_render_null.c:23:    r->height = cfg->height;
source\domino\render\soft\targets\null\dom_render_null.c:25:    r->backend_state = malloc(sizeof(DomRenderNullState));
source\domino\render\soft\targets\null\dom_render_null.c:26:    if (!r->backend_state) {
source\domino\render\soft\targets\null\dom_render_null.c:29:    memset(r->backend_state, 0, sizeof(DomRenderNullState));
source\domino\render\soft\targets\null\dom_render_null.c:35:    if (r && r->backend_state) {
source\domino\render\soft\targets\null\dom_render_null.c:36:        free(r->backend_state);
source\domino\render\soft\targets\null\dom_render_null.c:37:        r->backend_state = 0;
source\domino\render\soft\targets\null\dom_render_null.c:77: * A future revision can map this to GL1/GL2 immediate-mode vector drawing.
source\domino\system\core\sys_stub.c:12:    ctx->paths.program_root = ".";
source\domino\system\core\sys_stub.c:13:    ctx->paths.data_root    = "data";
source\domino\system\core\sys_stub.c:14:    ctx->paths.state_root   = "state";
source\domino\system\core\sys_stub.c:15:    ctx->vtable.shutdown    = NULL;
source\domino\system\core\sys_stub.c:16:    ctx->vtable.log         = NULL;
source\domino\system\core\sys_stub.c:17:    ctx->user               = NULL;
source\domino\system\core\sys_stub.c:24:        if (ctx->vtable.shutdown) {
source\domino\system\core\sys_stub.c:25:            ctx->vtable.shutdown(ctx);
source\domino\system\core\sys_stub.c:34:        ctx->paths = paths;
source\domino\system\core\sys_stub.c:56:    if (now == (clock_t)-1) return 0;
source\domino\system\plat\wayland\wayland_sys.c:14:#include <wayland-client.h>
source\domino\system\plat\wayland\wayland_sys.c:15:#include <wayland-client-protocol.h>
source\domino\system\plat\wayland\wayland_sys.c:16:#include <xdg-shell-client-protocol.h>
source\domino\system\plat\wayland\wayland_sys.c:104:        len = buf_size - 1u;
source\domino\system\plat\wayland\wayland_sys.c:127:        if (i > 0u && dst[i - 1u] != '/' && i + 1u < cap) {
source\domino\system\plat\wayland\wayland_sys.c:153:    while (len > 0u && (path[len - 1u] == '/' || path[len - 1u] == '\\')) {
source\domino\system\plat\wayland\wayland_sys.c:154:        len -= 1u;
source\domino\system\plat\wayland\wayland_sys.c:158:        c = path[len - 1u];
source\domino\system\plat\wayland\wayland_sys.c:162:        len -= 1u;
source\domino\system\plat\wayland\wayland_sys.c:173:        len = cap - 1u;
source\domino\system\plat\wayland\wayland_sys.c:189:    n = readlink("/proc/self/exe", tmp, sizeof(tmp) - 1u);
source\domino\system\plat\wayland\wayland_sys.c:348:    if (g_wayland.main_window && g_wayland.main_window->surface == surface) {
source\domino\system\plat\wayland\wayland_sys.c:349:        g_wayland.main_window->last_x = wl_fixed_to_int(sx);
source\domino\system\plat\wayland\wayland_sys.c:350:        g_wayland.main_window->last_y = wl_fixed_to_int(sy);
source\domino\system\plat\wayland\wayland_sys.c:390:        ev.payload.mouse_move.dx = x - win->last_x;
source\domino\system\plat\wayland\wayland_sys.c:391:        ev.payload.mouse_move.dy = y - win->last_y;
source\domino\system\plat\wayland\wayland_sys.c:392:        win->last_x = x;
source\domino\system\plat\wayland\wayland_sys.c:393:        win->last_y = y;
source\domino\system\plat\wayland\wayland_sys.c:539:        win->width = width;
source\domino\system\plat\wayland\wayland_sys.c:542:        win->height = height;
source\domino\system\plat\wayland\wayland_sys.c:547:    ev.payload.window.width = win->width;
source\domino\system\plat\wayland\wayland_sys.c:548:    ev.payload.window.height = win->height;
source\domino\system\plat\wayland\wayland_sys.c:593:        win->width = width;
source\domino\system\plat\wayland\wayland_sys.c:596:        win->height = height;
source\domino\system\plat\wayland\wayland_sys.c:601:    ev.payload.window.width = win->width;
source\domino\system\plat\wayland\wayland_sys.c:602:    ev.payload.window.height = win->height;
source\domino\system\plat\wayland\wayland_sys.c:808:    while (nanosleep(&ts, &ts) == -1 && errno == EINTR) {
source\domino\system\plat\wayland\wayland_sys.c:848:    win->surface = surface;
source\domino\system\plat\wayland\wayland_sys.c:849:    win->width = local_desc.width > 0 ? local_desc.width : 800;
source\domino\system\plat\wayland\wayland_sys.c:850:    win->height = local_desc.height > 0 ? local_desc.height : 600;
source\domino\system\plat\wayland\wayland_sys.c:851:    win->last_x = 0;
source\domino\system\plat\wayland\wayland_sys.c:852:    win->last_y = 0;
source\domino\system\plat\wayland\wayland_sys.c:853:    win->mode = local_desc.mode;
source\domino\system\plat\wayland\wayland_sys.c:874:        win->xdg_toplevel = top;
source\domino\system\plat\wayland\wayland_sys.c:875:        win->xdg_surface = xsurf;
source\domino\system\plat\wayland\wayland_sys.c:886:        win->shell_surface = shell_surface;
source\domino\system\plat\wayland\wayland_sys.c:887:        win->xdg_surface = NULL;
source\domino\system\plat\wayland\wayland_sys.c:888:        win->xdg_toplevel = NULL;
source\domino\system\plat\wayland\wayland_sys.c:905:        if (win->xdg_toplevel) {
source\domino\system\plat\wayland\wayland_sys.c:906:            xdg_toplevel_destroy(win->xdg_toplevel);
source\domino\system\plat\wayland\wayland_sys.c:908:        if (win->xdg_surface) {
source\domino\system\plat\wayland\wayland_sys.c:909:            xdg_surface_destroy(win->xdg_surface);
source\domino\system\plat\wayland\wayland_sys.c:912:        if (win->shell_surface) {
source\domino\system\plat\wayland\wayland_sys.c:913:            wl_shell_surface_destroy(win->shell_surface);
source\domino\system\plat\wayland\wayland_sys.c:917:    if (win->surface) {
source\domino\system\plat\wayland\wayland_sys.c:918:        wl_surface_destroy(win->surface);
source\domino\system\plat\wayland\wayland_sys.c:934:    if (g_wayland.use_xdg_shell && win->xdg_toplevel) {
source\domino\system\plat\wayland\wayland_sys.c:936:            xdg_toplevel_set_fullscreen(win->xdg_toplevel, NULL);
source\domino\system\plat\wayland\wayland_sys.c:938:            xdg_toplevel_unset_fullscreen(win->xdg_toplevel);
source\domino\system\plat\wayland\wayland_sys.c:941:    win->mode = mode;
source\domino\system\plat\wayland\wayland_sys.c:949:    win->width = w;
source\domino\system\plat\wayland\wayland_sys.c:950:    win->height = h;
source\domino\system\plat\wayland\wayland_sys.c:959:        *w = win->width;
source\domino\system\plat\wayland\wayland_sys.c:962:        *h = win->height;
source\domino\system\plat\wayland\wayland_sys.c:971:    return (void*)win->surface;
source\domino\system\plat\wayland\wayland_sys.c:1117:        return -1;
source\domino\system\plat\wayland\wayland_sys.c:1127:        return -1L;
source\domino\system\plat\wayland\wayland_sys.c:1137:        return -1;
source\domino\system\plat\wayland\wayland_sys.c:1163:    it->dir = dir;
source\domino\system\plat\wayland\wayland_sys.c:1167:        if (len >= sizeof(it->base)) {
source\domino\system\plat\wayland\wayland_sys.c:1168:            len = sizeof(it->base) - 1u;
source\domino\system\plat\wayland\wayland_sys.c:1170:        memcpy(it->base, path, len);
source\domino\system\plat\wayland\wayland_sys.c:1171:        it->base[len] = '\0';
source\domino\system\plat\wayland\wayland_sys.c:1185:        ent = readdir(it->dir);
source\domino\system\plat\wayland\wayland_sys.c:1189:        if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0) {
source\domino\system\plat\wayland\wayland_sys.c:1195:    strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\wayland\wayland_sys.c:1196:    out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\wayland\wayland_sys.c:1197:    out->is_dir = false;
source\domino\system\plat\wayland\wayland_sys.c:1199:    if (ent->d_type == DT_DIR) {
source\domino\system\plat\wayland\wayland_sys.c:1200:        out->is_dir = true;
source\domino\system\plat\wayland\wayland_sys.c:1201:    } else if (ent->d_type == DT_UNKNOWN) {
source\domino\system\plat\wayland\wayland_sys.c:1206:        path_len = strlen(it->base);
source\domino\system\plat\wayland\wayland_sys.c:1207:        name_len = strlen(out->name);
source\domino\system\plat\wayland\wayland_sys.c:1209:            memcpy(full, it->base, path_len);
source\domino\system\plat\wayland\wayland_sys.c:1210:            if (path_len > 0u && full[path_len - 1u] != '/') {
source\domino\system\plat\wayland\wayland_sys.c:1214:            memcpy(full + path_len, out->name, name_len);
source\domino\system\plat\wayland\wayland_sys.c:1217:                out->is_dir = true;
source\domino\system\plat\wayland\wayland_sys.c:1227:        path_len = strlen(it->base);
source\domino\system\plat\wayland\wayland_sys.c:1228:        name_len = strlen(out->name);
source\domino\system\plat\wayland\wayland_sys.c:1230:            memcpy(full, it->base, path_len);
source\domino\system\plat\wayland\wayland_sys.c:1231:            if (path_len > 0u && full[path_len - 1u] != '/') {
source\domino\system\plat\wayland\wayland_sys.c:1235:            memcpy(full + path_len, out->name, name_len);
source\domino\system\plat\wayland\wayland_sys.c:1238:                out->is_dir = true;
source\domino\system\plat\wayland\wayland_sys.c:1252:    if (it->dir) {
source\domino\system\plat\wayland\wayland_sys.c:1253:        closedir(it->dir);
source\domino\system\plat\wayland\wayland_sys.c:1263:    if (!desc || !desc->exe) {
source\domino\system\plat\wayland\wayland_sys.c:1271:        if (desc->argv) {
source\domino\system\plat\wayland\wayland_sys.c:1272:            execvp(desc->exe, (char* const*)desc->argv);
source\domino\system\plat\wayland\wayland_sys.c:1275:            argv_local[0] = (char*)desc->exe;
source\domino\system\plat\wayland\wayland_sys.c:1277:            execvp(desc->exe, argv_local);
source\domino\system\plat\wayland\wayland_sys.c:1287:    proc->pid = pid;
source\domino\system\plat\wayland\wayland_sys.c:1297:        return -1;
source\domino\system\plat\wayland\wayland_sys.c:1300:    res = waitpid(p->pid, &status, 0);
source\domino\system\plat\wayland\wayland_sys.c:1302:        return -1;
source\domino\system\plat\wayland\wayland_sys.c:1307:    return -1;
source\domino\system\core\domino_sys_core.c:29:        char c = dst[i - 1];
source\domino\system\core\domino_sys_core.c:40:/*------------------------------------------------------------
source\domino\system\core\domino_sys_core.c:42: *------------------------------------------------------------*/
source\domino\system\core\domino_sys_core.c:67:    out_info->os = DOMINO_OS_WINDOWS;
source\domino\system\core\domino_sys_core.c:69:    out_info->os = DOMINO_OS_MAC;
source\domino\system\core\domino_sys_core.c:71:    out_info->os = DOMINO_OS_UNIX;
source\domino\system\core\domino_sys_core.c:73:    out_info->os = DOMINO_OS_ANDROID;
source\domino\system\core\domino_sys_core.c:75:    out_info->os = DOMINO_OS_DOS;
source\domino\system\core\domino_sys_core.c:77:    out_info->os = DOMINO_OS_UNKNOWN;
source\domino\system\core\domino_sys_core.c:81:    out_info->cpu = DOMINO_CPU_X86_32;
source\domino\system\core\domino_sys_core.c:83:    out_info->cpu = DOMINO_CPU_X86_64;
source\domino\system\core\domino_sys_core.c:85:    out_info->cpu = DOMINO_CPU_ARM_32;
source\domino\system\core\domino_sys_core.c:87:    out_info->cpu = DOMINO_CPU_ARM_64;
source\domino\system\core\domino_sys_core.c:89:    out_info->cpu = DOMINO_CPU_M68K;
source\domino\system\core\domino_sys_core.c:91:    out_info->cpu = DOMINO_CPU_PPC;
source\domino\system\core\domino_sys_core.c:93:    out_info->cpu = DOMINO_CPU_OTHER;
source\domino\system\core\domino_sys_core.c:97:    out_info->profile = DOMINO_SYS_PROFILE_FULL;
source\domino\system\core\domino_sys_core.c:98:    out_info->has_threads = 1;
source\domino\system\core\domino_sys_core.c:99:    out_info->has_fork = 0;
source\domino\system\core\domino_sys_core.c:100:    out_info->has_unicode = 1;
source\domino\system\core\domino_sys_core.c:101:    out_info->is_legacy = 0;
source\domino\system\core\domino_sys_core.c:109:    if (!ctx->paths.install_root[0]) {
source\domino\system\core\domino_sys_core.c:111:            strncpy(ctx->paths.install_root, cwd, sizeof(ctx->paths.install_root) - 1);
source\domino\system\core\domino_sys_core.c:112:            ctx->paths.install_root[sizeof(ctx->paths.install_root) - 1] = '\0';
source\domino\system\core\domino_sys_core.c:114:            strncpy(ctx->paths.install_root, ".", sizeof(ctx->paths.install_root) - 1);
source\domino\system\core\domino_sys_core.c:115:            ctx->paths.install_root[sizeof(ctx->paths.install_root) - 1] = '\0';
source\domino\system\core\domino_sys_core.c:119:    if (!ctx->paths.program_root[0]) {
source\domino\system\core\domino_sys_core.c:120:        domino_sys_join_path(ctx->paths.program_root, sizeof(ctx->paths.program_root), ctx->paths.install_root, "program");
source\domino\system\core\domino_sys_core.c:122:    if (!ctx->paths.data_root[0]) {
source\domino\system\core\domino_sys_core.c:123:        domino_sys_join_path(ctx->paths.data_root, sizeof(ctx->paths.data_root), ctx->paths.install_root, "data");
source\domino\system\core\domino_sys_core.c:125:    if (!ctx->paths.user_root[0]) {
source\domino\system\core\domino_sys_core.c:126:        domino_sys_join_path(ctx->paths.user_root, sizeof(ctx->paths.user_root), ctx->paths.install_root, "user");
source\domino\system\core\domino_sys_core.c:128:    if (!ctx->paths.state_root[0]) {
source\domino\system\core\domino_sys_core.c:129:        domino_sys_join_path(ctx->paths.state_root, sizeof(ctx->paths.state_root), ctx->paths.install_root, "state");
source\domino\system\core\domino_sys_core.c:131:    if (!ctx->paths.temp_root[0]) {
source\domino\system\core\domino_sys_core.c:132:        domino_sys_join_path(ctx->paths.temp_root, sizeof(ctx->paths.temp_root), ctx->paths.install_root, "temp");
source\domino\system\core\domino_sys_core.c:138:    if (!ctx) return -1;
source\domino\system\core\domino_sys_core.c:141:        ctx->backend_kind = 1;
source\domino\system\core\domino_sys_core.c:147:        ctx->backend_kind = 2;
source\domino\system\core\domino_sys_core.c:152:        ctx->backend_kind = 0;
source\domino\system\core\domino_sys_core.c:155:    return -1;
source\domino\system\core\domino_sys_core.c:158:/*------------------------------------------------------------
source\domino\system\core\domino_sys_core.c:160: *------------------------------------------------------------*/
source\domino\system\core\domino_sys_core.c:167:        return -1;
source\domino\system\core\domino_sys_core.c:173:        return -1;
source\domino\system\core\domino_sys_core.c:177:    domino_sys_detect_platform(&ctx->platform);
source\domino\system\core\domino_sys_core.c:187:        ctx->platform.profile = local_desc.profile_hint;
source\domino\system\core\domino_sys_core.c:192:        return -1;
source\domino\system\core\domino_sys_core.c:195:    if (!ctx->ops.log_fn) {
source\domino\system\core\domino_sys_core.c:196:        ctx->ops.log_fn = domino_sys_default_log;
source\domino\system\core\domino_sys_core.c:208:    switch (ctx->backend_kind) {
source\domino\system\core\domino_sys_core.c:221:    *out_info = ctx->platform;
source\domino\system\core\domino_sys_core.c:226:    if (!ctx || !out_paths) return -1;
source\domino\system\core\domino_sys_core.c:227:    *out_paths = ctx->paths;
source\domino\system\core\domino_sys_core.c:235:    if (!ctx || !ctx->ops.fopen_fn) return NULL;
source\domino\system\core\domino_sys_core.c:236:    return ctx->ops.fopen_fn(ctx, path, mode);
source\domino\system\core\domino_sys_core.c:243:    if (!ctx || !ctx->ops.fread_fn) return 0;
source\domino\system\core\domino_sys_core.c:244:    return ctx->ops.fread_fn(ctx, buf, size, nmemb, f);
source\domino\system\core\domino_sys_core.c:251:    if (!ctx || !ctx->ops.fwrite_fn) return 0;
source\domino\system\core\domino_sys_core.c:252:    return ctx->ops.fwrite_fn(ctx, buf, size, nmemb, f);
source\domino\system\core\domino_sys_core.c:258:    if (!ctx || !ctx->ops.fclose_fn) return -1;
source\domino\system\core\domino_sys_core.c:259:    return ctx->ops.fclose_fn(ctx, f);
source\domino\system\core\domino_sys_core.c:265:    if (!ctx || !ctx->ops.file_exists_fn) return 0;
source\domino\system\core\domino_sys_core.c:266:    return ctx->ops.file_exists_fn(ctx, path);
source\domino\system\core\domino_sys_core.c:272:    if (!ctx || !ctx->ops.mkdirs_fn) return -1;
source\domino\system\core\domino_sys_core.c:273:    return ctx->ops.mkdirs_fn(ctx, path);
source\domino\system\core\domino_sys_core.c:279:    if (!ctx || !ctx->ops.dir_open_fn) return NULL;
source\domino\system\core\domino_sys_core.c:280:    return ctx->ops.dir_open_fn(ctx, path);
source\domino\system\core\domino_sys_core.c:288:    if (!ctx || !ctx->ops.dir_next_fn) return 0;
source\domino\system\core\domino_sys_core.c:289:    return ctx->ops.dir_next_fn(ctx, it, name_out, cap, is_dir_out);
source\domino\system\core\domino_sys_core.c:295:    if (!ctx || !ctx->ops.dir_close_fn) return;
source\domino\system\core\domino_sys_core.c:296:    ctx->ops.dir_close_fn(ctx, it);
source\domino\system\core\domino_sys_core.c:301:    if (!ctx || !ctx->ops.time_seconds_fn) return 0.0;
source\domino\system\core\domino_sys_core.c:302:    return ctx->ops.time_seconds_fn(ctx);
source\domino\system\core\domino_sys_core.c:307:    if (!ctx || !ctx->ops.time_millis_fn) return 0;
source\domino\system\core\domino_sys_core.c:308:    return ctx->ops.time_millis_fn(ctx);
source\domino\system\core\domino_sys_core.c:314:    if (!ctx || !ctx->ops.sleep_millis_fn) return;
source\domino\system\core\domino_sys_core.c:315:    ctx->ops.sleep_millis_fn(ctx, ms);
source\domino\system\core\domino_sys_core.c:322:    if (!ctx || !ctx->ops.process_spawn_fn) return -1;
source\domino\system\core\domino_sys_core.c:323:    return ctx->ops.process_spawn_fn(ctx, desc, out_proc);
source\domino\system\core\domino_sys_core.c:330:    if (!ctx || !ctx->ops.process_wait_fn) return -1;
source\domino\system\core\domino_sys_core.c:331:    return ctx->ops.process_wait_fn(ctx, proc, exit_code_out);
source\domino\system\core\domino_sys_core.c:337:    if (!ctx || !ctx->ops.process_destroy_fn) return;
source\domino\system\core\domino_sys_core.c:338:    ctx->ops.process_destroy_fn(ctx, proc);
source\domino\system\core\domino_sys_core.c:346:    if (!ctx || !ctx->ops.log_fn) {
source\domino\system\core\domino_sys_core.c:350:    ctx->ops.log_fn(ctx, level, subsystem, message);
source\domino\system\core\CMakeLists.txt:3:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:4:# Core low-level (deterministic + fixed-point)
source\domino\system\core\CMakeLists.txt:5:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:30:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:32:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:49:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:51:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:88:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:89:# New-style simulation experiments (kept building to avoid bit-rot)
source\domino\system\core\CMakeLists.txt:90:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:118:# ----------------------------------------------------------------------
source\domino\system\core\CMakeLists.txt:120:# ----------------------------------------------------------------------
source\domino\res\d_res_model_strata.c:21:        return -1;
source\domino\res\d_res_model_strata.c:23:    if (*offset >= blob->len) {
source\domino\res\d_res_model_strata.c:26:    remaining = blob->len - *offset;
source\domino\res\d_res_model_strata.c:28:        return -1;
source\domino\res\d_res_model_strata.c:30:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\res\d_res_model_strata.c:31:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\res\d_res_model_strata.c:33:    if (len > blob->len - *offset) {
source\domino\res\d_res_model_strata.c:34:        return -1;
source\domino\res\d_res_model_strata.c:36:    payload->ptr = blob->ptr + *offset;
source\domino\res\d_res_model_strata.c:37:    payload->len = len;
source\domino\res\d_res_model_strata.c:44:    if (!payload || payload->len != 4u || payload->ptr == (unsigned char *)0) {
source\domino\res\d_res_model_strata.c:47:    memcpy(&out, payload->ptr, sizeof(q16_16));
source\domino\res\d_res_model_strata.c:66:    if (!blob || !blob->ptr || blob->len == 0u) {
source\domino\res\d_res_model_strata.c:113:    /* Map hash to [-1, 1] in q16_16. */
source\domino\res\d_res_model_strata.c:115:    v = (v & 0x7FFF) - 0x4000; /* range approx [-16384, 16383] */
source\domino\res\d_res_model_strata.c:116:    return (q16_16)((i64)v << (Q16_16_FRAC_BITS - 14));
source\domino\res\d_res_model_strata.c:131:    u32 hash = strata_hash_coords(w ? w->worldgen_seed : 0u,
source\domino\res\d_res_model_strata.c:132:                                  chunk ? chunk->cx : 0,
source\domino\res\d_res_model_strata.c:133:                                  chunk ? chunk->cy : 0,
source\domino\res\d_res_model_strata.c:134:                                  cell ? cell->proto_id : 0u,
source\domino\res\d_res_model_strata.c:139:    mult_noise = d_q16_16_mul(params->noise_scale, noise_val);
source\domino\res\d_res_model_strata.c:141:    base = d_q16_16_mul(params->mean_quantity, params->mean_grade);
source\domino\res\d_res_model_strata.c:159:    cell->initialized = 0u;
source\domino\res\d_res_model_strata.c:175:    strata_parse_params(&cell->model_params, &params);
source\domino\res\d_res_model_strata.c:176:    if (!cell->initialized) {
source\domino\res\d_res_model_strata.c:177:        cell->values[0] = strata_compute_quantity(w, (d_chunk *)chunk, cell, &params, x, y, z);
source\domino\res\d_res_model_strata.c:178:        cell->initialized = 1u;
source\domino\res\d_res_model_strata.c:180:    if (cell->values[0] < 0) {
source\domino\res\d_res_model_strata.c:181:        cell->values[0] = 0;
source\domino\res\d_res_model_strata.c:200:        q16_16 v = d_q16_16_add(cell->values[i], delta_values[i]);
source\domino\res\d_res_model_strata.c:204:        cell->values[i] = v;
source\domino\res\d_res_model_strata.c:221:    strata_parse_params(&cell->model_params, &params);
source\domino\res\d_res_model_strata.c:226:        cell->values[0] = d_q16_16_add(cell->values[0], add);
source\domino\res\d_res_model_strata.c:227:        if (cell->values[0] < 0) {
source\domino\res\d_res_model_strata.c:228:            cell->values[0] = 0;
source\domino\system\core\domino_ui_stub.c:23:    if (!out_app) return -1;
source\domino\system\core\domino_ui_stub.c:25:    if (!app) return -1;
source\domino\system\core\domino_ui_stub.c:26:    app->sys = sys;
source\domino\system\core\domino_ui_stub.c:28:    return -1; /* unsupported for now */
source\domino\system\core\domino_ui_stub.c:34:    return -1;
source\domino\system\core\domino_ui_stub.c:56:    win->placeholder = 0;
source\domino\system\core\domino_ui_stub.c:77:    w->placeholder = 0;
source\domino\struct\d_struct_validate.c:18:        return -1;
source\domino\struct\d_struct_validate.c:35:        return -1;
source\domino\struct\d_struct_validate.c:57:        return -1;
source\domino\struct\d_struct_validate.c:72:        return -1;
source\domino\struct\d_struct_validate.c:75:        return -1;
source\domino\struct\d_struct_validate.c:78:        return -1;
source\domino\struct\d_struct_validate.c:81:        return -1;
source\domino\struct\d_struct_validate.c:84:        return -1;
source\domino\struct\d_struct_validate.c:97:        return -1;
source\domino\struct\d_struct_validate.c:100:    if (!proto->layout.ptr || proto->layout.len == 0u) {
source\domino\struct\d_struct_validate.c:105:    while ((rc = d_tlv_kv_next(&proto->layout, &offset, &tag, &payload)) == 0) {
source\domino\struct\d_struct_validate.c:108:                return -1;
source\domino\struct\d_struct_validate.c:116:        return -1;
source\domino\struct\d_struct_validate.c:124:    while ((rc = d_tlv_kv_next(&proto->layout, &offset, &tag, &payload)) == 0) {
source\domino\struct\d_struct_validate.c:127:                return -1;
source\domino\struct\d_struct_validate.c:132:        return -1;
source\domino\struct\d_struct_validate.c:147:            fprintf(stderr, "struct validate: invalid volume layout in proto %u\n", (unsigned)p->id);
source\domino\struct\d_struct_validate.c:148:            return -1;
source\domino\system\core\domino_term.c:17:    if (!out_term) return -1;
source\domino\system\core\domino_term.c:20:    if (!term) return -1;
source\domino\system\core\domino_term.c:21:    term->sys = sys;
source\domino\system\core\domino_term.c:22:    term->use_alt = desc ? desc->use_alternate_buffer : 0;
source\domino\system\core\domino_term.c:40:    if (!bytes) return -1;
source\domino\system\core\domino_term.c:43:    return (written == len) ? 0 : -1;
source\domino\system\core\domino_term.c:51:    if (!buf || cap == 0) return -1;
source\domino\system\core\domino_term.c:53:        return -1;
source\domino\system\core\domino_term.c:58:        if (n > 0 && (buf[n - 1] == '\n' || buf[n - 1] == '\r')) {
source\domino\system\core\domino_term.c:59:            buf[n - 1] = '\0';
source\domino\system\core\domino_term.c:60:            if (n > 1 && buf[n - 2] == '\r') {
source\domino\system\core\domino_term.c:61:                buf[n - 2] = '\0';
source\domino\struct\d_struct_processes.c:31:        return -1;
source\domino\struct\d_struct_processes.c:33:    if (*offset >= blob->len) {
source\domino\struct\d_struct_processes.c:36:    remaining = blob->len - *offset;
source\domino\struct\d_struct_processes.c:38:        return -1;
source\domino\struct\d_struct_processes.c:40:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\struct\d_struct_processes.c:41:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\struct\d_struct_processes.c:43:    if (len > blob->len - *offset) {
source\domino\struct\d_struct_processes.c:44:        return -1;
source\domino\struct\d_struct_processes.c:46:    payload->ptr = blob->ptr + *offset;
source\domino\struct\d_struct_processes.c:47:    payload->len = len;
source\domino\struct\d_struct_processes.c:53:    if (!payload || payload->len < sizeof(u32) || !payload->ptr) {
source\domino\struct\d_struct_processes.c:56:    if (payload->len >= sizeof(u32)) {
source\domino\struct\d_struct_processes.c:58:        memcpy(&out, payload->ptr, sizeof(u32));
source\domino\struct\d_struct_processes.c:65:    if (!payload || payload->len < sizeof(i32) || !payload->ptr) {
source\domino\struct\d_struct_processes.c:68:    if (payload->len >= sizeof(i32)) {
source\domino\struct\d_struct_processes.c:70:        memcpy(&out, payload->ptr, sizeof(i32));
source\domino\struct\d_struct_processes.c:77:    if (!payload || payload->len != sizeof(q16_16) || !payload->ptr) {
source\domino\struct\d_struct_processes.c:80:    return *((q16_16 *)payload->ptr);
source\domino\struct\d_struct_processes.c:105:        int rc = next_tlv(&proc->params, &offset, &tag, &payload);
source\domino\struct\d_struct_processes.c:150:        int rc = next_tlv(&proto->io, &offset, &tag, &payload);
source\domino\struct\d_struct_processes.c:198:    return ((q32_32)v) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\struct\d_struct_processes.c:263:        q16_16 pos_x = inst->pos_x;
source\domino\struct\d_struct_processes.c:264:        q16_16 pos_y = inst->pos_y;
source\domino\struct\d_struct_processes.c:265:        if (ports && ports->has_resource_in) {
source\domino\struct\d_struct_processes.c:266:            pos_x = d_q16_16_add(pos_x, d_q16_16_from_int(ports->res_in_x));
source\domino\struct\d_struct_processes.c:267:            pos_y = d_q16_16_add(pos_y, d_q16_16_from_int(ports->res_in_y));
source\domino\struct\d_struct_processes.c:269:        if (dres_sample_at(w, to_q32_32(pos_x), to_q32_32(pos_y), to_q32_32(inst->pos_z), 0u, samples, &sample_count) != 0) {
source\domino\struct\d_struct_processes.c:295:    delta[params.deposit_slot] = (q16_16)(-depletion_total);
source\domino\struct\d_struct_processes.c:301:        d_struct_inventory_add(&inst->inventory, params.output_item_id, output_items);
source\domino\struct\d_struct_processes.c:313:    w = ctx->world;
source\domino\struct\d_struct_processes.c:335:            ids[filled++] = inst_view->id;
source\domino\struct\d_struct_processes.c:349:        while (j > 0u && ids[j - 1u] > key) {
source\domino\struct\d_struct_processes.c:350:            ids[j] = ids[j - 1u];
source\domino\struct\d_struct_processes.c:351:            --j;
source\domino\struct\d_struct_processes.c:372:        proto = d_content_get_structure(inst->proto_id);
source\domino\struct\d_struct_processes.c:379:            int rc = next_tlv(&proto->processes, &offset, &tag, &payload);
source\domino\res\d_res_model.h:52:/* Built-in registration helpers */
source\domino\res\d_res.h:18:    u16 channel_id;      /* stable ID, data-driven from deposit/material protos */
source\domino\res\d_res.h:32:    q16_16            deltas[DRES_VALUE_MAX]; /* base+delta for sample; -inf or sentinel for none */
source\domino\res\d_res.h:51:/* Sample resource channels at world-space coordinates. */
source\domino\res\d_res.h:70:/* Called from worldgen providers to initialize per-chunk resource state. */
source\domino\struct\d_struct_instance.c:9:    inv->item_id = 0u;
source\domino\struct\d_struct_instance.c:10:    inv->count = 0u;
source\domino\struct\d_struct_instance.c:15:        return -1;
source\domino\struct\d_struct_instance.c:17:    if (inv->item_id == 0u) {
source\domino\struct\d_struct_instance.c:18:        inv->item_id = item_id;
source\domino\struct\d_struct_instance.c:19:    } else if (inv->item_id != item_id) {
source\domino\struct\d_struct_instance.c:20:        return -1;
source\domino\struct\d_struct_instance.c:22:    if (count > 0xFFFFFFFFu - inv->count) {
source\domino\struct\d_struct_instance.c:23:        inv->count = 0xFFFFFFFFu;
source\domino\struct\d_struct_instance.c:24:        return -1;
source\domino\struct\d_struct_instance.c:26:    inv->count += count;
source\domino\res\d_res.c:41:    if (cell->model_params.ptr) {
source\domino\res\d_res.c:42:        free(cell->model_params.ptr);
source\domino\res\d_res.c:44:    cell->model_params.ptr = (unsigned char *)0;
source\domino\res\d_res.c:45:    cell->model_params.len = 0u;
source\domino\res\d_res.c:52:        return -1;
source\domino\res\d_res.c:55:        return -1;
source\domino\res\d_res.c:57:    if (capacity <= entry->cell_capacity) {
source\domino\res\d_res.c:60:    new_cells = (dres_channel_cell *)realloc(entry->cells, capacity * sizeof(dres_channel_cell));
source\domino\res\d_res.c:62:        return -1;
source\domino\res\d_res.c:64:    old_cap = entry->cell_capacity;
source\domino\res\d_res.c:65:    entry->cells = new_cells;
source\domino\res\d_res.c:66:    entry->cell_capacity = capacity;
source\domino\res\d_res.c:67:    if (entry->cell_capacity > old_cap) {
source\domino\res\d_res.c:69:        for (i = old_cap; i < entry->cell_capacity; ++i) {
source\domino\res\d_res.c:70:            memset(&entry->cells[i], 0, sizeof(dres_channel_cell));
source\domino\res\d_res.c:80:    if (entry->cell_count >= entry->cell_capacity) {
source\domino\res\d_res.c:81:        if (dres_reserve_cells(entry, entry->cell_count + 1u) != 0) {
source\domino\res\d_res.c:85:    memset(&entry->cells[entry->cell_count], 0, sizeof(dres_channel_cell));
source\domino\res\d_res.c:86:    entry->cell_count += 1u;
source\domino\res\d_res.c:87:    return &entry->cells[entry->cell_count - 1u];
source\domino\res\d_res.c:103:    if (!vt || vt->model_id == 0u) {
source\domino\res\d_res.c:104:        return -1;
source\domino\res\d_res.c:107:        if (g_res_models[i].model_id == vt->model_id) {
source\domino\res\d_res.c:108:            return -2;
source\domino\res\d_res.c:112:        return -3;
source\domino\res\d_res.c:118:    desc.model_id = vt->model_id;
source\domino\res\d_res.c:124:        return -4;
source\domino\res\d_res.c:158:    entry->world = w;
source\domino\res\d_res.c:159:    entry->chunk = chunk;
source\domino\res\d_res.c:167:        return -1;
source\domino\res\d_res.c:171:        return -1;
source\domino\res\d_res.c:173:    if (entry->cell_capacity == 0u) {
source\domino\res\d_res.c:175:            return -1;
source\domino\res\d_res.c:199:        return -1;
source\domino\res\d_res.c:223:    if (!entry || entry->cell_count == 0u || !entry->cells || !out_samples) {
source\domino\res\d_res.c:228:    count = entry->cell_count;
source\domino\res\d_res.c:233:        dres_channel_cell *cell = &entry->cells[i];
source\domino\res\d_res.c:234:        const dres_model_vtable *vt = dres_model_lookup(cell->desc.model_id);
source\domino\res\d_res.c:236:        if (vt && vt->compute_base) {
source\domino\res\d_res.c:237:            vt->compute_base(w, chunk, cell, x, y, z);
source\domino\res\d_res.c:239:        out_samples[i].channel_id = cell->desc.channel_id;
source\domino\res\d_res.c:240:        out_samples[i].model_family = cell->desc.model_family;
source\domino\res\d_res.c:241:        out_samples[i].model_id = cell->desc.model_id;
source\domino\res\d_res.c:247:        out_samples[i].proto_id = cell->proto_id;
source\domino\res\d_res.c:248:        out_samples[i].tags = cell->tags;
source\domino\res\d_res.c:250:            out_samples[i].value[j] = cell->values[j];
source\domino\res\d_res.c:265:        return -1;
source\domino\res\d_res.c:270:        if (entry->world != w || entry->cell_count == 0u || !entry->cells) {
source\domino\res\d_res.c:273:        if (sample->chunk && entry->chunk != sample->chunk) {
source\domino\res\d_res.c:276:        for (c = 0u; c < entry->cell_count; ++c) {
source\domino\res\d_res.c:277:            dres_channel_cell *cell = &entry->cells[c];
source\domino\res\d_res.c:280:            if (cell->desc.channel_id != sample->channel_id) {
source\domino\res\d_res.c:283:            vt = dres_model_lookup(cell->desc.model_id);
source\domino\res\d_res.c:284:            if (vt && vt->apply_delta) {
source\domino\res\d_res.c:285:                vt->apply_delta(w, entry->chunk, cell, delta_values, seed_context);
source\domino\res\d_res.c:289:                cell->values[j] = d_q16_16_add(cell->values[j], delta_values[j]);
source\domino\res\d_res.c:294:    return -1;
source\domino\res\d_res.c:310:        return -1;
source\domino\res\d_res.c:313:    if (!entry || entry->cell_count == 0u || !entry->cells) {
source\domino\res\d_res.c:314:        out->ptr = (unsigned char *)0;
source\domino\res\d_res.c:315:        out->len = 0u;
source\domino\res\d_res.c:320:    for (i = 0u; i < entry->cell_count; ++i) {
source\domino\res\d_res.c:321:        u32 params_len = entry->cells[i].model_params.len;
source\domino\res\d_res.c:330:        if (params_len > 0u && entry->cells[i].model_params.ptr == (unsigned char *)0) {
source\domino\res\d_res.c:331:            return -1;
source\domino\res\d_res.c:333:        if (total > 0xFFFFFFFFu - cell_size) {
source\domino\res\d_res.c:334:            return -1;
source\domino\res\d_res.c:341:        return -1;
source\domino\res\d_res.c:345:    memcpy(dst, &entry->cell_count, sizeof(u32));
source\domino\res\d_res.c:347:    for (i = 0u; i < entry->cell_count; ++i) {
source\domino\res\d_res.c:348:        u32 init_flag = entry->cells[i].initialized ? 1u : 0u;
source\domino\res\d_res.c:349:        u32 params_len = entry->cells[i].model_params.len;
source\domino\res\d_res.c:350:        memcpy(dst, &entry->cells[i].desc, sizeof(dres_channel_desc));
source\domino\res\d_res.c:352:        memcpy(dst, &entry->cells[i].tags, sizeof(d_content_tag));
source\domino\res\d_res.c:354:        memcpy(dst, &entry->cells[i].proto_id, sizeof(d_deposit_proto_id));
source\domino\res\d_res.c:356:        memcpy(dst, &entry->cells[i].material_id, sizeof(d_material_id));
source\domino\res\d_res.c:363:            memcpy(dst, entry->cells[i].model_params.ptr, params_len);
source\domino\res\d_res.c:366:        memcpy(dst, entry->cells[i].values, sizeof(q16_16) * DRES_VALUE_MAX);
source\domino\res\d_res.c:368:        memcpy(dst, entry->cells[i].deltas, sizeof(q16_16) * DRES_VALUE_MAX);
source\domino\res\d_res.c:372:    out->ptr = buf;
source\domino\res\d_res.c:373:    out->len = total;
source\domino\res\d_res.c:390:        return -1;
source\domino\res\d_res.c:392:    if (in->len == 0u) {
source\domino\res\d_res.c:395:    if (!in->ptr) {
source\domino\res\d_res.c:396:        return -1;
source\domino\res\d_res.c:398:    if (in->len < 4u) {
source\domino\res\d_res.c:399:        return -1;
source\domino\res\d_res.c:402:    ptr = in->ptr;
source\domino\res\d_res.c:403:    remaining = in->len;
source\domino\res\d_res.c:407:    remaining -= 4u;
source\domino\res\d_res.c:411:        return -1;
source\domino\res\d_res.c:413:    if (entry->cells) {
source\domino\res\d_res.c:415:        for (c = 0u; c < entry->cell_count; ++c) {
source\domino\res\d_res.c:416:            dres_free_cell(&entry->cells[c]);
source\domino\res\d_res.c:418:        free(entry->cells);
source\domino\res\d_res.c:419:        entry->cells = (dres_channel_cell *)0;
source\domino\res\d_res.c:420:        entry->cell_capacity = 0u;
source\domino\res\d_res.c:421:        entry->cell_count = 0u;
source\domino\res\d_res.c:425:            return -1;
source\domino\res\d_res.c:427:        entry->cell_count = cell_count;
source\domino\res\d_res.c:437:                return -1;
source\domino\res\d_res.c:440:            memcpy(&entry->cells[i].desc, ptr, sizeof(dres_channel_desc));
source\domino\res\d_res.c:442:            memcpy(&entry->cells[i].tags, ptr, sizeof(d_content_tag));
source\domino\res\d_res.c:444:            memcpy(&entry->cells[i].proto_id, ptr, sizeof(d_deposit_proto_id));
source\domino\res\d_res.c:446:            memcpy(&entry->cells[i].material_id, ptr, sizeof(d_material_id));
source\domino\res\d_res.c:452:            remaining -= cell_bytes;
source\domino\res\d_res.c:454:            entry->cells[i].initialized = (u8)(init_flag ? 1u : 0u);
source\domino\res\d_res.c:455:            entry->cells[i].model_params.ptr = (unsigned char *)0;
source\domino\res\d_res.c:456:            entry->cells[i].model_params.len = params_len;
source\domino\res\d_res.c:460:                    return -1;
source\domino\res\d_res.c:462:                entry->cells[i].model_params.ptr = (unsigned char *)malloc(params_len);
source\domino\res\d_res.c:463:                if (!entry->cells[i].model_params.ptr) {
source\domino\res\d_res.c:464:                    return -1;
source\domino\res\d_res.c:466:                memcpy(entry->cells[i].model_params.ptr, ptr, params_len);
source\domino\res\d_res.c:468:                remaining -= params_len;
source\domino\res\d_res.c:472:                return -1;
source\domino\res\d_res.c:474:            memcpy(entry->cells[i].values, ptr, sizeof(q16_16) * DRES_VALUE_MAX);
source\domino\res\d_res.c:476:            memcpy(entry->cells[i].deltas, ptr, sizeof(q16_16) * DRES_VALUE_MAX);
source\domino\res\d_res.c:478:            remaining -= sizeof(q16_16) * DRES_VALUE_MAX * 2u;
source\domino\res\d_res.c:487:        return -1;
source\domino\res\d_res.c:489:    out->ptr = (unsigned char *)0;
source\domino\res\d_res.c:490:    out->len = 0u;
source\domino\res\d_res.c:497:        return -1;
source\domino\res\d_res.c:507:        if (entry->world != w || entry->cell_count == 0u || !entry->cells) {
source\domino\res\d_res.c:510:        for (c = 0u; c < entry->cell_count; ++c) {
source\domino\res\d_res.c:511:            const dres_model_vtable *vt = dres_model_lookup(entry->cells[c].desc.model_id);
source\domino\res\d_res.c:512:            if (vt && vt->tick) {
source\domino\res\d_res.c:513:                vt->tick(w, entry->chunk, &entry->cells[c], ticks);
source\domino\res\d_res.c:566:        if ((dep->tags & D_TAG_DEPOSIT_STRATA_SOLID) == 0u) {
source\domino\res\d_res.c:570:            u32 noise = dres_worldgen_hash(w->worldgen_seed, chunk->cx, chunk->cy, dep->id);
source\domino\res\d_res.c:575:        vt = dres_model_lookup(dep->model_id);
source\domino\res\d_res.c:584:        cell->desc.channel_id = (u16)(dep->id & 0xFFFFu);
source\domino\res\d_res.c:585:        cell->desc.model_family = D_MODEL_FAMILY_RES;
source\domino\res\d_res.c:586:        cell->desc.model_id = dep->model_id;
source\domino\res\d_res.c:587:        cell->desc.flags = 0u;
source\domino\res\d_res.c:588:        cell->tags = dep->tags;
source\domino\res\d_res.c:589:        cell->proto_id = dep->id;
source\domino\res\d_res.c:590:        cell->material_id = dep->material_id;
source\domino\res\d_res.c:591:        cell->initialized = 0u;
source\domino\res\d_res.c:592:        if (dep->model_params.len > 0u) {
source\domino\res\d_res.c:593:            cell->model_params.len = dep->model_params.len;
source\domino\res\d_res.c:594:            cell->model_params.ptr = (unsigned char *)malloc(dep->model_params.len);
source\domino\res\d_res.c:595:            if (cell->model_params.ptr) {
source\domino\res\d_res.c:596:                memcpy(cell->model_params.ptr, dep->model_params.ptr, dep->model_params.len);
source\domino\res\d_res.c:598:                cell->model_params.len = 0u;
source\domino\res\d_res.c:601:        if (vt->init_chunk) {
source\domino\res\d_res.c:602:            vt->init_chunk(w, chunk, cell);
source\domino\struct\d_struct_blueprint.c:12:        return -1;
source\domino\struct\d_struct_blueprint.c:14:    if (*offset >= blob->len) {
source\domino\struct\d_struct_blueprint.c:17:    remaining = blob->len - *offset;
source\domino\struct\d_struct_blueprint.c:19:        return -1;
source\domino\struct\d_struct_blueprint.c:21:    memcpy(tag, blob->ptr + *offset, sizeof(u32));
source\domino\struct\d_struct_blueprint.c:22:    memcpy(&len, blob->ptr + *offset + 4u, sizeof(u32));
source\domino\struct\d_struct_blueprint.c:24:    if (len > blob->len - *offset) {
source\domino\struct\d_struct_blueprint.c:25:        return -1;
source\domino\struct\d_struct_blueprint.c:27:    payload->ptr = blob->ptr + *offset;
source\domino\struct\d_struct_blueprint.c:28:    payload->len = len;
source\domino\struct\d_struct_blueprint.c:46:        return -1;
source\domino\struct\d_struct_blueprint.c:49:        int rc = d_struct_bp_next(&bp->contents, &offset, &tag, &payload);
source\domino\struct\d_struct_blueprint.c:54:            return -1;
source\domino\struct\d_struct_blueprint.c:64:        return -1;
source\domino\system\plat\cpm86\cpm86_sys.c:11:/* Optional CP/M-86 BDOS binding; stubbed on hosted builds. */
source\domino\system\plat\cpm86\cpm86_sys.c:28:/*----------------------------------------------------------------------
source\domino\system\plat\cpm86\cpm86_sys.c:30: *----------------------------------------------------------------------*/
source\domino\system\plat\cpm86\cpm86_sys.c:71:    return -1;
source\domino\system\plat\cpm86\cpm86_sys.c:74:/*----------------------------------------------------------------------
source\domino\system\plat\cpm86\cpm86_sys.c:76: *----------------------------------------------------------------------*/
source\domino\system\plat\cpm86\cpm86_sys.c:151:        if (g_cpm86.main_window->fb.pixels) {
source\domino\system\plat\cpm86\cpm86_sys.c:152:            free(g_cpm86.main_window->fb.pixels);
source\domino\system\plat\cpm86\cpm86_sys.c:196:    win->fb.width = w;
source\domino\system\plat\cpm86\cpm86_sys.c:197:    win->fb.height = h;
source\domino\system\plat\cpm86\cpm86_sys.c:198:    win->fb.pitch = w;
source\domino\system\plat\cpm86\cpm86_sys.c:199:    win->fb.bpp = 8;
source\domino\system\plat\cpm86\cpm86_sys.c:200:    win->fb.pixels = (uint8_t*)malloc(size);
source\domino\system\plat\cpm86\cpm86_sys.c:201:    if (win->fb.pixels) {
source\domino\system\plat\cpm86\cpm86_sys.c:202:        memset(win->fb.pixels, 0, size);
source\domino\system\plat\cpm86\cpm86_sys.c:204:    win->mode = DWIN_MODE_FULLSCREEN;
source\domino\system\plat\cpm86\cpm86_sys.c:215:    if (win->fb.pixels) {
source\domino\system\plat\cpm86\cpm86_sys.c:216:        free(win->fb.pixels);
source\domino\system\plat\cpm86\cpm86_sys.c:243:        *w = (int32_t)win->fb.width;
source\domino\system\plat\cpm86\cpm86_sys.c:246:        *h = (int32_t)win->fb.height;
source\domino\system\plat\cpm86\cpm86_sys.c:255:    return (void*)&win->fb;
source\domino\system\plat\cpm86\cpm86_sys.c:296:    buf[buf_size - 1u] = '\0';
source\domino\system\plat\cpm86\cpm86_sys.c:329:        return -1;
source\domino\system\plat\cpm86\cpm86_sys.c:339:        return -1L;
source\domino\system\plat\cpm86\cpm86_sys.c:349:        return -1;
source\domino\system\plat\cpm86\cpm86_sys.c:384:    return -1;
source\domino\sim\d_sim_hash.c:35:    if (!ca) return -1;
source\domino\sim\d_sim_hash.c:37:    if (ca->cx < cb->cx) return -1;
source\domino\sim\d_sim_hash.c:38:    if (ca->cx > cb->cx) return 1;
source\domino\sim\d_sim_hash.c:39:    if (ca->cy < cb->cy) return -1;
source\domino\sim\d_sim_hash.c:40:    if (ca->cy > cb->cy) return 1;
source\domino\sim\d_sim_hash.c:49:    h = d_sim_hash_u32(h, (u32)chunk->chunk_id);
source\domino\sim\d_sim_hash.c:50:    h = d_sim_hash_u32(h, (u32)chunk->cx);
source\domino\sim\d_sim_hash.c:51:    h = d_sim_hash_u32(h, (u32)chunk->cy);
source\domino\sim\d_sim_hash.c:52:    h = d_sim_hash_u32(h, (u32)chunk->flags);
source\domino\sim\d_sim_hash.c:90:    h = d_sim_hash_u64(h, w->meta.seed);
source\domino\sim\d_sim_hash.c:91:    h = d_sim_hash_u32(h, w->meta.world_size_m);
source\domino\sim\d_sim_hash.c:92:    h = d_sim_hash_u32(h, (u32)w->meta.vertical_min);
source\domino\sim\d_sim_hash.c:93:    h = d_sim_hash_u32(h, (u32)w->meta.vertical_max);
source\domino\sim\d_sim_hash.c:94:    h = d_sim_hash_u32(h, w->meta.core_version);
source\domino\sim\d_sim_hash.c:95:    h = d_sim_hash_u32(h, w->meta.suite_version);
source\domino\sim\d_sim_hash.c:96:    h = d_sim_hash_u32(h, w->meta.compat_profile_id);
source\domino\sim\d_sim_hash.c:97:    h = d_sim_hash_u32(h, w->tick_count);
source\domino\sim\d_sim_hash.c:99:    /* Instance-level serialized payload */
source\domino\sim\d_sim_hash.c:111:    if (w->chunk_count > 0u && w->chunks) {
source\domino\sim\d_sim_hash.c:112:        chunk_list = (d_chunk **)malloc(sizeof(d_chunk *) * w->chunk_count);
source\domino\sim\d_sim_hash.c:114:            chunk_count = w->chunk_count;
source\domino\sim\d_sim_hash.c:116:                chunk_list[i] = &w->chunks[i];
source\domino\sim\d_sim.h:24:/* Component registration remains subsystem-local; dsim only manages entities and systems. */
source\domino\struct\d_struct.c:42:    return ((q32_32)v) << (Q32_32_FRAC_BITS - Q16_16_FRAC_BITS);
source\domino\struct\d_struct.c:64:        return -1;
source\domino\struct\d_struct.c:67:    if (!in || !in->ptr || in->len == 0u) {
source\domino\struct\d_struct.c:74:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_x);
source\domino\struct\d_struct.c:77:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_y);
source\domino\struct\d_struct.c:80:            (void)d_tlv_kv_read_q16_16(&payload, &out->min_z);
source\domino\struct\d_struct.c:83:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_x);
source\domino\struct\d_struct.c:86:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_y);
source\domino\struct\d_struct.c:89:            (void)d_tlv_kv_read_q16_16(&payload, &out->max_z);
source\domino\struct\d_struct.c:95:    if (out->max_x < out->min_x) {
source\domino\struct\d_struct.c:96:        q16_16 tmp = out->min_x; out->min_x = out->max_x; out->max_x = tmp;
source\domino\struct\d_struct.c:98:    if (out->max_y < out->min_y) {
source\domino\struct\d_struct.c:99:        q16_16 tmp = out->min_y; out->min_y = out->max_y; out->max_y = tmp;
source\domino\struct\d_struct.c:101:    if (out->max_z < out->min_z) {
source\domino\struct\d_struct.c:102:        q16_16 tmp = out->min_z; out->min_z = out->max_z; out->max_z = tmp;
source\domino\struct\d_struct.c:113:        return -1;
source\domino\struct\d_struct.c:116:    out->gas_k = DSTRUCT_ENV_DEFAULT_CONDUCTANCE;
source\domino\struct\d_struct.c:117:    out->heat_k = DSTRUCT_ENV_DEFAULT_CONDUCTANCE;
source\domino\struct\d_struct.c:118:    if (!in || !in->ptr || in->len == 0u) {
source\domino\struct\d_struct.c:125:            (void)d_tlv_kv_read_u16(&payload, &out->a);
source\domino\struct\d_struct.c:128:            (void)d_tlv_kv_read_u16(&payload, &out->b);
source\domino\struct\d_struct.c:131:            (void)d_tlv_kv_read_q16_16(&payload, &out->gas_k);
source\domino\struct\d_struct.c:134:            (void)d_tlv_kv_read_q16_16(&payload, &out->heat_k);
source\domino\struct\d_struct.c:159:    if (!layout || !layout->ptr || layout->len == 0u) {
source\domino\struct\d_struct.c:199:    if (!w || !inst || inst->proto_id == 0u) {
source\domino\struct\d_struct.c:202:    proto = d_content_get_structure(inst->proto_id);
source\domino\struct\d_struct.c:209:    dstruct_collect_env_defs(&proto->layout, vols, &vol_count, edges, &edge_count);
source\domino\struct\d_struct.c:214:    (void)d_env_volume_remove_owned_by(w, (u32)inst->id, 0u);
source\domino\struct\d_struct.c:217:    base_x = dstruct_q32_from_q16(inst->pos_x);
source\domino\struct\d_struct.c:218:    base_y = dstruct_q32_from_q16(inst->pos_y);
source\domino\struct\d_struct.c:219:    base_z = dstruct_q32_from_q16(inst->pos_z);
source\domino\struct\d_struct.c:236:        v.owner_struct_eid = (u32)inst->id;
source\domino\struct\d_struct.c:310:    dst->ptr = (unsigned char *)0;
source\domino\struct\d_struct.c:311:    dst->len = 0u;
source\domino\struct\d_struct.c:312:    if (!src || !src->ptr || src->len == 0u) {
source\domino\struct\d_struct.c:315:    dst->ptr = (unsigned char *)malloc(src->len);
source\domino\struct\d_struct.c:316:    if (!dst->ptr) {
source\domino\struct\d_struct.c:317:        dst->len = 0u;
source\domino\struct\d_struct.c:320:    memcpy(dst->ptr, src->ptr, src->len);
source\domino\struct\d_struct.c:321:    dst->len = src->len;
source\domino\struct\d_struct.c:351:    if (!w || !inst_template || inst_template->proto_id == 0u) {
source\domino\struct\d_struct.c:359:    chunk = d_struct_chunk_for_position(w, inst_template->pos_x, inst_template->pos_y);
source\domino\struct\d_struct.c:364:    copy.chunk_id = chunk ? chunk->chunk_id : 0u;
source\domino\struct\d_struct.c:368:    d_struct_copy_state_blob(&copy.state, &inst_template->state);
source\domino\struct\d_struct.c:370:    slot->world = w;
source\domino\struct\d_struct.c:371:    slot->inst = copy;
source\domino\struct\d_struct.c:372:    slot->in_use = 1;
source\domino\struct\d_struct.c:374:    dstruct_build_env_for_instance(w, &slot->inst);
source\domino\struct\d_struct.c:375:    return slot->inst.id;
source\domino\struct\d_struct.c:384:        return -1;
source\domino\struct\d_struct.c:387:    if (entry->inst.state.ptr) {
source\domino\struct\d_struct.c:388:        free(entry->inst.state.ptr);
source\domino\struct\d_struct.c:399:    return &entry->inst;
source\domino\struct\d_struct.c:445:        return -1;
source\domino\struct\d_struct.c:449:        return -1;
source\domino\struct\d_struct.c:452:        *out_item_id = (d_item_id)inst->inventory.item_id;
source\domino\struct\d_struct.c:455:        *out_count = inst->inventory.count;
source\domino\struct\d_struct.c:472:        return -1;
source\domino\struct\d_struct.c:478:            g_struct_entries[i].inst.chunk_id == chunk->chunk_id) {
source\domino\struct\d_struct.c:488:        out->ptr = (unsigned char *)0;
source\domino\struct\d_struct.c:489:        out->len = 0u;
source\domino\struct\d_struct.c:495:        return -1;
source\domino\struct\d_struct.c:505:            g_struct_entries[i].inst.chunk_id == chunk->chunk_id) {
source\domino\struct\d_struct.c:540:    out->ptr = buf;
source\domino\struct\d_struct.c:541:    out->len = (u32)(dst - buf);
source\domino\struct\d_struct.c:556:        return -1;
source\domino\struct\d_struct.c:558:    if (in->len == 0u) {
source\domino\struct\d_struct.c:561:    if (!in->ptr || in->len < 4u) {
source\domino\struct\d_struct.c:562:        return -1;
source\domino\struct\d_struct.c:565:    ptr = in->ptr;
source\domino\struct\d_struct.c:566:    remaining = in->len;
source\domino\struct\d_struct.c:569:    remaining -= 4u;
source\domino\struct\d_struct.c:581:            return -1;
source\domino\struct\d_struct.c:610:        remaining -= sizeof(d_struct_instance_id) + sizeof(d_structure_proto_id) +
source\domino\struct\d_struct.c:613:        inst.chunk_id = chunk->chunk_id;
source\domino\struct\d_struct.c:618:                return -1;
source\domino\struct\d_struct.c:622:                return -1;
source\domino\struct\d_struct.c:626:            remaining -= state_len;
source\domino\struct\d_struct.c:639:            return -1;
source\domino\struct\d_struct.c:642:        entry->world = w;
source\domino\struct\d_struct.c:643:        entry->inst = inst;
source\domino\struct\d_struct.c:644:        entry->in_use = 1;
source\domino\struct\d_struct.c:655:        return -1;
source\domino\struct\d_struct.c:657:    out->ptr = (unsigned char *)0;
source\domino\struct\d_struct.c:658:    out->len = 0u;
source\domino\sim\d_sim.c:15:        return -1;
source\domino\sim\d_sim.c:17:    if (vt->system_id == 0u) {
source\domino\sim\d_sim.c:19:        return -2;
source\domino\sim\d_sim.c:22:        if (g_dsim_systems[i].system_id == vt->system_id) {
source\domino\sim\d_sim.c:23:            fprintf(stderr, "d_sim_register_system: duplicate id %u\n", (unsigned int)vt->system_id);
source\domino\sim\d_sim.c:24:            return -3;
source\domino\sim\d_sim.c:29:        return -4;
source\domino\sim\d_sim.c:40:        return -1;
source\domino\sim\d_sim.c:43:    ctx->world = world;
source\domino\sim\d_sim.c:44:    ctx->tick_index = 0u;
source\domino\sim\d_sim.c:45:    ctx->tick_duration = tick_duration;
source\domino\sim\d_sim.c:59:    if (!ctx || !ctx->world) {
source\domino\sim\d_sim.c:60:        return -1;
source\domino\sim\d_sim.c:65:        ctx->tick_index += 1u;
source\domino\sim\d_sim.c:66:        ctx->world->tick_count += 1u;
source\domino\sim\d_sim.c:72:            if (desc && desc->tick) {
source\domino\sim\d_sim.c:73:                desc->tick(ctx->world, 1u);
source\domino\sim\d_sim.c:100:    ctx->world = (d_world *)0;
source\domino\sim\d_sim.c:101:    ctx->tick_index = 0u;
source\domino\sim\d_sim.c:102:    ctx->tick_duration = 0;
source\domino\system\plat\posix\posix_sys.c:92:        len = buf_size - 1u;
source\domino\system\plat\posix\posix_sys.c:115:        if (i > 0u && dst[i - 1u] != '/' && i + 1u < cap) {
source\domino\system\plat\posix\posix_sys.c:140:    while (len > 0u && (path[len - 1u] == '/' || path[len - 1u] == '\\')) {
source\domino\system\plat\posix\posix_sys.c:141:        len -= 1u;
source\domino\system\plat\posix\posix_sys.c:145:        c = path[len - 1u];
source\domino\system\plat\posix\posix_sys.c:149:        len -= 1u;
source\domino\system\plat\posix\posix_sys.c:160:        len = cap - 1u;
source\domino\system\plat\posix\posix_sys.c:179:        if (pw && pw->pw_dir) {
source\domino\system\plat\posix\posix_sys.c:180:            return posix_copy_path(pw->pw_dir, buf, buf_size);
source\domino\system\plat\posix\posix_sys.c:196:    n = readlink("/proc/self/exe", tmp, sizeof(tmp) - 1u);
source\domino\system\plat\posix\posix_sys.c:282:    while (nanosleep(&ts, &ts) == -1 && errno == EINTR) {
source\domino\system\plat\posix\posix_sys.c:434:        return -1;
source\domino\system\plat\posix\posix_sys.c:444:        return -1L;
source\domino\system\plat\posix\posix_sys.c:454:        return -1;
source\domino\system\plat\posix\posix_sys.c:473:    it->dir = opendir(path);
source\domino\system\plat\posix\posix_sys.c:474:    if (!it->dir) {
source\domino\system\plat\posix\posix_sys.c:490:        ent = readdir(it->dir);
source\domino\system\plat\posix\posix_sys.c:494:        if (ent->d_name[0] == '.' &&
source\domino\system\plat\posix\posix_sys.c:495:            (ent->d_name[1] == '\0' ||
source\domino\system\plat\posix\posix_sys.c:496:             (ent->d_name[1] == '.' && ent->d_name[2] == '\0'))) {
source\domino\system\plat\posix\posix_sys.c:499:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\posix\posix_sys.c:500:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\posix\posix_sys.c:501:        out->is_dir = false;
source\domino\system\plat\posix\posix_sys.c:503:        if (ent->d_type == DT_DIR) {
source\domino\system\plat\posix\posix_sys.c:504:            out->is_dir = true;
source\domino\system\plat\posix\posix_sys.c:508:        if (!out->is_dir) {
source\domino\system\plat\posix\posix_sys.c:511:            dir_fd = dirfd(it->dir);
source\domino\system\plat\posix\posix_sys.c:512:            if (dir_fd != -1 &&
source\domino\system\plat\posix\posix_sys.c:513:                fstatat(dir_fd, out->name, &st, 0) == 0 &&
source\domino\system\plat\posix\posix_sys.c:515:                out->is_dir = true;
source\domino\system\plat\posix\posix_sys.c:528:    if (it->dir) {
source\domino\system\plat\posix\posix_sys.c:529:        closedir(it->dir);
source\domino\system\plat\posix\posix_sys.c:539:    if (!desc || !desc->exe) {
source\domino\system\plat\posix\posix_sys.c:547:        if (desc->argv) {
source\domino\system\plat\posix\posix_sys.c:548:            execvp(desc->exe, (char* const*)desc->argv);
source\domino\system\plat\posix\posix_sys.c:551:            argv_local[0] = (char*)desc->exe;
source\domino\system\plat\posix\posix_sys.c:553:            execvp(desc->exe, argv_local);
source\domino\system\plat\posix\posix_sys.c:563:    proc->pid = pid;
source\domino\system\plat\posix\posix_sys.c:572:        return -1;
source\domino\system\plat\posix\posix_sys.c:576:    if (waitpid(p->pid, &status, 0) < 0) {
source\domino\system\plat\posix\posix_sys.c:577:        return -1;
source\domino\system\plat\cpm80\cpm80_sys.c:24:/*----------------------------------------------------------------------
source\domino\system\plat\cpm80\cpm80_sys.c:26: *----------------------------------------------------------------------*/
source\domino\system\plat\cpm80\cpm80_sys.c:57:    return (ch == 0u) ? -1 : (int)ch;
source\domino\system\plat\cpm80\cpm80_sys.c:60:/*----------------------------------------------------------------------
source\domino\system\plat\cpm80\cpm80_sys.c:62: *----------------------------------------------------------------------*/
source\domino\system\plat\cpm80\cpm80_sys.c:137:        if (g_cpm80.main_window->fb.pixels) {
source\domino\system\plat\cpm80\cpm80_sys.c:138:            free(g_cpm80.main_window->fb.pixels);
source\domino\system\plat\cpm80\cpm80_sys.c:182:    win->fb.width = w;
source\domino\system\plat\cpm80\cpm80_sys.c:183:    win->fb.height = h;
source\domino\system\plat\cpm80\cpm80_sys.c:184:    win->fb.pitch = w;
source\domino\system\plat\cpm80\cpm80_sys.c:185:    win->fb.bpp = 8;
source\domino\system\plat\cpm80\cpm80_sys.c:186:    win->fb.pixels = (uint8_t*)malloc(size);
source\domino\system\plat\cpm80\cpm80_sys.c:187:    if (win->fb.pixels) {
source\domino\system\plat\cpm80\cpm80_sys.c:188:        memset(win->fb.pixels, 0, size);
source\domino\system\plat\cpm80\cpm80_sys.c:190:    win->mode = DWIN_MODE_FULLSCREEN;
source\domino\system\plat\cpm80\cpm80_sys.c:201:    if (win->fb.pixels) {
source\domino\system\plat\cpm80\cpm80_sys.c:202:        free(win->fb.pixels);
source\domino\system\plat\cpm80\cpm80_sys.c:229:        *w = (int32_t)win->fb.width;
source\domino\system\plat\cpm80\cpm80_sys.c:232:        *h = (int32_t)win->fb.height;
source\domino\system\plat\cpm80\cpm80_sys.c:241:    return (void*)&win->fb;
source\domino\system\plat\cpm80\cpm80_sys.c:282:    buf[buf_size - 1u] = '\0';
source\domino\system\plat\cpm80\cpm80_sys.c:315:        return -1;
source\domino\system\plat\cpm80\cpm80_sys.c:325:        return -1L;
source\domino\system\plat\cpm80\cpm80_sys.c:335:        return -1;
source\domino\system\plat\cpm80\cpm80_sys.c:370:    return -1;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:18:    return (int32_t)(v - 0.5);
source\domino\system\plat\cocoa\cocoa_sys_objc.m:37:        len = buf_size - 1u;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:61:    y = (int32_t)(height - p.y);
source\domino\system\plat\cocoa\cocoa_sys_objc.m:70:        ev.payload.mouse_move.dx = x - cocoa_mouse_last_x;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:71:        ev.payload.mouse_move.dy = y - cocoa_mouse_last_y;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:139:- (BOOL)windowShouldClose:(id)sender
source\domino\system\plat\cocoa\cocoa_sys_objc.m:149:- (void)windowDidResize:(NSNotification*)notification
source\domino\system\plat\cocoa\cocoa_sys_objc.m:166:        g_cocoa.main_window->width = w;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:167:        g_cocoa.main_window->height = h;
source\domino\system\plat\cocoa\cocoa_sys_objc.m:182:- (void)sendEvent:(NSEvent*)event
source\domino\system\plat\cocoa\cocoa_sys_objc.m:200:    /* no-op for now */
source\domino\system\plat\cocoa\cocoa_sys.h:39:/* Objective-C bridge */
source\domino\system\plat\cocoa\cocoa_sys.c:155:    win->width = (local.width > 0) ? local.width : 800;
source\domino\system\plat\cocoa\cocoa_sys.c:156:    win->height = (local.height > 0) ? local.height : 600;
source\domino\system\plat\cocoa\cocoa_sys.c:157:    win->mode = local.mode;
source\domino\system\plat\cocoa\cocoa_sys.c:160:    ns_window = cocoa_objc_create_window(win->width, win->height, "Domino");
source\domino\system\plat\cocoa\cocoa_sys.c:167:    win->ns_window = ns_window;
source\domino\system\plat\cocoa\cocoa_sys.c:168:    if (win->mode == DWIN_MODE_FULLSCREEN) {
source\domino\system\plat\cocoa\cocoa_sys.c:169:        cocoa_objc_toggle_fullscreen(win->ns_window);
source\domino\system\plat\cocoa\cocoa_sys.c:171:    cocoa_window_get_size(win, &win->width, &win->height);
source\domino\system\plat\cocoa\cocoa_sys.c:180:    if (win->ns_window) {
source\domino\system\plat\cocoa\cocoa_sys.c:181:        cocoa_objc_destroy_window(win->ns_window);
source\domino\system\plat\cocoa\cocoa_sys.c:195:    prev = win->mode;
source\domino\system\plat\cocoa\cocoa_sys.c:196:    win->mode = mode;
source\domino\system\plat\cocoa\cocoa_sys.c:197:    if (!win->ns_window) {
source\domino\system\plat\cocoa\cocoa_sys.c:202:        cocoa_objc_toggle_fullscreen(win->ns_window);
source\domino\system\plat\cocoa\cocoa_sys.c:204:    cocoa_window_get_size(win, &win->width, &win->height);
source\domino\system\plat\cocoa\cocoa_sys.c:212:    if (win->ns_window) {
source\domino\system\plat\cocoa\cocoa_sys.c:213:        cocoa_objc_resize_window(win->ns_window, w, h);
source\domino\system\plat\cocoa\cocoa_sys.c:214:        cocoa_objc_get_window_size(win->ns_window, &w, &h);
source\domino\system\plat\cocoa\cocoa_sys.c:216:    win->width = w;
source\domino\system\plat\cocoa\cocoa_sys.c:217:    win->height = h;
source\domino\system\plat\cocoa\cocoa_sys.c:225:    if (win->ns_window) {
source\domino\system\plat\cocoa\cocoa_sys.c:226:        cocoa_objc_get_window_size(win->ns_window, &win->width, &win->height);
source\domino\system\plat\cocoa\cocoa_sys.c:229:        *w = win->width;
source\domino\system\plat\cocoa\cocoa_sys.c:232:        *h = win->height;
source\domino\system\plat\cocoa\cocoa_sys.c:241:    return win->ns_window;
source\domino\system\plat\cocoa\cocoa_sys.c:303:        return -1;
source\domino\system\plat\cocoa\cocoa_sys.c:313:        return -1L;
source\domino\system\plat\cocoa\cocoa_sys.c:323:        return -1;
source\domino\system\plat\cocoa\cocoa_sys.c:344:    it->dir = dir;
source\domino\system\plat\cocoa\cocoa_sys.c:358:        ent = readdir(it->dir);
source\domino\system\plat\cocoa\cocoa_sys.c:362:        if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0) {
source\domino\system\plat\cocoa\cocoa_sys.c:365:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\cocoa\cocoa_sys.c:366:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\cocoa\cocoa_sys.c:370:        if (ent->d_type == DT_DIR) {
source\domino\system\plat\cocoa\cocoa_sys.c:373:        } else if (ent->d_type == DT_UNKNOWN) {
source\domino\system\plat\cocoa\cocoa_sys.c:375:            if (fstatat(dirfd(it->dir), ent->d_name, &st, 0) == 0 && S_ISDIR(st.st_mode)) {
source\domino\system\plat\cocoa\cocoa_sys.c:385:            if (fstatat(dirfd(it->dir), ent->d_name, &st, 0) == 0 && S_ISDIR(st.st_mode)) {
source\domino\system\plat\cocoa\cocoa_sys.c:390:        out->is_dir = is_dir;
source\domino\system\plat\cocoa\cocoa_sys.c:400:    if (it->dir) {
source\domino\system\plat\cocoa\cocoa_sys.c:401:        closedir(it->dir);
source\domino\system\plat\cocoa\cocoa_sys.c:415:    return -1;
source\domino\system\core\base\shared\uuid.cpp:31:                 "%02x%02x%02x%02x-"
source\domino\system\core\base\shared\uuid.cpp:32:                 "%02x%02x-"
source\domino\system\core\base\shared\uuid.cpp:33:                 "%02x%02x-"
source\domino\system\core\base\shared\uuid.cpp:34:                 "%02x%02x-"
source\domino\sim\api\sim_stub.c:12:    if (cfg) sim->cfg = *cfg;
source\domino\sim\api\sim_stub.c:13:    else sim->cfg.seed = 0;
source\domino\system\core\base\shared\process.cpp:74:    internal->process_handle = pi.hProcess;
source\domino\system\core\base\shared\process.cpp:92:        // TODO: support non-inherited environment if needed.
source\domino\system\core\base\shared\process.cpp:110:    if (!internal || !internal->process_handle) return false;
source\domino\system\core\base\shared\process.cpp:111:    DWORD wait_rc = WaitForSingleObject(internal->process_handle, 0);
source\domino\system\core\base\shared\process.cpp:121:    if (handle.pid <= 0) return -1;
source\domino\system\core\base\shared\process.cpp:124:    if (!internal || !internal->process_handle) return -1;
source\domino\system\core\base\shared\process.cpp:125:    WaitForSingleObject(internal->process_handle, INFINITE);
source\domino\system\core\base\shared\process.cpp:127:    GetExitCodeProcess(internal->process_handle, &code);
source\domino\system\core\base\shared\process.cpp:128:    CloseHandle(internal->process_handle);
source\domino\system\core\base\shared\process.cpp:134:    if (rc < 0) return -1;
source\domino\system\plat\null\sys_null.c:22:    f->handle = fp;
source\domino\system\plat\null\sys_null.c:31:    if (!f || !f->handle) return 0;
source\domino\system\plat\null\sys_null.c:32:    return fread(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\null\sys_null.c:40:    if (!f || !f->handle) return 0;
source\domino\system\plat\null\sys_null.c:41:    return fwrite(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\null\sys_null.c:48:    if (!f) return -1;
source\domino\system\plat\null\sys_null.c:50:    if (f->handle) {
source\domino\system\plat\null\sys_null.c:51:        r = fclose((FILE*)f->handle);
source\domino\system\plat\null\sys_null.c:72:    return -1;
source\domino\system\plat\null\sys_null.c:125:    return -1;
source\domino\system\plat\null\sys_null.c:133:    return -1;
source\domino\system\plat\null\sys_null.c:145:    if (!ctx) return -1;
source\domino\system\plat\null\sys_null.c:146:    memset(&ctx->ops, 0, sizeof(ctx->ops));
source\domino\system\plat\null\sys_null.c:147:    ctx->ops.fopen_fn = null_fopen;
source\domino\system\plat\null\sys_null.c:148:    ctx->ops.fread_fn = null_fread;
source\domino\system\plat\null\sys_null.c:149:    ctx->ops.fwrite_fn = null_fwrite;
source\domino\system\plat\null\sys_null.c:150:    ctx->ops.fclose_fn = null_fclose;
source\domino\system\plat\null\sys_null.c:151:    ctx->ops.file_exists_fn = null_exists;
source\domino\system\plat\null\sys_null.c:152:    ctx->ops.mkdirs_fn = null_mkdirs;
source\domino\system\plat\null\sys_null.c:153:    ctx->ops.dir_open_fn = null_dir_open;
source\domino\system\plat\null\sys_null.c:154:    ctx->ops.dir_next_fn = null_dir_next;
source\domino\system\plat\null\sys_null.c:155:    ctx->ops.dir_close_fn = null_dir_close;
source\domino\system\plat\null\sys_null.c:156:    ctx->ops.time_seconds_fn = null_time_seconds;
source\domino\system\plat\null\sys_null.c:157:    ctx->ops.time_millis_fn = null_time_millis;
source\domino\system\plat\null\sys_null.c:158:    ctx->ops.sleep_millis_fn = null_sleep_millis;
source\domino\system\plat\null\sys_null.c:159:    ctx->ops.process_spawn_fn = null_process_spawn;
source\domino\system\plat\null\sys_null.c:160:    ctx->ops.process_wait_fn = null_process_wait;
source\domino\system\plat\null\sys_null.c:161:    ctx->ops.process_destroy_fn = null_process_destroy;
source\domino\system\plat\null\sys_null.c:162:    ctx->ops.log_fn = 0; /* use default */
source\domino\system\plat\null\sys_null.c:163:    ctx->backend_state = NULL;
source\domino\sim\api\engine_api.c:16:        e->config = *cfg;
source\domino\sim\api\engine_api.c:18:        memset(&e->config, 0, sizeof(e->config));
source\domino\system\core\base\shared\os_paths.cpp:18:#include <mach-o/dyld.h>
source\domino\system\core\base\shared\os_paths.cpp:35:        char c = out[out.size() - 1];
source\domino\system\core\base\shared\os_paths.cpp:37:            out.erase(out.size() - 1);
source\domino\system\core\base\shared\os_paths.cpp:49:    char last = a[a.size() - 1];
source\domino\system\core\base\shared\os_paths.cpp:65:    for (int i = (int)cleaned.size() - 1; i >= 0; --i) {
source\domino\system\core\base\shared\os_paths.cpp:83:        if (len < size - 1) {
source\domino\system\core\base\shared\os_paths.cpp:104:    ssize_t n = readlink("/proc/self/exe", buf, sizeof(buf) - 1);
source\domino\system\core\base\shared\os_paths.cpp:127:    if (pw) return std::string(pw->pw_dir);
source\domino\system\core\base\shared\os_paths.cpp:268:    // Already covered per-user/system; no-op placeholder for future bundle variants.
source\domino\system\plat\dos32\dos32_sys.c:30:/*----------------------------------------------------------------------
source\domino\system\plat\dos32\dos32_sys.c:32: *----------------------------------------------------------------------*/
source\domino\system\plat\dos32\dos32_sys.c:289:    return -1;
source\domino\system\plat\dos32\dos32_sys.c:348:        ev.payload.mouse_move.dx = x - g_dos32.mouse_x;
source\domino\system\plat\dos32\dos32_sys.c:349:        ev.payload.mouse_move.dy = y - g_dos32.mouse_y;
source\domino\system\plat\dos32\dos32_sys.c:392:/*----------------------------------------------------------------------
source\domino\system\plat\dos32\dos32_sys.c:394: *----------------------------------------------------------------------*/
source\domino\system\plat\dos32\dos32_sys.c:502:        /* busy wait to remain single-threaded/deterministic */
source\domino\system\plat\dos32\dos32_sys.c:520:    win->framebuffer = g_dos32.lfb;
source\domino\system\plat\dos32\dos32_sys.c:521:    win->width = g_dos32.fb_width;
source\domino\system\plat\dos32\dos32_sys.c:522:    win->height = g_dos32.fb_height;
source\domino\system\plat\dos32\dos32_sys.c:523:    win->pitch = (int32_t)g_dos32.pitch;
source\domino\system\plat\dos32\dos32_sys.c:524:    win->bpp = g_dos32.fb_bpp;
source\domino\system\plat\dos32\dos32_sys.c:525:    win->mode = DWIN_MODE_FULLSCREEN;
source\domino\system\plat\dos32\dos32_sys.c:526:    if (desc && desc->mode == DWIN_MODE_WINDOWED) {
source\domino\system\plat\dos32\dos32_sys.c:527:        win->mode = desc->mode;
source\domino\system\plat\dos32\dos32_sys.c:550:    win->mode = mode;
source\domino\system\plat\dos32\dos32_sys.c:566:        *w = win->width;
source\domino\system\plat\dos32\dos32_sys.c:569:        *h = win->height;
source\domino\system\plat\dos32\dos32_sys.c:578:    return (void*)win->framebuffer;
source\domino\system\plat\dos32\dos32_sys.c:615:    buf[buf_size - 1u] = '\0';
source\domino\system\plat\dos32\dos32_sys.c:648:        return -1;
source\domino\system\plat\dos32\dos32_sys.c:658:        return -1L;
source\domino\system\plat\dos32\dos32_sys.c:668:        return -1;
source\domino\system\plat\dos32\dos32_sys.c:687:    it->dir = opendir(path);
source\domino\system\plat\dos32\dos32_sys.c:688:    if (!it->dir) {
source\domino\system\plat\dos32\dos32_sys.c:699:    if (!it || !out || !it->dir) {
source\domino\system\plat\dos32\dos32_sys.c:704:        ent = readdir(it->dir);
source\domino\system\plat\dos32\dos32_sys.c:708:        if (ent->d_name[0] == '.' &&
source\domino\system\plat\dos32\dos32_sys.c:709:            (ent->d_name[1] == '\0' ||
source\domino\system\plat\dos32\dos32_sys.c:710:             (ent->d_name[1] == '.' && ent->d_name[2] == '\0'))) {
source\domino\system\plat\dos32\dos32_sys.c:713:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\dos32\dos32_sys.c:714:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\dos32\dos32_sys.c:715:        out->is_dir = false;
source\domino\system\plat\dos32\dos32_sys.c:725:    if (it->dir) {
source\domino\system\plat\dos32\dos32_sys.c:726:        closedir(it->dir);
source\domino\system\plat\dos32\dos32_sys.c:740:    return -1;
source\domino\system\plat\null\dom_plat_term_stub.c:13:    if (!buf || cap == 0) return -1;
source\domino\system\plat\null\dom_plat_term_stub.c:14:    if (!fgets(buf, (int)cap, stdin)) return -1;
source\domino\system\core\base\shared\manifest_install.cpp:32:    std::strftime(buf, sizeof(buf), "%Y-%m-%dT%H:%M:%SZ", &tmv);
source\domino\system\plat\null\dom_plat_sys_stub.c:14:    if (!buf || cap == 0) return -1;
source\domino\system\plat\null\dom_plat_sys_stub.c:20:    if (n >= cap) n = cap - 1;
source\domino\system\plat\null\dom_plat_sys_stub.c:52:    if (out_exit_code) *out_exit_code = -1;
source\domino\system\plat\null\dom_plat_sys_stub.c:53:    return -1; /* TODO: implement platform process spawn */
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:9:    dom_u32         *entity_slot; /* mapping: entity index -> slot+1 */
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:69:            if (st->data) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:70:                dom_u32 bytes = st->info.size * DOM_SIM_ECS_MAX_ENTITIES;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:71:                memset(st->data, 0, bytes);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:73:            if (st->entities) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:74:                memset(st->entities, 0, sizeof(dom_entity_id) * DOM_SIM_ECS_MAX_ENTITIES);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:76:            if (st->entity_slot) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:77:                memset(st->entity_slot, 0, sizeof(dom_u32) * DOM_SIM_ECS_MAX_ENTITIES);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:79:            st->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:86:    dom_u32 idx = (dom_u32)(cid ? cid - 1 : 0);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:100:    st->info = *info;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:101:    st->info.id = id;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:102:    st->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:103:    bytes = info->size * DOM_SIM_ECS_MAX_ENTITIES;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:104:    st->data = (dom_u8 *)dom_alloc_zero(bytes);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:105:    st->entities = (dom_entity_id *)dom_alloc_zero((dom_u32)sizeof(dom_entity_id) * DOM_SIM_ECS_MAX_ENTITIES);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:106:    st->entity_slot = (dom_u32 *)dom_alloc_zero((dom_u32)sizeof(dom_u32) * DOM_SIM_ECS_MAX_ENTITIES);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:107:    if (!st->data || !st->entities || !st->entity_slot) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:108:        if (st->data) dom_free(st->data);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:109:        if (st->entities) dom_free(st->entities);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:110:        if (st->entity_slot) dom_free(st->entity_slot);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:111:        st->data = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:112:        st->entities = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:113:        st->entity_slot = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:114:        memset(&st->info, 0, sizeof(st->info));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:124:    return st ? &st->info : 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:134:            g_free_indices[pos - 1] = g_free_indices[pos];
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:136:        g_free_count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:159:                (g_active_count - pos) * sizeof(dom_entity_id));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:172:                        (g_active_count - i - 1) * sizeof(dom_entity_id));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:174:            g_active_count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:188:                    (g_free_count - pos) * sizeof(dom_u32));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:214:        dom_u32 slot = st->entity_slot[entity_idx];
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:216:            dom_u32 pos = slot - 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:218:            if (pos + 1 < st->count) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:219:                memmove(&st->entities[pos], &st->entities[pos + 1],
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:220:                        (st->count - pos - 1) * sizeof(dom_entity_id));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:221:                memmove(st->data + (pos * st->info.size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:222:                        st->data + ((pos + 1) * st->info.size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:223:                        (st->count - pos - 1) * st->info.size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:225:                while (trailing < st->count - 1) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:226:                    dom_u32 shifted_idx = dom_entity_index(st->entities[trailing]);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:227:                    st->entity_slot[shifted_idx] = trailing + 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:231:            st->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:232:            st->entity_slot[entity_idx] = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:278:    if (st->entity_slot[entity_idx]) return DOM_OK; /* already present */
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:279:    if (st->count >= DOM_SIM_ECS_MAX_ENTITIES) return DOM_ERR_BOUNDS;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:280:    pos = st->count;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:281:    for (i = 0; i < st->count; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:282:        dom_u32 existing_idx = dom_entity_index(st->entities[i]);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:288:    size = st->info.size;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:289:    if (pos < st->count) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:290:        memmove(&st->entities[pos + 1], &st->entities[pos],
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:291:                (st->count - pos) * sizeof(dom_entity_id));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:292:        memmove(st->data + ((pos + 1) * size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:293:                st->data + (pos * size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:294:                (st->count - pos) * size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:295:        for (i = pos; i < st->count; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:296:            dom_u32 shifted_idx = dom_entity_index(st->entities[i + 1]);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:297:            st->entity_slot[shifted_idx] = (i + 1) + 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:300:    st->entities[pos] = e;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:301:    st->entity_slot[entity_idx] = pos + 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:303:        memcpy(st->data + (pos * size), data, size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:305:        memset(st->data + (pos * size), 0, size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:307:    st->count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:332:    slot = st->entity_slot[entity_idx];
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:334:    pos = slot - 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:335:    size = st->info.size;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:336:    if (pos + 1 < st->count) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:337:        memmove(&st->entities[pos], &st->entities[pos + 1],
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:338:                (st->count - pos - 1) * sizeof(dom_entity_id));
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:339:        memmove(st->data + (pos * size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:340:                st->data + ((pos + 1) * size),
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:341:                (st->count - pos - 1) * size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:342:        for (i = pos; i < st->count - 1; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:343:            dom_u32 shifted_idx = dom_entity_index(st->entities[i]);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:344:            st->entity_slot[shifted_idx] = i + 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:347:    st->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:348:    st->entity_slot[entity_idx] = 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:360:    slot = st->entity_slot[entity_idx];
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:362:    return st->data + ((slot - 1) * st->info.size);
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:368:    return st ? st->count : 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:374:    if (!st || index >= st->count) return 0;
source\domino\sim\_legacy\core_sim\dom_sim_ecs.c:375:    return st->entities[index];
source\domino\system\core\base\shared\logging.cpp:80:    int n = _vsnprintf(msg_buf, sizeof(msg_buf) - 1, fmt, ap);
source\domino\system\core\base\shared\logging.cpp:87:    msg_buf[sizeof(msg_buf) - 1] = '\0';
source\domino\system\core\base\shared\logging.cpp:98:    std::strftime(ts_buf, sizeof(ts_buf), "%Y-%m-%d %H:%M:%S", &tmv);
source\domino\system\core\base\shared\json.cpp:43:    return it->second;
source\domino\system\core\base\shared\json.cpp:164:    if (s[i] == '-') ++i;
source\domino\system\core\base\shared\json.cpp:171:    ss << s.substr(start, i - start);
source\domino\system\core\base\shared\json.cpp:240:    if (std::isdigit((unsigned char)c) || c == '-') {
source\domino\system\core\base\shared\json.cpp:309:            out += it->first;
source\domino\system\core\base\shared\json.cpp:312:            it->second.stringify_internal(out, indent + indent_step, indent_step, pretty);
source\domino\system\plat\carbon\carbon_sys.c:151:        return now - g_carbon.time_base_us;
source\domino\system\plat\carbon\carbon_sys.c:183:        if (desc->width > 0) {
source\domino\system\plat\carbon\carbon_sys.c:184:            width = desc->width;
source\domino\system\plat\carbon\carbon_sys.c:186:        if (desc->height > 0) {
source\domino\system\plat\carbon\carbon_sys.c:187:            height = desc->height;
source\domino\system\plat\carbon\carbon_sys.c:189:        x = desc->x;
source\domino\system\plat\carbon\carbon_sys.c:190:        y = desc->y;
source\domino\system\plat\carbon\carbon_sys.c:221:    win->window = win_ref;
source\domino\system\plat\carbon\carbon_sys.c:222:    win->width = width;
source\domino\system\plat\carbon\carbon_sys.c:223:    win->height = height;
source\domino\system\plat\carbon\carbon_sys.c:224:    win->mode = desc ? desc->mode : DWIN_MODE_WINDOWED;
source\domino\system\plat\carbon\carbon_sys.c:230:    carbon_window_set_mode(win, win->mode);
source\domino\system\plat\carbon\carbon_sys.c:239:    if (win->window) {
source\domino\system\plat\carbon\carbon_sys.c:240:        DisposeWindow(win->window);
source\domino\system\plat\carbon\carbon_sys.c:253:    if (!win || !win->window) {
source\domino\system\plat\carbon\carbon_sys.c:259:        SetWindowBounds(win->window, kWindowContentRgn, &screen);
source\domino\system\plat\carbon\carbon_sys.c:260:        win->width = (int32_t)(screen.right - screen.left);
source\domino\system\plat\carbon\carbon_sys.c:261:        win->height = (int32_t)(screen.bottom - screen.top);
source\domino\system\plat\carbon\carbon_sys.c:263:        GetWindowBounds(win->window, kWindowContentRgn, &bounds);
source\domino\system\plat\carbon\carbon_sys.c:264:        win->width = (int32_t)(bounds.right - bounds.left);
source\domino\system\plat\carbon\carbon_sys.c:265:        win->height = (int32_t)(bounds.bottom - bounds.top);
source\domino\system\plat\carbon\carbon_sys.c:268:    win->mode = mode;
source\domino\system\plat\carbon\carbon_sys.c:275:    if (!win || !win->window) {
source\domino\system\plat\carbon\carbon_sys.c:279:    GetWindowBounds(win->window, kWindowContentRgn, &bounds);
source\domino\system\plat\carbon\carbon_sys.c:282:    SetWindowBounds(win->window, kWindowContentRgn, &bounds);
source\domino\system\plat\carbon\carbon_sys.c:283:    win->width = w;
source\domino\system\plat\carbon\carbon_sys.c:284:    win->height = h;
source\domino\system\plat\carbon\carbon_sys.c:291:    if (!win || !win->window) {
source\domino\system\plat\carbon\carbon_sys.c:295:    GetWindowBounds(win->window, kWindowContentRgn, &bounds);
source\domino\system\plat\carbon\carbon_sys.c:296:    win->width = (int32_t)(bounds.right - bounds.left);
source\domino\system\plat\carbon\carbon_sys.c:297:    win->height = (int32_t)(bounds.bottom - bounds.top);
source\domino\system\plat\carbon\carbon_sys.c:300:        *w = win->width;
source\domino\system\plat\carbon\carbon_sys.c:303:        *h = win->height;
source\domino\system\plat\carbon\carbon_sys.c:312:    return (void*)win->window;
source\domino\system\plat\carbon\carbon_sys.c:395:                    ev.payload.mouse_move.dx = x - g_carbon.last_mouse_x;
source\domino\system\plat\carbon\carbon_sys.c:396:                    ev.payload.mouse_move.dy = y - g_carbon.last_mouse_y;
source\domino\system\plat\carbon\carbon_sys.c:474:            w = (int32_t)(bounds.right - bounds.left);
source\domino\system\plat\carbon\carbon_sys.c:475:            h = (int32_t)(bounds.bottom - bounds.top);
source\domino\system\plat\carbon\carbon_sys.c:477:            if (g_carbon.main_window && g_carbon.main_window->window == wref) {
source\domino\system\plat\carbon\carbon_sys.c:478:                g_carbon.main_window->width = w;
source\domino\system\plat\carbon\carbon_sys.c:479:                g_carbon.main_window->height = h;
source\domino\system\plat\carbon\carbon_sys.c:544:        len = buf_size - 1u;
source\domino\system\plat\carbon\carbon_sys.c:567:        if (i > 0u && dst[i - 1u] != '/' && i + 1u < cap) {
source\domino\system\plat\carbon\carbon_sys.c:736:        return -1;
source\domino\system\plat\carbon\carbon_sys.c:746:        return -1L;
source\domino\system\plat\carbon\carbon_sys.c:756:        return -1;
source\domino\system\plat\carbon\carbon_sys.c:779:    it->dir = dir;
source\domino\system\plat\carbon\carbon_sys.c:787:    if (!it || !out || !it->dir) {
source\domino\system\plat\carbon\carbon_sys.c:792:        ent = readdir(it->dir);
source\domino\system\plat\carbon\carbon_sys.c:796:        if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0) {
source\domino\system\plat\carbon\carbon_sys.c:802:    strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\carbon\carbon_sys.c:803:    out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\carbon\carbon_sys.c:804:    out->is_dir = false;
source\domino\system\plat\carbon\carbon_sys.c:806:    if (ent->d_type == DT_DIR) {
source\domino\system\plat\carbon\carbon_sys.c:807:        out->is_dir = true;
source\domino\system\plat\carbon\carbon_sys.c:818:    if (it->dir) {
source\domino\system\plat\carbon\carbon_sys.c:819:        closedir(it->dir);
source\domino\system\plat\carbon\carbon_sys.c:833:    return -1;
source\domino\system\plat\unix\posix\sys_posix.c:32:        char c = dst[i - 1];
source\domino\system\plat\unix\posix\sys_posix.c:57:    f->handle = fp;
source\domino\system\plat\unix\posix\sys_posix.c:66:    if (!f || !f->handle) return 0;
source\domino\system\plat\unix\posix\sys_posix.c:67:    return fread(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\unix\posix\sys_posix.c:75:    if (!f || !f->handle) return 0;
source\domino\system\plat\unix\posix\sys_posix.c:76:    return fwrite(buf, size, nmemb, (FILE*)f->handle);
source\domino\system\plat\unix\posix\sys_posix.c:83:    if (!f) return -1;
source\domino\system\plat\unix\posix\sys_posix.c:85:    if (f->handle) {
source\domino\system\plat\unix\posix\sys_posix.c:86:        r = fclose((FILE*)f->handle);
source\domino\system\plat\unix\posix\sys_posix.c:104:    if (!path || !path[0]) return -1;
source\domino\system\plat\unix\posix\sys_posix.c:105:    strncpy(tmp, path, sizeof(tmp) - 1);
source\domino\system\plat\unix\posix\sys_posix.c:106:    tmp[sizeof(tmp) - 1] = '\0';
source\domino\system\plat\unix\posix\sys_posix.c:132:    it->handle = d;
source\domino\system\plat\unix\posix\sys_posix.c:133:    strncpy(it->base_path, path, sizeof(it->base_path) - 1);
source\domino\system\plat\unix\posix\sys_posix.c:134:    it->base_path[sizeof(it->base_path) - 1] = '\0';
source\domino\system\plat\unix\posix\sys_posix.c:145:    if (!it || !it->handle || !name_out || cap == 0) return 0;
source\domino\system\plat\unix\posix\sys_posix.c:147:        ent = readdir((DIR*)it->handle);
source\domino\system\plat\unix\posix\sys_posix.c:151:        if (strcmp(ent->d_name, ".") == 0 || strcmp(ent->d_name, "..") == 0) {
source\domino\system\plat\unix\posix\sys_posix.c:154:        strncpy(name_out, ent->d_name, cap - 1);
source\domino\system\plat\unix\posix\sys_posix.c:155:        name_out[cap - 1] = '\0';
source\domino\system\plat\unix\posix\sys_posix.c:158:            if (ent->d_type == DT_DIR) {
source\domino\system\plat\unix\posix\sys_posix.c:160:            } else if (ent->d_type == DT_UNKNOWN) {
source\domino\system\plat\unix\posix\sys_posix.c:163:                posix_join(full, sizeof(full), it->base_path, ent->d_name);
source\domino\system\plat\unix\posix\sys_posix.c:175:            posix_join(full, sizeof(full), it->base_path, ent->d_name);
source\domino\system\plat\unix\posix\sys_posix.c:191:    if (it->handle) {
source\domino\system\plat\unix\posix\sys_posix.c:192:        closedir((DIR*)it->handle);
source\domino\system\plat\unix\posix\sys_posix.c:230:    if (!desc || !out_proc || !desc->path) return -1;
source\domino\system\plat\unix\posix\sys_posix.c:231:    if (posix_spawn(&pid, desc->path, NULL, NULL, (char* const*)desc->argv, environ) != 0) {
source\domino\system\plat\unix\posix\sys_posix.c:232:        return -1;
source\domino\system\plat\unix\posix\sys_posix.c:236:        return -1;
source\domino\system\plat\unix\posix\sys_posix.c:238:    (*out_proc)->handle = (void*)(long)pid;
source\domino\system\plat\unix\posix\sys_posix.c:239:    (*out_proc)->exit_code = -1;
source\domino\system\plat\unix\posix\sys_posix.c:250:    if (!proc) return -1;
source\domino\system\plat\unix\posix\sys_posix.c:251:    pid = (pid_t)(long)proc->handle;
source\domino\system\plat\unix\posix\sys_posix.c:253:        return -1;
source\domino\system\plat\unix\posix\sys_posix.c:256:        proc->exit_code = WEXITSTATUS(status);
source\domino\system\plat\unix\posix\sys_posix.c:258:        proc->exit_code = -1;
source\domino\system\plat\unix\posix\sys_posix.c:261:        *exit_code_out = proc->exit_code;
source\domino\system\plat\unix\posix\sys_posix.c:276:    if (!ctx) return -1;
source\domino\system\plat\unix\posix\sys_posix.c:277:    memset(&ctx->ops, 0, sizeof(ctx->ops));
source\domino\system\plat\unix\posix\sys_posix.c:278:    ctx->ops.fopen_fn = posix_fopen;
source\domino\system\plat\unix\posix\sys_posix.c:279:    ctx->ops.fread_fn = posix_fread;
source\domino\system\plat\unix\posix\sys_posix.c:280:    ctx->ops.fwrite_fn = posix_fwrite;
source\domino\system\plat\unix\posix\sys_posix.c:281:    ctx->ops.fclose_fn = posix_fclose;
source\domino\system\plat\unix\posix\sys_posix.c:282:    ctx->ops.file_exists_fn = posix_exists;
source\domino\system\plat\unix\posix\sys_posix.c:283:    ctx->ops.mkdirs_fn = posix_mkdirs;
source\domino\system\plat\unix\posix\sys_posix.c:284:    ctx->ops.dir_open_fn = posix_dir_open;
source\domino\system\plat\unix\posix\sys_posix.c:285:    ctx->ops.dir_next_fn = posix_dir_next;
source\domino\system\plat\unix\posix\sys_posix.c:286:    ctx->ops.dir_close_fn = posix_dir_close;
source\domino\system\plat\unix\posix\sys_posix.c:287:    ctx->ops.time_seconds_fn = posix_time_seconds;
source\domino\system\plat\unix\posix\sys_posix.c:288:    ctx->ops.time_millis_fn = posix_time_millis;
source\domino\system\plat\unix\posix\sys_posix.c:289:    ctx->ops.sleep_millis_fn = posix_sleep_millis;
source\domino\system\plat\unix\posix\sys_posix.c:290:    ctx->ops.process_spawn_fn = posix_process_spawn;
source\domino\system\plat\unix\posix\sys_posix.c:291:    ctx->ops.process_wait_fn = posix_process_wait;
source\domino\system\plat\unix\posix\sys_posix.c:292:    ctx->ops.process_destroy_fn = posix_process_destroy;
source\domino\system\plat\unix\posix\sys_posix.c:293:    ctx->backend_state = NULL;
source\domino\system\plat\unix\posix\sys_posix.c:294:    ctx->platform.has_fork = 1;
source\domino\system\plat\unix\posix\sys_posix.c:295:    ctx->platform.has_unicode = 1;
source\domino\system\plat\unix\posix\sys_posix.c:304:#else /* non-posix build */
source\domino\system\plat\unix\posix\sys_posix.c:309:    return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:137:    g_sdl1.width = surface->w;
source\domino\system\plat\sdl1\sdl1_sys.c:138:    g_sdl1.height = surface->h;
source\domino\system\plat\sdl1\sdl1_sys.c:147:        g_sdl1.main_window->surface = g_sdl1.screen;
source\domino\system\plat\sdl1\sdl1_sys.c:148:        g_sdl1.main_window->width = g_sdl1.width;
source\domino\system\plat\sdl1\sdl1_sys.c:149:        g_sdl1.main_window->height = g_sdl1.height;
source\domino\system\plat\sdl1\sdl1_sys.c:161:        len = buf_size - 1u;
source\domino\system\plat\sdl1\sdl1_sys.c:205:        if (i > 0u && dst[i - 1u] != '/' && dst[i - 1u] != '\\' && i + 1u < cap) {
source\domino\system\plat\sdl1\sdl1_sys.c:231:    while (len > 0u && (path[len - 1u] == '/' || path[len - 1u] == '\\')) {
source\domino\system\plat\sdl1\sdl1_sys.c:232:        len -= 1u;
source\domino\system\plat\sdl1\sdl1_sys.c:236:        c = path[len - 1u];
source\domino\system\plat\sdl1\sdl1_sys.c:240:        len -= 1u;
source\domino\system\plat\sdl1\sdl1_sys.c:251:        len = cap - 1u;
source\domino\system\plat\sdl1\sdl1_sys.c:282:        n = readlink("/proc/self/exe", tmp, sizeof(tmp) - 1u);
source\domino\system\plat\sdl1\sdl1_sys.c:371:    if (!desc || !desc->exe || !out || cap == 0u) {
source\domino\system\plat\sdl1\sdl1_sys.c:376:    if (desc->argv) {
source\domino\system\plat\sdl1\sdl1_sys.c:377:        argp = desc->argv;
source\domino\system\plat\sdl1\sdl1_sys.c:379:        local_args[0] = desc->exe;
source\domino\system\plat\sdl1\sdl1_sys.c:429:        out[cap - 1u] = '\0';
source\domino\system\plat\sdl1\sdl1_sys.c:515:    win->surface = g_sdl1.screen;
source\domino\system\plat\sdl1\sdl1_sys.c:516:    win->width = g_sdl1.width;
source\domino\system\plat\sdl1\sdl1_sys.c:517:    win->height = g_sdl1.height;
source\domino\system\plat\sdl1\sdl1_sys.c:518:    win->mode = local_desc.mode;
source\domino\system\plat\sdl1\sdl1_sys.c:540:    if (sdl1_apply_video_mode(win->width, win->height, mode)) {
source\domino\system\plat\sdl1\sdl1_sys.c:541:        win->mode = mode;
source\domino\system\plat\sdl1\sdl1_sys.c:550:    if (sdl1_apply_video_mode(w, h, win->mode)) {
source\domino\system\plat\sdl1\sdl1_sys.c:562:        win->width = g_sdl1.screen->w;
source\domino\system\plat\sdl1\sdl1_sys.c:563:        win->height = g_sdl1.screen->h;
source\domino\system\plat\sdl1\sdl1_sys.c:566:        *w = win->width;
source\domino\system\plat\sdl1\sdl1_sys.c:569:        *h = win->height;
source\domino\system\plat\sdl1\sdl1_sys.c:578:    return (void*)win->surface;
source\domino\system\plat\sdl1\sdl1_sys.c:597:                ev->type = DSYS_EVENT_QUIT;
source\domino\system\plat\sdl1\sdl1_sys.c:605:                                          g_sdl1.main_window->mode)) {
source\domino\system\plat\sdl1\sdl1_sys.c:610:                ev->type = DSYS_EVENT_WINDOW_RESIZED;
source\domino\system\plat\sdl1\sdl1_sys.c:611:                ev->payload.window.width = g_sdl1.width;
source\domino\system\plat\sdl1\sdl1_sys.c:612:                ev->payload.window.height = g_sdl1.height;
source\domino\system\plat\sdl1\sdl1_sys.c:619:                ev->type = (sdl_ev.type == SDL_KEYDOWN) ? DSYS_EVENT_KEY_DOWN : DSYS_EVENT_KEY_UP;
source\domino\system\plat\sdl1\sdl1_sys.c:620:                ev->payload.key.key = (int32_t)sdl_ev.key.keysym.sym;
source\domino\system\plat\sdl1\sdl1_sys.c:621:                ev->payload.key.repeat = false;
source\domino\system\plat\sdl1\sdl1_sys.c:627:                ev->type = DSYS_EVENT_MOUSE_MOVE;
source\domino\system\plat\sdl1\sdl1_sys.c:628:                ev->payload.mouse_move.x = sdl_ev.motion.x;
source\domino\system\plat\sdl1\sdl1_sys.c:629:                ev->payload.mouse_move.y = sdl_ev.motion.y;
source\domino\system\plat\sdl1\sdl1_sys.c:630:                ev->payload.mouse_move.dx = sdl_ev.motion.xrel;
source\domino\system\plat\sdl1\sdl1_sys.c:631:                ev->payload.mouse_move.dy = sdl_ev.motion.yrel;
source\domino\system\plat\sdl1\sdl1_sys.c:640:                    ev->type = DSYS_EVENT_MOUSE_WHEEL;
source\domino\system\plat\sdl1\sdl1_sys.c:641:                    ev->payload.mouse_wheel.delta_x = 0;
source\domino\system\plat\sdl1\sdl1_sys.c:642:                    ev->payload.mouse_wheel.delta_y = 0;
source\domino\system\plat\sdl1\sdl1_sys.c:644:                        ev->payload.mouse_wheel.delta_y = 1;
source\domino\system\plat\sdl1\sdl1_sys.c:646:                        ev->payload.mouse_wheel.delta_y = -1;
source\domino\system\plat\sdl1\sdl1_sys.c:648:                        ev->payload.mouse_wheel.delta_x = -1;
source\domino\system\plat\sdl1\sdl1_sys.c:650:                        ev->payload.mouse_wheel.delta_x = 1;
source\domino\system\plat\sdl1\sdl1_sys.c:654:                ev->type = DSYS_EVENT_MOUSE_BUTTON;
source\domino\system\plat\sdl1\sdl1_sys.c:655:                ev->payload.mouse_button.button = sdl_ev.button.button;
source\domino\system\plat\sdl1\sdl1_sys.c:656:                ev->payload.mouse_button.pressed = (sdl_ev.type == SDL_MOUSEBUTTONDOWN) ? true : false;
source\domino\system\plat\sdl1\sdl1_sys.c:657:                ev->payload.mouse_button.clicks = 1;
source\domino\system\plat\sdl1\sdl1_sys.c:799:        return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:809:        return -1L;
source\domino\system\plat\sdl1\sdl1_sys.c:819:        return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:847:        if (len == 0u || (base[len - 1u] != '/' && base[len - 1u] != '\\')) {
source\domino\system\plat\sdl1\sdl1_sys.c:854:        it->handle = FindFirstFileA(pattern, &it->data);
source\domino\system\plat\sdl1\sdl1_sys.c:855:        if (it->handle == INVALID_HANDLE_VALUE) {
source\domino\system\plat\sdl1\sdl1_sys.c:859:        it->first_pending = 1;
source\domino\system\plat\sdl1\sdl1_sys.c:862:    it->dir = opendir(base);
source\domino\system\plat\sdl1\sdl1_sys.c:863:    if (!it->dir) {
source\domino\system\plat\sdl1\sdl1_sys.c:881:        data = &it->data;
source\domino\system\plat\sdl1\sdl1_sys.c:884:            if (it->first_pending) {
source\domino\system\plat\sdl1\sdl1_sys.c:885:                it->first_pending = 0;
source\domino\system\plat\sdl1\sdl1_sys.c:887:                if (!FindNextFileA(it->handle, data)) {
source\domino\system\plat\sdl1\sdl1_sys.c:892:            if (!strcmp(data->cFileName, ".") || !strcmp(data->cFileName, "..")) {
source\domino\system\plat\sdl1\sdl1_sys.c:896:            strncpy(out->name, data->cFileName, sizeof(out->name) - 1u);
source\domino\system\plat\sdl1\sdl1_sys.c:897:            out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\sdl1\sdl1_sys.c:898:            out->is_dir = (data->dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) ? true : false;
source\domino\system\plat\sdl1\sdl1_sys.c:906:            ent = readdir(it->dir);
source\domino\system\plat\sdl1\sdl1_sys.c:910:            if (ent->d_name[0] == '.' &&
source\domino\system\plat\sdl1\sdl1_sys.c:911:                (ent->d_name[1] == '\0' ||
source\domino\system\plat\sdl1\sdl1_sys.c:912:                 (ent->d_name[1] == '.' && ent->d_name[2] == '\0'))) {
source\domino\system\plat\sdl1\sdl1_sys.c:916:            strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\sdl1\sdl1_sys.c:917:            out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\sdl1\sdl1_sys.c:918:            out->is_dir = false;
source\domino\system\plat\sdl1\sdl1_sys.c:920:            if (ent->d_type == DT_DIR) {
source\domino\system\plat\sdl1\sdl1_sys.c:921:                out->is_dir = true;
source\domino\system\plat\sdl1\sdl1_sys.c:922:            } else if (ent->d_type == DT_UNKNOWN) {
source\domino\system\plat\sdl1\sdl1_sys.c:923:                out->is_dir = false;
source\domino\system\plat\sdl1\sdl1_sys.c:939:    if (it->handle != INVALID_HANDLE_VALUE) {
source\domino\system\plat\sdl1\sdl1_sys.c:940:        FindClose(it->handle);
source\domino\system\plat\sdl1\sdl1_sys.c:943:    if (it->dir) {
source\domino\system\plat\sdl1\sdl1_sys.c:944:        closedir(it->dir);
source\domino\system\plat\sdl1\sdl1_sys.c:952:    if (!desc || !desc->exe) {
source\domino\system\plat\sdl1\sdl1_sys.c:990:        p->process = pi.hProcess;
source\domino\system\plat\sdl1\sdl1_sys.c:991:        p->thread = pi.hThread;
source\domino\system\plat\sdl1\sdl1_sys.c:1003:            if (desc->argv) {
source\domino\system\plat\sdl1\sdl1_sys.c:1004:                execvp(desc->exe, (char* const*)desc->argv);
source\domino\system\plat\sdl1\sdl1_sys.c:1007:                argv_local[0] = (char*)desc->exe;
source\domino\system\plat\sdl1\sdl1_sys.c:1009:                execvp(desc->exe, argv_local);
source\domino\system\plat\sdl1\sdl1_sys.c:1019:        p->pid = pid;
source\domino\system\plat\sdl1\sdl1_sys.c:1028:        return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:1036:        result = WaitForSingleObject(p->process, INFINITE);
source\domino\system\plat\sdl1\sdl1_sys.c:1038:            return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:1040:        if (!GetExitCodeProcess(p->process, &exit_code)) {
source\domino\system\plat\sdl1\sdl1_sys.c:1041:            return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:1049:        if (waitpid(p->pid, &status, 0) < 0) {
source\domino\system\plat\sdl1\sdl1_sys.c:1050:            return -1;
source\domino\system\plat\sdl1\sdl1_sys.c:1064:    if (p->thread) {
source\domino\system\plat\sdl1\sdl1_sys.c:1065:        CloseHandle(p->thread);
source\domino\system\plat\sdl1\sdl1_sys.c:1067:    if (p->process) {
source\domino\system\plat\sdl1\sdl1_sys.c:1068:        CloseHandle(p->process);
source\domino\sim\sim.c:44:    u32 count = w->width * w->height;
source\domino\sim\sim.c:47:        w->tile_type[i] = (u16)(d_rng_next_u32(&w->rng) & 3u);
source\domino\sim\sim.c:49:            u32 r = d_rng_next_u32(&w->rng);
source\domino\sim\sim.c:51:            base -= 128;
source\domino\sim\sim.c:52:            w->tile_height[i] = (q24_8)(base << Q24_8_FRAC_BITS);
source\domino\sim\sim.c:63:    if (cfg->width == 0 || cfg->height == 0) return (d_world*)0;
source\domino\sim\sim.c:64:    if (cfg->width > 1024 || cfg->height > 1024) return (d_world*)0;
source\domino\sim\sim.c:65:    if (cfg->width > (0xFFFFFFFFu / cfg->height)) return (d_world*)0; /* overflow guard */
source\domino\sim\sim.c:67:    meta.seed = cfg->seed;
source\domino\sim\sim.c:68:    meta.world_size_m = cfg->width;
source\domino\sim\sim.c:69:    meta.vertical_min = d_q16_16_from_int(-2000);
source\domino\sim\sim.c:82:    w->width = cfg->width;
source\domino\sim\sim.c:83:    w->height = cfg->height;
source\domino\sim\sim.c:84:    w->tick_count = 0u;
source\domino\sim\sim.c:85:    d_rng_seed(&w->rng, cfg->seed);
source\domino\sim\sim.c:87:    count = w->width * w->height;
source\domino\sim\sim.c:88:    w->tile_type = (u16*)malloc(sizeof(u16) * count);
source\domino\sim\sim.c:89:    w->tile_height = (q24_8*)malloc(sizeof(q24_8) * count);
source\domino\sim\sim.c:90:    if (!w->tile_type || !w->tile_height) {
source\domino\sim\sim.c:105:    count = w->width * w->height;
source\domino\sim\sim.c:107:        u32 r = d_rng_next_u32(&w->rng);
source\domino\sim\sim.c:108:        i32 delta = (i32)((r & 0x0Fu) - 8); /* -8..+7 */
source\domino\sim\sim.c:109:        q24_8 dh = (q24_8)(delta << (Q24_8_FRAC_BITS - 4));
source\domino\sim\sim.c:110:        w->tile_height[i] = d_q24_8_add_saturate(w->tile_height[i], dh);
source\domino\sim\sim.c:112:            w->tile_type[i] = (u16)((w->tile_type[i] + 1u) & 3u);
source\domino\sim\sim.c:115:    w->tick_count += 1u;
source\domino\sim\sim.c:125:    count = w->width * w->height;
source\domino\sim\sim.c:127:    hash ^= (u32)(w->meta.seed & 0xFFFFFFFFu); hash *= 16777619u;
source\domino\sim\sim.c:128:    hash ^= w->width;    hash *= 16777619u;
source\domino\sim\sim.c:129:    hash ^= w->height;   hash *= 16777619u;
source\domino\sim\sim.c:130:    hash ^= w->tick_count; hash *= 16777619u;
source\domino\sim\sim.c:133:        hash ^= (u32)w->tile_type[i];
source\domino\sim\sim.c:137:        u32 v = (u32)w->tile_height[i];
source\domino\sim\sim.c:216:        return -1;
source\domino\sim\sim.c:221:    count = w->width * w->height;
source\domino\sim\sim.c:224:        return -1;
source\domino\sim\sim.c:229:        return -1;
source\domino\sim\sim.c:234:        return -1;
source\domino\sim\sim.c:239:        u32 seed32 = (u32)(w->meta.seed & 0xFFFFFFFFu);
source\domino\sim\sim.c:248:    memcpy(dst, &w->width, sizeof(u32));
source\domino\sim\sim.c:250:    memcpy(dst, &w->height, sizeof(u32));
source\domino\sim\sim.c:252:    memcpy(dst, &w->tick_count, sizeof(u32));
source\domino\sim\sim.c:262:        i32 theight = (i32)w->tile_height[i];
source\domino\sim\sim.c:263:        memcpy(dst, &w->tile_type[i], sizeof(u16));
source\domino\sim\sim.c:269:    out->ptr = buf;
source\domino\sim\sim.c:270:    out->len = total_len;
source\domino\sim\sim.c:285:        return -1;
source\domino\sim\sim.c:287:    if (in->len > 0u && !in->ptr) {
source\domino\sim\sim.c:288:        return -1;
source\domino\sim\sim.c:292:    while (offset + 6u <= in->len) {
source\domino\sim\sim.c:296:        memcpy(&tlv_type, in->ptr + offset, sizeof(u16));
source\domino\sim\sim.c:297:        memcpy(&tlv_len, in->ptr + offset + 2u, sizeof(u32));
source\domino\sim\sim.c:300:        if (tlv_len > in->len - offset) {
source\domino\sim\sim.c:301:            return -1;
source\domino\sim\sim.c:306:                return -1;
source\domino\sim\sim.c:308:            memcpy(&cfg_seed, in->ptr + offset, sizeof(u32));
source\domino\sim\sim.c:309:            memcpy(&cfg_width, in->ptr + offset + 4u, sizeof(u32));
source\domino\sim\sim.c:310:            memcpy(&cfg_height, in->ptr + offset + 8u, sizeof(u32));
source\domino\sim\sim.c:311:            memcpy(&loaded_tick, in->ptr + offset + 12u, sizeof(u32));
source\domino\sim\sim.c:312:            if (cfg_width != w->width || cfg_height != w->height) {
source\domino\sim\sim.c:313:                return -1;
source\domino\sim\sim.c:315:            w->meta.seed = cfg_seed;
source\domino\sim\sim.c:316:            d_rng_seed(&w->rng, w->meta.seed);
source\domino\sim\sim.c:323:                return -1;
source\domino\sim\sim.c:325:            count = w->width * w->height;
source\domino\sim\sim.c:327:                return -1;
source\domino\sim\sim.c:329:            p = in->ptr + offset;
source\domino\sim\sim.c:337:                w->tile_type[i] = ttype;
source\domino\sim\sim.c:338:                w->tile_height[i] = (q24_8)theight;
source\domino\sim\sim.c:345:    if (offset != in->len) {
source\domino\sim\sim.c:346:        return -1;
source\domino\sim\sim.c:349:        return -1;
source\domino\sim\sim.c:351:    w->tick_count = loaded_tick;
source\domino\sim\sim.c:358:        return -1;
source\domino\sim\sim.c:360:    if (container->len > 0u && !container->ptr) {
source\domino\sim\sim.c:361:        return -1;
source\domino\sim\sim.c:365:    while (offset + 8u <= container->len) {
source\domino\sim\sim.c:368:        memcpy(&tag, container->ptr + offset, sizeof(u32));
source\domino\sim\sim.c:369:        memcpy(&len, container->ptr + offset + 4u, sizeof(u32));
source\domino\sim\sim.c:371:        if (len > container->len - offset) {
source\domino\sim\sim.c:372:            return -1;
source\domino\sim\sim.c:375:            out_payload->ptr = container->ptr + offset;
source\domino\sim\sim.c:376:            out_payload->len = len;
source\domino\sim\sim.c:381:    return -1;
source\domino\sim\sim.c:387:        return -1;
source\domino\sim\sim.c:389:    if (payload->len > 0u && !payload->ptr) {
source\domino\sim\sim.c:390:        return -1;
source\domino\sim\sim.c:397:    while (offset + 6u <= payload->len) {
source\domino\sim\sim.c:400:        memcpy(&tlv_type, payload->ptr + offset, sizeof(u16));
source\domino\sim\sim.c:401:        memcpy(&tlv_len, payload->ptr + offset + 2u, sizeof(u32));
source\domino\sim\sim.c:403:        if (tlv_len > payload->len - offset) {
source\domino\sim\sim.c:404:            return -1;
source\domino\sim\sim.c:408:                return -1;
source\domino\sim\sim.c:410:            memcpy(&out_cfg->seed, payload->ptr + offset, sizeof(u32));
source\domino\sim\sim.c:411:            memcpy(&out_cfg->width, payload->ptr + offset + 4u, sizeof(u32));
source\domino\sim\sim.c:412:            memcpy(&out_cfg->height, payload->ptr + offset + 8u, sizeof(u32));
source\domino\sim\sim.c:413:            memcpy(out_tick_count, payload->ptr + offset + 12u, sizeof(u32));
source\domino\sim\sim.c:418:    return -1;
source\domino\sim\sim.c:451:            w->tick_count = loaded_tick_count;
source\domino\sim\sim.c:457:                w->tile_type[i] = ttype;
source\domino\sim\sim.c:458:                w->tile_height[i] = (q24_8)theight;
source\domino\sim\sim.c:499:    data_len = (u32)(file_end - payload_start);
source\domino\sim\sim.c:532:    w->tick_count = loaded_tick;
source\domino\system\plat\unix\posix\posix_headless\dom_platform_posix_headless.h:11:/* CLI-only platform stub: no window system. */
source\domino\system\core\base\core_rng.c:7:    return (x << k) | (x >> (64 - k));
source\domino\system\core\base\core_rng.c:24:    rng->s0 = splitmix64_next(&sm_state);
source\domino\system\core\base\core_rng.c:25:    rng->s1 = splitmix64_next(&sm_state);
source\domino\system\core\base\core_rng.c:26:    if (rng->s0 == 0 && rng->s1 == 0) {
source\domino\system\core\base\core_rng.c:27:        rng->s1 = 1; /* Avoid zero state */
source\domino\system\core\base\core_rng.c:37:    s0 = rng->s0;
source\domino\system\core\base\core_rng.c:38:    s1 = rng->s1;
source\domino\system\core\base\core_rng.c:41:    rng->s0 = rotl64(s0, 55) ^ s1 ^ (s1 << 14);
source\domino\system\core\base\core_rng.c:42:    rng->s1 = rotl64(s1, 36);
source\domino\system\core\base\core_rng.c:62:        if (reg->entries[i].used && reg->entries[i].id == id) {
source\domino\system\core\base\core_rng.c:63:            return &reg->entries[i].state;
source\domino\system\core\base\core_rng.c:70:        if (!reg->entries[i].used) {
source\domino\system\core\base\core_rng.c:71:            reg->entries[i].used = TRUE;
source\domino\system\core\base\core_rng.c:72:            reg->entries[i].id = id;
source\domino\system\core\base\core_rng.c:73:            rng_seed(&reg->entries[i].state, id);
source\domino\system\core\base\core_rng.c:74:            return &reg->entries[i].state;
source\domino\system\plat\sdl2\sdl2_sys.c:78:        if (cur->window_id == id) {
source\domino\system\plat\sdl2\sdl2_sys.c:81:        cur = cur->next;
source\domino\system\plat\sdl2\sdl2_sys.c:91:    win->next = g_window_list;
source\domino\system\plat\sdl2\sdl2_sys.c:105:                prev->next = cur->next;
source\domino\system\plat\sdl2\sdl2_sys.c:107:                g_window_list = cur->next;
source\domino\system\plat\sdl2\sdl2_sys.c:112:        cur = cur->next;
source\domino\system\plat\sdl2\sdl2_sys.c:121:        win->width = w;
source\domino\system\plat\sdl2\sdl2_sys.c:122:        win->height = h;
source\domino\system\plat\sdl2\sdl2_sys.c:132:    switch (sdl_ev->type) {
source\domino\system\plat\sdl2\sdl2_sys.c:134:        ev->type = DSYS_EVENT_QUIT;
source\domino\system\plat\sdl2\sdl2_sys.c:138:        if (sdl_ev->window.event == SDL_WINDOWEVENT_RESIZED ||
source\domino\system\plat\sdl2\sdl2_sys.c:139:            sdl_ev->window.event == SDL_WINDOWEVENT_SIZE_CHANGED) {
source\domino\system\plat\sdl2\sdl2_sys.c:140:            ev->type = DSYS_EVENT_WINDOW_RESIZED;
source\domino\system\plat\sdl2\sdl2_sys.c:141:            ev->payload.window.width = sdl_ev->window.data1;
source\domino\system\plat\sdl2\sdl2_sys.c:142:            ev->payload.window.height = sdl_ev->window.data2;
source\domino\system\plat\sdl2\sdl2_sys.c:143:            sdl2_update_window_size(sdl_ev->window.windowID,
source\domino\system\plat\sdl2\sdl2_sys.c:144:                                    sdl_ev->window.data1,
source\domino\system\plat\sdl2\sdl2_sys.c:145:                                    sdl_ev->window.data2);
source\domino\system\plat\sdl2\sdl2_sys.c:152:        ev->type = (sdl_ev->type == SDL_KEYDOWN) ? DSYS_EVENT_KEY_DOWN : DSYS_EVENT_KEY_UP;
source\domino\system\plat\sdl2\sdl2_sys.c:153:        ev->payload.key.key = (int32_t)sdl_ev->key.keysym.sym;
source\domino\system\plat\sdl2\sdl2_sys.c:154:        ev->payload.key.repeat = sdl_ev->key.repeat ? true : false;
source\domino\system\plat\sdl2\sdl2_sys.c:158:        ev->type = DSYS_EVENT_TEXT_INPUT;
source\domino\system\plat\sdl2\sdl2_sys.c:159:        memset(ev->payload.text.text, 0, sizeof(ev->payload.text.text));
source\domino\system\plat\sdl2\sdl2_sys.c:160:        strncpy(ev->payload.text.text, sdl_ev->text.text, sizeof(ev->payload.text.text) - 1u);
source\domino\system\plat\sdl2\sdl2_sys.c:164:        ev->type = DSYS_EVENT_MOUSE_MOVE;
source\domino\system\plat\sdl2\sdl2_sys.c:165:        ev->payload.mouse_move.x = sdl_ev->motion.x;
source\domino\system\plat\sdl2\sdl2_sys.c:166:        ev->payload.mouse_move.y = sdl_ev->motion.y;
source\domino\system\plat\sdl2\sdl2_sys.c:167:        ev->payload.mouse_move.dx = sdl_ev->motion.xrel;
source\domino\system\plat\sdl2\sdl2_sys.c:168:        ev->payload.mouse_move.dy = sdl_ev->motion.yrel;
source\domino\system\plat\sdl2\sdl2_sys.c:173:        ev->type = DSYS_EVENT_MOUSE_BUTTON;
source\domino\system\plat\sdl2\sdl2_sys.c:174:        ev->payload.mouse_button.button = sdl_ev->button.button;
source\domino\system\plat\sdl2\sdl2_sys.c:175:        ev->payload.mouse_button.pressed = (sdl_ev->type == SDL_MOUSEBUTTONDOWN) ? true : false;
source\domino\system\plat\sdl2\sdl2_sys.c:176:        ev->payload.mouse_button.clicks = sdl_ev->button.clicks;
source\domino\system\plat\sdl2\sdl2_sys.c:180:        ev->type = DSYS_EVENT_MOUSE_WHEEL;
source\domino\system\plat\sdl2\sdl2_sys.c:181:        ev->payload.mouse_wheel.delta_x = sdl_ev->wheel.x;
source\domino\system\plat\sdl2\sdl2_sys.c:182:        ev->payload.mouse_wheel.delta_y = sdl_ev->wheel.y;
source\domino\system\plat\sdl2\sdl2_sys.c:183:        if (sdl_ev->wheel.direction == SDL_MOUSEWHEEL_FLIPPED) {
source\domino\system\plat\sdl2\sdl2_sys.c:184:            ev->payload.mouse_wheel.delta_x = -ev->payload.mouse_wheel.delta_x;
source\domino\system\plat\sdl2\sdl2_sys.c:185:            ev->payload.mouse_wheel.delta_y = -ev->payload.mouse_wheel.delta_y;
source\domino\system\plat\sdl2\sdl2_sys.c:213:        next = cur->next;
source\domino\system\plat\sdl2\sdl2_sys.c:214:        if (cur->native_handle) {
source\domino\system\plat\sdl2\sdl2_sys.c:215:            SDL_DestroyWindow((SDL_Window*)cur->native_handle);
source\domino\system\plat\sdl2\sdl2_sys.c:292:    win->native_handle = sdl_win;
source\domino\system\plat\sdl2\sdl2_sys.c:293:    win->width = w;
source\domino\system\plat\sdl2\sdl2_sys.c:294:    win->height = h;
source\domino\system\plat\sdl2\sdl2_sys.c:295:    win->mode = local_desc.mode;
source\domino\system\plat\sdl2\sdl2_sys.c:296:    win->window_id = SDL_GetWindowID(sdl_win);
source\domino\system\plat\sdl2\sdl2_sys.c:297:    win->next = NULL;
source\domino\system\plat\sdl2\sdl2_sys.c:309:    if (win->native_handle) {
source\domino\system\plat\sdl2\sdl2_sys.c:310:        SDL_DestroyWindow((SDL_Window*)win->native_handle);
source\domino\system\plat\sdl2\sdl2_sys.c:318:    if (!win || !win->native_handle) {
source\domino\system\plat\sdl2\sdl2_sys.c:336:    SDL_SetWindowFullscreen((SDL_Window*)win->native_handle, flags);
source\domino\system\plat\sdl2\sdl2_sys.c:337:    win->mode = mode;
source\domino\system\plat\sdl2\sdl2_sys.c:342:    if (!win || !win->native_handle) {
source\domino\system\plat\sdl2\sdl2_sys.c:345:    SDL_SetWindowSize((SDL_Window*)win->native_handle, w, h);
source\domino\system\plat\sdl2\sdl2_sys.c:346:    win->width = w;
source\domino\system\plat\sdl2\sdl2_sys.c:347:    win->height = h;
source\domino\system\plat\sdl2\sdl2_sys.c:355:    if (!win || !win->native_handle) {
source\domino\system\plat\sdl2\sdl2_sys.c:359:    rw = win->width;
source\domino\system\plat\sdl2\sdl2_sys.c:360:    rh = win->height;
source\domino\system\plat\sdl2\sdl2_sys.c:361:    SDL_GetWindowSize((SDL_Window*)win->native_handle, &rw, &rh);
source\domino\system\plat\sdl2\sdl2_sys.c:362:    win->width = rw;
source\domino\system\plat\sdl2\sdl2_sys.c:363:    win->height = rh;
source\domino\system\plat\sdl2\sdl2_sys.c:378:    return win->native_handle;
source\domino\system\plat\sdl2\sdl2_sys.c:406:        len = buf_size - 1u;
source\domino\system\plat\sdl2\sdl2_sys.c:508:        return -1;
source\domino\system\plat\sdl2\sdl2_sys.c:518:        return -1L;
source\domino\system\plat\sdl2\sdl2_sys.c:528:        return -1;
source\domino\system\plat\sdl2\sdl2_sys.c:551:        if (len + 3u >= sizeof(it->pattern)) {
source\domino\system\plat\sdl2\sdl2_sys.c:555:        memcpy(it->pattern, path, len);
source\domino\system\plat\sdl2\sdl2_sys.c:556:        if (len == 0u || (path[len - 1u] != '/' && path[len - 1u] != '\\')) {
source\domino\system\plat\sdl2\sdl2_sys.c:557:            it->pattern[len] = '\\';
source\domino\system\plat\sdl2\sdl2_sys.c:560:        it->pattern[len] = '*';
source\domino\system\plat\sdl2\sdl2_sys.c:561:        it->pattern[len + 1u] = '\0';
source\domino\system\plat\sdl2\sdl2_sys.c:562:        it->handle = _findfirst(it->pattern, &it->data);
source\domino\system\plat\sdl2\sdl2_sys.c:563:        if (it->handle == -1) {
source\domino\system\plat\sdl2\sdl2_sys.c:567:        it->first_pending = 1;
source\domino\system\plat\sdl2\sdl2_sys.c:584:        it->dir = dir;
source\domino\system\plat\sdl2\sdl2_sys.c:586:        if (len >= sizeof(it->base)) {
source\domino\system\plat\sdl2\sdl2_sys.c:587:            len = sizeof(it->base) - 1u;
source\domino\system\plat\sdl2\sdl2_sys.c:589:        memcpy(it->base, path, len);
source\domino\system\plat\sdl2\sdl2_sys.c:590:        it->base[len] = '\0';
source\domino\system\plat\sdl2\sdl2_sys.c:606:        if (it->first_pending) {
source\domino\system\plat\sdl2\sdl2_sys.c:607:            it->first_pending = 0;
source\domino\system\plat\sdl2\sdl2_sys.c:610:            res = _findnext(it->handle, &it->data);
source\domino\system\plat\sdl2\sdl2_sys.c:616:        strncpy(out->name, it->data.name, sizeof(out->name) - 1u);
source\domino\system\plat\sdl2\sdl2_sys.c:617:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\sdl2\sdl2_sys.c:618:        out->is_dir = (it->data.attrib & _A_SUBDIR) != 0 ? true : false;
source\domino\system\plat\sdl2\sdl2_sys.c:629:        ent = readdir(it->dir);
source\domino\system\plat\sdl2\sdl2_sys.c:634:        strncpy(out->name, ent->d_name, sizeof(out->name) - 1u);
source\domino\system\plat\sdl2\sdl2_sys.c:635:        out->name[sizeof(out->name) - 1u] = '\0';
source\domino\system\plat\sdl2\sdl2_sys.c:637:        out->is_dir = false;
source\domino\system\plat\sdl2\sdl2_sys.c:638:        base_len = strlen(it->base);
source\domino\system\plat\sdl2\sdl2_sys.c:639:        name_len = strlen(out->name);
source\domino\system\plat\sdl2\sdl2_sys.c:641:            memcpy(full_path, it->base, base_len);
source\domino\system\plat\sdl2\sdl2_sys.c:642:            if (base_len > 0u && full_path[base_len - 1u] != '/') {
source\domino\system\plat\sdl2\sdl2_sys.c:646:            memcpy(full_path + base_len, out->name, name_len);
source\domino\system\plat\sdl2\sdl2_sys.c:649:                out->is_dir = true;
source\domino\system\plat\sdl2\sdl2_sys.c:664:    if (it->handle != -1) {
source\domino\system\plat\sdl2\sdl2_sys.c:665:        _findclose(it->handle);
source\domino\system\plat\sdl2\sdl2_sys.c:668:    if (it->dir) {
source\domino\system\plat\sdl2\sdl2_sys.c:669:        closedir(it->dir);
source\domino\system\plat\sdl2\sdl2_sys.c:684:    return -1;
source\domino\sim\_legacy\core_sim\world_surface.c:8:    u32 hx = (u32)key->gx * 73856093U;
source\domino\sim\_legacy\core_sim\world_surface.c:9:    u32 hy = (u32)key->gy * 19349663U;
source\domino\sim\_legacy\core_sim\world_surface.c:10:    u32 hz = (u32)key->gz * 83492791U;
source\domino\sim\_legacy\core_sim\world_surface.c:16:    return (a->gx == b->gx) && (a->gy == b->gy) && (a->gz == b->gz);
source\domino\sim\_legacy\core_sim\world_surface.c:29:    s->surface_id = surface_id;
source\domino\sim\_legacy\core_sim\world_surface.c:30:    s->seed = seed;
source\domino\sim\_legacy\core_sim\world_surface.c:31:    s->mat_reg = mreg;
source\domino\sim\_legacy\core_sim\world_surface.c:32:    s->vol_reg = vreg;
source\domino\sim\_legacy\core_sim\world_surface.c:33:    s->recipe_reg = rreg;
source\domino\sim\_legacy\core_sim\world_surface.c:34:    s->recipe_id = recipe;
source\domino\sim\_legacy\core_sim\world_surface.c:36:    rng_seed(&s->rng_weather, seed ^ 0x1ULL);
source\domino\sim\_legacy\core_sim\world_surface.c:37:    rng_seed(&s->rng_hydro, seed ^ 0x2ULL);
source\domino\sim\_legacy\core_sim\world_surface.c:38:    rng_seed(&s->rng_misc, seed ^ 0x3ULL);
source\domino\sim\_legacy\core_sim\world_surface.c:39:    ecs_init(&s->ecs, 16);
source\domino\sim\_legacy\core_sim\world_surface.c:47:        if (s->chunks[i].used && s->chunks[i].chunk) {
source\domino\sim\_legacy\core_sim\world_surface.c:48:            chunk_runtime_free(s->chunks[i].chunk);
source\domino\sim\_legacy\core_sim\world_surface.c:49:            free(s->chunks[i].chunk);
source\domino\sim\_legacy\core_sim\world_surface.c:50:            s->chunks[i].chunk = NULL;
source\domino\sim\_legacy\core_sim\world_surface.c:51:            s->chunks[i].used = FALSE;
source\domino\sim\_legacy\core_sim\world_surface.c:54:    ecs_free(&s->ecs);
source\domino\sim\_legacy\core_sim\world_surface.c:62:    start = hash_chunk_key(key) & (SURFACE_CHUNK_TABLE_SIZE - 1U);
source\domino\sim\_legacy\core_sim\world_surface.c:65:        ChunkTableEntry *entry = &s->chunks[idx];
source\domino\sim\_legacy\core_sim\world_surface.c:66:        if (entry->used) {
source\domino\sim\_legacy\core_sim\world_surface.c:67:            if (entry->chunk && keys_equal(&entry->key, key)) {
source\domino\sim\_legacy\core_sim\world_surface.c:68:                return entry->chunk;
source\domino\sim\_legacy\core_sim\world_surface.c:76:            entry->used = TRUE;
source\domino\sim\_legacy\core_sim\world_surface.c:77:            entry->key = *key;
source\domino\sim\_legacy\core_sim\world_surface.c:78:            entry->chunk = chunk;
source\domino\sim\_legacy\core_sim\world_surface.c:83:        idx = (idx + 1U) & (SURFACE_CHUNK_TABLE_SIZE - 1U);
source\domino\sim\d_sim_hash.h:15:/* Compute bit-stable hash of all active world state. */
source\domino\sim\d_sim_hash.h:18:/* Optional chunk-level hashing. */
source\domino\sim\_legacy\core_sim\registry_recipe.c:11:        reg->recipes = (RecipeDesc *)malloc(sizeof(RecipeDesc) * capacity);
source\domino\sim\_legacy\core_sim\registry_recipe.c:12:        if (reg->recipes) {
source\domino\sim\_legacy\core_sim\registry_recipe.c:13:            reg->capacity = capacity;
source\domino\sim\_legacy\core_sim\registry_recipe.c:21:    if (reg->recipes) {
source\domino\sim\_legacy\core_sim\registry_recipe.c:22:        free(reg->recipes);
source\domino\sim\_legacy\core_sim\registry_recipe.c:23:        reg->recipes = NULL;
source\domino\sim\_legacy\core_sim\registry_recipe.c:25:    reg->capacity = 0;
source\domino\sim\_legacy\core_sim\registry_recipe.c:26:    reg->count = 0;
source\domino\sim\_legacy\core_sim\registry_recipe.c:33:    if (reg->count >= reg->capacity) {
source\domino\sim\_legacy\core_sim\registry_recipe.c:34:        u16 new_cap = (reg->capacity == 0) ? 4U : (u16)(reg->capacity * 2U);
source\domino\sim\_legacy\core_sim\registry_recipe.c:35:        RecipeDesc *new_arr = (RecipeDesc *)realloc(reg->recipes, sizeof(RecipeDesc) * new_cap);
source\domino\sim\_legacy\core_sim\registry_recipe.c:39:        reg->recipes = new_arr;
source\domino\sim\_legacy\core_sim\registry_recipe.c:40:        reg->capacity = new_cap;
source\domino\sim\_legacy\core_sim\registry_recipe.c:42:    slot = &reg->recipes[reg->count];
source\domino\sim\_legacy\core_sim\registry_recipe.c:44:    slot->id = reg->count;
source\domino\sim\_legacy\core_sim\registry_recipe.c:45:    reg->count++;
source\domino\sim\_legacy\core_sim\registry_recipe.c:46:    return slot->id;
source\domino\sim\_legacy\core_sim\registry_recipe.c:52:    if (id >= reg->count) return NULL;
source\domino\sim\_legacy\core_sim\registry_recipe.c:53:    return &reg->recipes[id];
source\domino\sim\_legacy\core_sim\world_geom.c:25:    if (surface && surface->recipe_reg) {
source\domino\sim\_legacy\core_sim\world_geom.c:26:        recipe = recipe_get(surface->recipe_reg, surface->recipe_id);
source\domino\sim\_legacy\core_sim\world_geom.c:28:            base_height = recipe->base_height_m;
source\domino\sim\_legacy\core_sim\world_geom.c:29:            height_range = recipe->height_range_m;
source\domino\sim\_legacy\core_sim\world_geom.c:32:    cell_x = ((u32)pos->sx << 16) | (u32)world_local_meter_x(pos);
source\domino\sim\_legacy\core_sim\world_geom.c:33:    cell_y = ((u32)pos->sy << 16) | (u32)world_local_meter_y(pos);
source\domino\sim\_legacy\core_sim\world_geom.c:34:    h = hash_coords(cell_x >> 4, cell_y >> 4, (u32)(surface ? surface->seed : 0U));
source\domino\sim\_legacy\core_sim\world_geom.c:46:    phi = pos->z - terrain_z;
source\domino\sim\_legacy\core_sim\world_geom.c:47:    out->phi = phi;
source\domino\sim\_legacy\core_sim\world_geom.c:48:    out->mat_id = (phi < 0) ? 1 : 0; /* 1 = ground, 0 = air */
source\domino\sim\_legacy\core_sim\world_chunk.c:12:    if (chunk->entity_capacity >= needed) {
source\domino\sim\_legacy\core_sim\world_chunk.c:15:    new_cap = (chunk->entity_capacity == 0) ? 4U : (chunk->entity_capacity * 2U);
source\domino\sim\_legacy\core_sim\world_chunk.c:19:    new_entities = (EntityId *)realloc(chunk->entities, sizeof(EntityId) * new_cap);
source\domino\sim\_legacy\core_sim\world_chunk.c:23:    chunk->entities = new_entities;
source\domino\sim\_legacy\core_sim\world_chunk.c:24:    chunk->entity_capacity = new_cap;
source\domino\sim\_legacy\core_sim\world_chunk.c:33:        chunk->key = *key;
source\domino\sim\_legacy\core_sim\world_chunk.c:35:    chunk->terrain.valid = FALSE;
source\domino\sim\_legacy\core_sim\world_chunk.c:41:    if (chunk->entities) {
source\domino\sim\_legacy\core_sim\world_chunk.c:42:        free(chunk->entities);
source\domino\sim\_legacy\core_sim\world_chunk.c:43:        chunk->entities = NULL;
source\domino\sim\_legacy\core_sim\world_chunk.c:45:    if (chunk->volumes) {
source\domino\sim\_legacy\core_sim\world_chunk.c:46:        free(chunk->volumes);
source\domino\sim\_legacy\core_sim\world_chunk.c:47:        chunk->volumes = NULL;
source\domino\sim\_legacy\core_sim\world_chunk.c:49:    chunk->entity_capacity = 0;
source\domino\sim\_legacy\core_sim\world_chunk.c:50:    chunk->entity_count = 0;
source\domino\sim\_legacy\core_sim\world_chunk.c:51:    chunk->volume_capacity = 0;
source\domino\sim\_legacy\core_sim\world_chunk.c:52:    chunk->volume_count = 0;
source\domino\sim\_legacy\core_sim\world_chunk.c:58:    if (!ensure_entity_capacity(chunk, chunk->entity_count + 1U)) {
source\domino\sim\_legacy\core_sim\world_chunk.c:61:    chunk->entities[chunk->entity_count++] = id;
source\domino\sim\_legacy\core_sim\world_chunk.c:62:    chunk->dirty_flags |= CHUNK_DIRTY_TERRAIN;
source\domino\sim\_legacy\core_sim\sim_world.c:45:    ws->raycast = ws_raycast;
source\domino\sim\_legacy\core_sim\sim_world.c:46:    ws->overlap_sphere = ws_overlap_sphere;
source\domino\sim\_legacy\core_sim\sim_world.c:47:    ws->sample_geom = ws_sample_geom;
source\domino\sim\_legacy\core_sim\sim_world.c:48:    ws->sample_medium = ws_sample_medium;
source\domino\sim\_legacy\core_sim\sim_world.c:49:    ws->sample_field_scalar = ws_sample_field_scalar;
source\domino\sim\_legacy\core_sim\sim_world.c:50:    ws->sample_field_vector = ws_sample_field_vector;
source\domino\sim\_legacy\core_sim\registry_material.c:11:        reg->materials = (MaterialDesc *)malloc(sizeof(MaterialDesc) * capacity);
source\domino\sim\_legacy\core_sim\registry_material.c:12:        if (reg->materials) {
source\domino\sim\_legacy\core_sim\registry_material.c:13:            reg->capacity = capacity;
source\domino\sim\_legacy\core_sim\registry_material.c:21:    if (reg->materials) {
source\domino\sim\_legacy\core_sim\registry_material.c:22:        free(reg->materials);
source\domino\sim\_legacy\core_sim\registry_material.c:23:        reg->materials = NULL;
source\domino\sim\_legacy\core_sim\registry_material.c:25:    reg->capacity = 0;
source\domino\sim\_legacy\core_sim\registry_material.c:26:    reg->count = 0;
source\domino\sim\_legacy\core_sim\registry_material.c:33:    if (reg->count >= reg->capacity) {
source\domino\sim\_legacy\core_sim\registry_material.c:34:        u16 new_cap = (reg->capacity == 0) ? 4U : (u16)(reg->capacity * 2U);
source\domino\sim\_legacy\core_sim\registry_material.c:35:        MaterialDesc *new_arr = (MaterialDesc *)realloc(reg->materials, sizeof(MaterialDesc) * new_cap);
source\domino\sim\_legacy\core_sim\registry_material.c:39:        reg->materials = new_arr;
source\domino\sim\_legacy\core_sim\registry_material.c:40:        reg->capacity = new_cap;
source\domino\sim\_legacy\core_sim\registry_material.c:42:    slot = &reg->materials[reg->count];
source\domino\sim\_legacy\core_sim\registry_material.c:44:    slot->id = reg->count;
source\domino\sim\_legacy\core_sim\registry_material.c:45:    reg->count++;
source\domino\sim\_legacy\core_sim\registry_material.c:46:    return slot->id;
source\domino\sim\_legacy\core_sim\registry_material.c:52:    if (id >= reg->count) return NULL;
source\domino\sim\_legacy\core_sim\registry_material.c:53:    return &reg->materials[id];
source\domino\system\core\base\dom_core\dom_core_mem.c:31:    arena->base = (dom_u8 *)buffer;
source\domino\system\core\base\dom_core\dom_core_mem.c:32:    arena->capacity = size;
source\domino\system\core\base\dom_core\dom_core_mem.c:33:    arena->used = 0;
source\domino\system\core\base\dom_core\dom_core_mem.c:39:    dom_u32 next = arena->used + size;
source\domino\system\core\base\dom_core\dom_core_mem.c:40:    if (next > arena->capacity) return 0;
source\domino\system\core\base\dom_core\dom_core_mem.c:42:        void *ptr = arena->base + arena->used;
source\domino\system\core\base\dom_core\dom_core_mem.c:43:        arena->used = next;
source\domino\system\core\base\dom_core\dom_core_mem.c:57:    if (arena) arena->used = 0;
source\domino\system\core\base\dom_core\dom_core_mem.c:65:        return rem ? (value + (align - rem)) : value;
source\domino\system\core\base\dom_core\dom_core_mem.c:72:    return value - (value % align);
source\domino\system\core\base\dom_core\dom_core_id.h:6:/* Entity handle: 32-bit index + 32-bit generation */
source\domino\sim\_legacy\core_sim\world_addr.h:13:#define WORLD_Z_MIN_METERS     (-2048)
source\domino\sim\_legacy\core_sim\sim_systems.c:13:    ecs_tick(&surface->ecs, dt);
source\domino\sim\_legacy\core_sim\world_fields.c:22:    u32 cell_x = ((u32)pos->sx << 16) | (u32)world_local_meter_x(pos);
source\domino\sim\_legacy\core_sim\world_fields.c:23:    u32 cell_y = ((u32)pos->sy << 16) | (u32)world_local_meter_y(pos);
source\domino\sim\_legacy\core_sim\world_fields.c:24:    u32 h = hash_coords(cell_x >> 4, cell_y >> 4, (u32)(surface ? surface->seed : 0U));
source\domino\sim\_legacy\core_sim\world_fields.c:25:    if (surface && surface->recipe_reg) {
source\domino\sim\_legacy\core_sim\world_fields.c:26:        recipe = recipe_get(surface->recipe_reg, surface->recipe_id);
source\domino\sim\_legacy\core_sim\world_fields.c:28:            base_height = recipe->base_height_m;
source\domino\sim\_legacy\core_sim\world_fields.c:29:            height_range = recipe->height_range_m;
source\domino\sim\_legacy\core_sim\world_fields.c:39:        out->value = fix32_from_int(evaluate_height(surface, pos));
source\domino\sim\_legacy\core_sim\world_fields.c:42:        out->value = fix32_from_int(280); /* Stub: 280K */
source\domino\sim\_legacy\core_sim\world_fields.c:54:    out->x = 0;
source\domino\sim\_legacy\core_sim\world_fields.c:55:    out->y = 0;
source\domino\sim\_legacy\core_sim\world_fields.c:56:    out->z = 0;
source\domino\system\core\base\dom_core\dom_core_rng.c:3:/* Helper to build a 64-bit constant without C99 long long literals. */
source\domino\system\core\base\dom_core\dom_core_rng.c:9:    rng->s0 = seed;
source\domino\system\core\base\dom_core\dom_core_rng.c:10:    rng->s1 = seed ^ DOM_U64_CONST(0x9E3779B9u, 0x7F4A7C15u);
source\domino\system\core\base\dom_core\dom_core_rng.c:16:    rng->s0 += DOM_U64_CONST(0x9E3779B9u, 0x7F4A7C15u);
source\domino\system\core\base\dom_core\dom_core_rng.c:17:    return (dom_u32)(rng->s0 >> 32);
source\domino\system\core\base\dom_core\dom_core_rng.c:23:    rng->s0 += DOM_U64_CONST(0x9E3779B9u, 0x7F4A7C15u);
source\domino\system\core\base\dom_core\dom_core_rng.c:24:    return rng->s0 ^ rng->s1;
source\domino\system\core\base\dom_core\dom_core_rng.c:31:        dom_u32 span = (dom_u32)(hi - lo + 1);
source\domino\sim\_legacy\core_sim\ecs.c:10:    if (ecs->capacity >= needed) {
source\domino\sim\_legacy\core_sim\ecs.c:13:    new_cap = (ecs->capacity == 0) ? 8U : (ecs->capacity * 2U);
source\domino\sim\_legacy\core_sim\ecs.c:17:    new_entities = (Entity *)realloc(ecs->entities, sizeof(Entity) * new_cap);
source\domino\sim\_legacy\core_sim\ecs.c:21:    ecs->entities = new_entities;
source\domino\sim\_legacy\core_sim\ecs.c:22:    ecs->capacity = new_cap;
source\domino\sim\_legacy\core_sim\ecs.c:30:    ecs->next_id = 1;
source\domino\sim\_legacy\core_sim\ecs.c:32:        ecs->entities = (Entity *)malloc(sizeof(Entity) * initial_capacity);
source\domino\sim\_legacy\core_sim\ecs.c:33:        if (ecs->entities) {
source\domino\sim\_legacy\core_sim\ecs.c:34:            ecs->capacity = initial_capacity;
source\domino\sim\_legacy\core_sim\ecs.c:42:    if (ecs->entities) {
source\domino\sim\_legacy\core_sim\ecs.c:43:        free(ecs->entities);
source\domino\sim\_legacy\core_sim\ecs.c:44:        ecs->entities = NULL;
source\domino\sim\_legacy\core_sim\ecs.c:46:    ecs->capacity = 0;
source\domino\sim\_legacy\core_sim\ecs.c:47:    ecs->count = 0;
source\domino\sim\_legacy\core_sim\ecs.c:48:    ecs->next_id = 1;
source\domino\sim\_legacy\core_sim\ecs.c:55:    if (!ensure_capacity(ecs, ecs->count + 1U)) {
source\domino\sim\_legacy\core_sim\ecs.c:58:    ent = &ecs->entities[ecs->count++];
source\domino\sim\_legacy\core_sim\ecs.c:59:    ent->id = ecs->next_id++;
source\domino\sim\_legacy\core_sim\ecs.c:61:        ent->pos = *pos;
source\domino\sim\_legacy\core_sim\ecs.c:63:        memset(&ent->pos, 0, sizeof(ent->pos));
source\domino\sim\_legacy\core_sim\ecs.c:65:    return ent->id;
source\domino\sim\_legacy\core_sim\ecs.c:72:    for (i = 0; i < ecs->count; ++i) {
source\domino\sim\_legacy\core_sim\ecs.c:73:        if (ecs->entities[i].id == id) {
source\domino\sim\_legacy\core_sim\ecs.c:74:            u32 tail = ecs->count - 1U;
source\domino\sim\_legacy\core_sim\ecs.c:76:                memmove(&ecs->entities[i], &ecs->entities[i + 1], sizeof(Entity) * (tail - i));
source\domino\sim\_legacy\core_sim\ecs.c:78:            ecs->count--;
source\domino\sim\_legacy\core_sim\ecs.c:89:    for (i = 0; i < ecs->count; ++i) {
source\domino\sim\_legacy\core_sim\ecs.c:90:        if (ecs->entities[i].id == id) {
source\domino\sim\_legacy\core_sim\ecs.c:91:            return &ecs->entities[i];
source\domino\sim\_legacy\core_sim\ecs.c:102:    for (i = 0; i < ecs->count; ++i) {
source\domino\sim\_legacy\core_sim\ecs.c:103:        simpos_normalise(&ecs->entities[i].pos);
source\domino\sim\_legacy\core_sim\world_addr.c:12:        seg_accum = (seg_accum - 1) & 0xFF;
source\domino\sim\_legacy\core_sim\world_addr.c:15:        value -= span;
source\domino\sim\_legacy\core_sim\world_addr.c:25:    wrap_axis((i64)(i32)pos->x, &pos->sx, &pos->x);
source\domino\sim\_legacy\core_sim\world_addr.c:26:    wrap_axis((i64)(i32)pos->y, &pos->sy, &pos->y);
source\domino\sim\_legacy\core_sim\world_addr.c:28:    if (pos->z < fix32_from_int(WORLD_Z_MIN_METERS)) {
source\domino\sim\_legacy\core_sim\world_addr.c:29:        pos->z = fix32_from_int(WORLD_Z_MIN_METERS);
source\domino\sim\_legacy\core_sim\world_addr.c:30:    } else if (pos->z >= fix32_from_int(WORLD_Z_MAX_METERS)) {
source\domino\sim\_legacy\core_sim\world_addr.c:31:        pos->z = fix32_from_int(WORLD_Z_MAX_METERS - 1);
source\domino\sim\_legacy\core_sim\world_addr.c:40:    raw_x = (i64)(u32)pos->x + (i64)(i32)dx;
source\domino\sim\_legacy\core_sim\world_addr.c:41:    raw_y = (i64)(u32)pos->y + (i64)(i32)dy;
source\domino\sim\_legacy\core_sim\world_addr.c:42:    wrap_axis(raw_x, &pos->sx, &pos->x);
source\domino\sim\_legacy\core_sim\world_addr.c:43:    wrap_axis(raw_y, &pos->sy, &pos->y);
source\domino\sim\_legacy\core_sim\world_addr.c:45:    pos->z = pos->z + dz;
source\domino\sim\_legacy\core_sim\world_addr.c:46:    if (pos->z < fix32_from_int(WORLD_Z_MIN_METERS)) {
source\domino\sim\_legacy\core_sim\world_addr.c:47:        pos->z = fix32_from_int(WORLD_Z_MIN_METERS);
source\domino\sim\_legacy\core_sim\world_addr.c:48:    } else if (pos->z >= fix32_from_int(WORLD_Z_MAX_METERS)) {
source\domino\sim\_legacy\core_sim\world_addr.c:49:        pos->z = fix32_from_int(WORLD_Z_MAX_METERS - 1);
source\domino\sim\_legacy\core_sim\world_addr.c:56:    return (i32)(((u32)pos->x) >> 16);
source\domino\sim\_legacy\core_sim\world_addr.c:62:    return (i32)(((u32)pos->y) >> 16);
source\domino\sim\_legacy\core_sim\world_addr.c:75:    raw_x = (u32)pos->x;
source\domino\sim\_legacy\core_sim\world_addr.c:76:    raw_y = (u32)pos->y;
source\domino\sim\_legacy\core_sim\world_addr.c:80:    out_key->gx = ((i32)pos->sx << 12) + (local_x_m >> 4);
source\domino\sim\_legacy\core_sim\world_addr.c:81:    out_key->gy = ((i32)pos->sy << 12) + (local_y_m >> 4);
source\domino\sim\_legacy\core_sim\world_addr.c:83:    z_m = fix32_to_int(pos->z);
source\domino\sim\_legacy\core_sim\world_addr.c:85:    if (z_m >= WORLD_Z_MAX_METERS) z_m = WORLD_Z_MAX_METERS - 1;
source\domino\sim\_legacy\core_sim\world_addr.c:86:    z_offset = z_m - WORLD_Z_MIN_METERS;
source\domino\sim\_legacy\core_sim\world_addr.c:87:    out_key->gz = z_offset / CHUNK_SIZE_METERS;
source\domino\sim\_legacy\core_sim\world_addr.c:92:        u32 frac_z = ((u32)pos->z & 0xFFFFU) >> 4;
source\domino\sim\_legacy\core_sim\world_addr.c:93:        u32 lx_m = (u32)(local_x_m & (CHUNK_SIZE_METERS - 1));
source\domino\sim\_legacy\core_sim\world_addr.c:94:        u32 ly_m = (u32)(local_y_m & (CHUNK_SIZE_METERS - 1));
source\domino\sim\_legacy\core_sim\world_addr.c:95:        u32 lz_m = (u32)(z_offset & (CHUNK_SIZE_METERS - 1));
source\domino\sim\_legacy\core_sim\world_addr.c:96:        out_local->chunk_x = (u16)out_key->gx;
source\domino\sim\_legacy\core_sim\world_addr.c:97:        out_local->chunk_y = (u16)out_key->gy;
source\domino\sim\_legacy\core_sim\world_addr.c:98:        out_local->chunk_z = (u16)out_key->gz;
source\domino\sim\_legacy\core_sim\world_addr.c:99:        out_local->lx = (fix16)((lx_m << 12) | frac_x);
source\domino\sim\_legacy\core_sim\world_addr.c:100:        out_local->ly = (fix16)((ly_m << 12) | frac_y);
source\domino\sim\_legacy\core_sim\world_addr.c:101:        out_local->lz = (fix16)((lz_m << 12) | frac_z);
source\domino\sim\_legacy\core_sim\world_addr.c:117:    chunk_local_x = (u32)key->gx & 0xFFFU;
source\domino\sim\_legacy\core_sim\world_addr.c:118:    chunk_local_y = (u32)key->gy & 0xFFFU;
source\domino\sim\_legacy\core_sim\world_addr.c:122:        meter_x += (u32)(local->lx >> 12);
source\domino\sim\_legacy\core_sim\world_addr.c:123:        meter_y += (u32)(local->ly >> 12);
source\domino\sim\_legacy\core_sim\world_addr.c:124:        frac_x = ((u32)local->lx & 0x0FFFU) << 4;
source\domino\sim\_legacy\core_sim\world_addr.c:125:        frac_y = ((u32)local->ly & 0x0FFFU) << 4;
source\domino\sim\_legacy\core_sim\world_addr.c:126:        frac_z = ((u32)local->lz & 0x0FFFU) << 4;
source\domino\sim\_legacy\core_sim\world_addr.c:128:    out_pos->sx = (SegmentIndex)(((u32)key->gx >> 12) & 0xFFU);
source\domino\sim\_legacy\core_sim\world_addr.c:129:    out_pos->sy = (SegmentIndex)(((u32)key->gy >> 12) & 0xFFU);
source\domino\sim\_legacy\core_sim\world_addr.c:130:    out_pos->x = (fix32)((meter_x << 16) | frac_x);
source\domino\sim\_legacy\core_sim\world_addr.c:131:    out_pos->y = (fix32)((meter_y << 16) | frac_y);
source\domino\sim\_legacy\core_sim\world_addr.c:133:    z_base = key->gz * CHUNK_SIZE_METERS;
source\domino\sim\_legacy\core_sim\world_addr.c:135:        z_base += (i32)(local->lz >> 12);
source\domino\sim\_legacy\core_sim\world_addr.c:138:    out_pos->z = fix32_from_int(z_base);
source\domino\sim\_legacy\core_sim\world_addr.c:139:    out_pos->z = out_pos->z + (fix32)frac_z;
source\domino\system\core\base\dom_core\dom_core_types.h:4:/* C89-friendly integer aliases (long long used as an extension for 64-bit) */
source\domino\system\core\base\dom_core\dom_core_types.h:11:/* 64-bit integers: prefer compiler-specific types to stay C89-compatible. */
source\domino\system\core\base\dom_core\dom_core_types.h:18:#pragma GCC diagnostic ignored "-Wlong-long"
source\domino\system\core\base\dom_core\dom_core_types.h:29:/* Fixed-point simulation types */
source\domino\system\core\base\dom_core\dom_core_types.h:36:/* Compile-time assertion (C89-compatible) */
source\domino\system\core\base\dom_core\dom_core_types.h:37:#define DOM_STATIC_ASSERT(cond, name) typedef char dom_static_assert_##name[(cond) ? 1 : -1]
source\domino\sim\_legacy\core_sim\registry_volume.c:11:        reg->volumes = (VolumeDesc *)malloc(sizeof(VolumeDesc) * capacity);
source\domino\sim\_legacy\core_sim\registry_volume.c:12:        if (reg->volumes) {
source\domino\sim\_legacy\core_sim\registry_volume.c:13:            reg->capacity = capacity;
source\domino\sim\_legacy\core_sim\registry_volume.c:21:    if (reg->volumes) {
source\domino\sim\_legacy\core_sim\registry_volume.c:22:        free(reg->volumes);
source\domino\sim\_legacy\core_sim\registry_volume.c:23:        reg->volumes = NULL;
source\domino\sim\_legacy\core_sim\registry_volume.c:25:    reg->capacity = 0;
source\domino\sim\_legacy\core_sim\registry_volume.c:26:    reg->count = 0;
source\domino\sim\_legacy\core_sim\registry_volume.c:33:    if (reg->count >= reg->capacity) {
source\domino\sim\_legacy\core_sim\registry_volume.c:34:        u16 new_cap = (reg->capacity == 0) ? 4U : (u16)(reg->capacity * 2U);
source\domino\sim\_legacy\core_sim\registry_volume.c:35:        VolumeDesc *new_arr = (VolumeDesc *)realloc(reg->volumes, sizeof(VolumeDesc) * new_cap);
source\domino\sim\_legacy\core_sim\registry_volume.c:39:        reg->volumes = new_arr;
source\domino\sim\_legacy\core_sim\registry_volume.c:40:        reg->capacity = new_cap;
source\domino\sim\_legacy\core_sim\registry_volume.c:42:    slot = &reg->volumes[reg->count];
source\domino\sim\_legacy\core_sim\registry_volume.c:44:    slot->id = reg->count;
source\domino\sim\_legacy\core_sim\registry_volume.c:45:    reg->count++;
source\domino\sim\_legacy\core_sim\registry_volume.c:46:    return slot->id;
source\domino\sim\_legacy\core_sim\registry_volume.c:52:    if (id >= reg->count) return NULL;
source\domino\sim\_legacy\core_sim\registry_volume.c:53:    return &reg->volumes[id];
source\domino\sim\_legacy\core_sim\dom_sim_tick.c:72:    if (h->phase_fn) {
source\domino\sim\_legacy\core_sim\dom_sim_tick.c:73:        h->phase_fn(h->user);
source\domino\sim\_legacy\core_sim\dom_sim_tick.c:75:    if (h->lane_fn) {
source\domino\sim\_legacy\core_sim\dom_sim_tick.c:77:            h->lane_fn((DomLaneId)lane, h->user);
source\domino\sim\replay\serialize\save_tlv.c:14:    return fseek(f, (long)hdr->length, SEEK_CUR) == 0;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:6:    t->tick = 0;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:7:    t->target_ups = target_ups;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:8:    t->effective_ups = target_ups;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:14:    t->tick = start_tick;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:20:    t->effective_ups = ups;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:25:    return t ? t->tick : 0;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:30:    return t ? t->target_ups : 0;
source\domino\sim\_legacy\core_sim\dom_sim_time.c:35:    return t ? t->effective_ups : 0;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:20:        memset(&world->surfaces[i], 0, sizeof(DomSurfaceMeta));
source\domino\sim\_legacy\core_sim\dom_sim_world.c:22:    world->surface_count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:23:    world->default_surface = 0;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:31:    if (world->surface_count >= DOM_SIM_WORLD_MAX_SURFACES) return DOM_ERR_BOUNDS;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:33:    meta.id = (dom_surface_id)(world->surface_count + 1);
source\domino\sim\_legacy\core_sim\dom_sim_world.c:39:    world->surfaces[world->surface_count] = meta;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:40:    world->surface_count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:41:    world->default_surface = meta.id;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:52:    w->cfg = *cfg;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:113:    return world ? world->surface_count : 0;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:118:    return world ? world->default_surface : 0;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:129:    if (world->surface_count >= DOM_SIM_WORLD_MAX_SURFACES) return DOM_ERR_BOUNDS;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:130:    index = world->surface_count;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:134:    dst.origin_x = meta->origin_x;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:135:    dst.origin_y = meta->origin_y;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:136:    dst.radius_m = meta->radius_m;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:137:    dst.flags = meta->flags;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:138:    world->surfaces[index] = dst;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:139:    world->surface_count = index + 1;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:140:    if (world->default_surface == 0) {
source\domino\sim\_legacy\core_sim\dom_sim_world.c:141:        world->default_surface = dst.id;
source\domino\sim\_legacy\core_sim\dom_sim_world.c:153:    for (i = 0; i < world->surface_count; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_world.c:154:        if (world->surfaces[i].id == id) {
source\domino\sim\_legacy\core_sim\dom_sim_world.c:155:            return &world->surfaces[i];
source\domino\sim\_legacy\core_sim\dom_sim_world.c:168:    *out_surface = world->default_surface;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:51:    r->buffer = storage;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:52:    r->capacity = cap;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:53:    r->head = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:54:    r->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:55:    r->overflowed = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:61:    r->head = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:62:    r->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:63:    r->overflowed = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:70:    if (r->capacity == 0) return;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:71:    if (r->count == r->capacity) {
source\domino\sim\_legacy\core_sim\dom_sim_events.c:72:        r->head = (r->head + 1) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:73:        r->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:74:        r->overflowed = 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:76:    tail = (r->head + r->count) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:77:    r->buffer[tail] = *msg;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:78:    r->count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:84:    if (r->count == 0) return 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:85:    *out_msg = r->buffer[r->head];
source\domino\sim\_legacy\core_sim\dom_sim_events.c:86:    r->head = (r->head + 1) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:87:    r->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:94:    r->buffer = storage;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:95:    r->capacity = cap;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:96:    r->head = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:97:    r->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:98:    r->overflowed = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:104:    r->head = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:105:    r->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:106:    r->overflowed = 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:113:    if (r->capacity == 0) return;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:114:    if (r->count == r->capacity) {
source\domino\sim\_legacy\core_sim\dom_sim_events.c:115:        r->head = (r->head + 1) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:116:        r->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:117:        r->overflowed = 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:119:    tail = (r->head + r->count) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:120:    r->buffer[tail] = *cmd;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:121:    r->count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:127:    if (r->count == 0) return 0;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:128:    *out_cmd = r->buffer[r->head];
source\domino\sim\_legacy\core_sim\dom_sim_events.c:129:    r->head = (r->head + 1) % r->capacity;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:130:    r->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_events.c:249:    /* No-op placeholder: cross-lane queues are already collected for next tick. */
source\domino\sim\replay\serialize\save_region.c:36:        entries[i].key = chunk->key;
source\domino\sim\_legacy\core_sim\dom_sim_tick.h:32:    dom_u32 reserved[6];          /* future-proofing */
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:28:    q->buffer = storage;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:29:    q->capacity = capacity;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:30:    q->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:36:    q->count = 0;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:41:    if (a->priority != b->priority) return a->priority < b->priority;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:42:    if (a->job_type != b->job_type) return a->job_type < b->job_type;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:43:    if (a->requester != b->requester) return a->requester < b->requester;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:44:    if (a->tick_created != b->tick_created) return a->tick_created < b->tick_created;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:45:    if (worker != 0 && b->assignee != worker && a->assignee == worker) return 1;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:46:    if (worker != 0 && a->assignee != worker && b->assignee == worker) return 0;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:47:    return a->assignee < b->assignee;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:55:    pos = q->count;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:56:    for (i = 0; i < q->count; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:57:        if (dom_sim_job_precedes(job, &q->buffer[i], 0)) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:62:    if (pos < q->count) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:63:        if (q->count < q->capacity) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:64:            memmove(&q->buffer[pos + 1], &q->buffer[pos], (q->count - pos) * sizeof(DomSimJob));
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:65:            q->buffer[pos] = *job;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:66:            q->count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:70:            memmove(&q->buffer[pos + 1], &q->buffer[pos], (q->count - pos - 1) * sizeof(DomSimJob));
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:71:            q->buffer[pos] = *job;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:75:    if (q->count < q->capacity) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:76:        q->buffer[q->count] = *job;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:77:        q->count += 1;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:87:    if (q->count == 0) return 0;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:88:    *out_job = q->buffer[0];
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:89:    if (q->count > 1) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:90:        memmove(&q->buffer[0], &q->buffer[1], (q->count - 1) * sizeof(DomSimJob));
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:92:    q->count -= 1;
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:94:    for (i = q->count; i < q->count + 1 && i < q->capacity; ++i) {
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:95:        memset(&q->buffer[i], 0, sizeof(DomSimJob));
source\domino\sim\_legacy\core_sim\dom_sim_jobs.c:207:    out_job->assignee = worker_entity;
